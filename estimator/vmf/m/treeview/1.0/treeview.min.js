if(null==treelistDataObj)var treelistDataObj=[];!function(e){function a(a,l,t,i){e.getJSON(a.url,{id:l},function(a){function s(a){var t="";""!=this.id&&(t=new String(this.id),t=t.split(" ").join(""));var i;if(i="-1"==l?e("<li/>").attr("id","node_"+this.id||"").attr("name","pf_node_"+t||"").html("<span id='cell_"+this.id+"' name='cell_"+t+"' onclick='$(this).leafSelection()'>"+this.text+"</span>").appendTo(a):e("<li/>").attr("id","node_"+this.id||"").attr("name","node_"+t||"").html("<span id='cell_"+this.id+"' name='cell_"+t+"' onclick='$(this).leafSelection()'>"+this.text+"</span>").appendTo(a),this.classes&&i.children("span").addClass(this.classes),this.expanded&&i.addClass("open"),this.hasChildren||this.children&&this.children.length){var n=e("<ul/>").appendTo(i);this.hasChildren&&(i.addClass("hasChildren"),s.call({text:"loading...",id:"placeholder",children:[]},n)),this.children&&this.children.length&&e.each(this.children,s,[n])}}function n(a){var l=[];if(null!=a)for(var t=a.length,i=0,s=0;t>s;++s)for(var n=0;n<a[s].children.length;++n)if(null!=a[s].children&&null!=a[s].children[n])for(var r=0;r<a[s].children[n].children.length;++r){var d=a[s].children[n].children[r].id;l[d]=a[s].children[n].children[r],l[d].subNode=a[s].children[n].text,l[d].rootNode=e("#node_"+d).parent("ul").parent("li").parent("ul").parent("li").parent("ul").parent("li").children("span").text(),++i}return l}e.each(a,s,[t]),e.extend(treelistDataObj,n(a)),e(i).treeview({add:t}),e(".treeview").find("li").children("div").next("span").css("color","#4BA1CF"),e(".treeview").children("li").children("div").next("span").css("color","#666666")})}var l=null;e.fn.leafSelection=function(){if(void 0!=e(this).attr("id")&&(1==e(this).parent().hasClass("last")||""==e(this).parent().attr("class"))){if(null!=l){var a=l.split("_")[1];e("#node_"+a).removeClass("highlight")}l=e(this).attr("id"),e(this).parent().addClass("highlight")}},e.fn.getSelectedData=function(){if(null==l)return"NO_ITEM_SELECTED";var a=l.split("_")[1];return null!=e.toJSON&&null!=treelistDataObj[a]?e.toJSON(treelistDataObj[a]):null!=treelistDataObj[a]?treelistDataObj[a]:void 0};var t=e.fn.treeview;e.fn.treeview=function(l){if(!l.url)return t.apply(this,arguments);var i=this;a(l,"-1",this,i);var s=l.toggle;return t.call(this,e.extend({},l,{collapsed:!0,toggle:function(){var t=e(this);if(t.hasClass("hasChildren")){var n=t.removeClass("hasChildren").find("ul");n.empty(),a(l,this.id,n,i)}s&&s.apply(this,arguments)}}))}}(jQuery),vmf.TreeList=function(e){return{build:function(a,l){e("#"+a).treeview(l)},getSelectedData:function(){return e.fn.getSelectedData()}}}(jQuery),function(e){e.extend(e.fn,{swapClass:function(e,a){var l=this.filter("."+e);return this.filter("."+a).removeClass(a).addClass(e),l.removeClass(e).addClass(a),this},replaceClass:function(e,a){return this.filter("."+e).removeClass(e).addClass(a).end()},hoverClass:function(a){return a=a||"hover",this.hover(function(){e(this).addClass(a)},function(){e(this).removeClass(a)})},heightToggle:function(e,a){e?this.animate({height:"toggle"},e,a):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"](),a&&a.apply(this,arguments)})},heightHide:function(e,a){e?this.animate({height:"hide"},e,a):(this.hide(),a&&this.each(a))},prepareBranches:function(e){return e.prerendered||(this.filter(":last-child:not(ul)").addClass(a.last),this.filter((e.collapsed?"":"."+a.closed)+":not(."+a.open+")").find(">ul").hide()),this.filter(":has(>ul)")},applyClasses:function(l,t){this.filter(":has(>ul):not(:has(>a))").find(">span").click(function(a){t.apply(e(this).next())}).add(e("a",this)).hoverClass(),l.prerendered||(this.filter(":has(>ul:hidden)").addClass(a.expandable).replaceClass(a.last,a.lastExpandable),this.not(":has(>ul:hidden)").addClass(a.collapsable).replaceClass(a.last,a.lastCollapsable),this.prepend('<div class="'+a.hitarea+'"/>').find("div."+a.hitarea).each(function(){var a="";e.each(e(this).parent().attr("class").split(" "),function(){a+=this+"-hitarea "}),e(this).addClass(a)})),this.find("div."+a.hitarea).click(t)},treeview:function(l){function t(l,t){function s(t){return function(){return i.apply(e("div."+a.hitarea,l).filter(function(){return t?e(this).parent("."+t).length:!0})),!1}}e("a:eq(0)",t).click(s(a.collapsable)),e("a:eq(1)",t).click(s(a.expandable)),e("a:eq(2)",t).click(s())}function i(){e(this).parent().find(">.hitarea").swapClass(a.collapsableHitarea,a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea).end().swapClass(a.collapsable,a.expandable).swapClass(a.lastCollapsable,a.lastExpandable).find(">ul").heightToggle(l.animated,l.toggle),l.unique&&e(this).parent().siblings().find(">.hitarea").replaceClass(a.collapsableHitarea,a.expandableHitarea).replaceClass(a.lastCollapsableHitarea,a.lastExpandableHitarea).end().replaceClass(a.collapsable,a.expandable).replaceClass(a.lastCollapsable,a.lastExpandable).find(">ul").heightHide(l.animated,l.toggle)}function s(){var a=[];d.each(function(l,t){a[l]=e(t).is(":has(>ul:visible)")?1:0}),e.cookie(l.cookieId,a.join(""))}function n(){var a=e.cookie(l.cookieId);if(a){var t=a.split("");d.each(function(a,l){e(l).find(">ul")[parseInt(t[a])?"show":"hide"]()})}}if(l=e.extend({cookieId:"treeview"},l),l.add)return this.trigger("add",[l.add]);if(l.toggle){var r=l.toggle;l.toggle=function(){return r.apply(e(this).parent()[0],arguments)}}this.addClass("treeview");var d=this.find("li").prepareBranches(l);switch(l.persist){case"cookie":var h=l.toggle;l.toggle=function(){s(),h&&h.apply(this,arguments)},n();break;case"location":var o=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()});o.length&&o.addClass("selected").parents("ul, li").add(o.next()).show()}return d.applyClasses(l,i),l.control&&(t(this,l.control),e(l.control).show()),this.bind("add",function(t,s){e(s).prev().removeClass(a.last).removeClass(a.lastCollapsable).removeClass(a.lastExpandable).find(">.hitarea").removeClass(a.lastCollapsableHitarea).removeClass(a.lastExpandableHitarea),e(s).find("li").andSelf().prepareBranches(l).applyClasses(l,i)})}});var a=e.fn.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"};e.fn.Treeview=e.fn.treeview}(jQuery);