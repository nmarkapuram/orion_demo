function initAngularDataTables(e){$.fn.DataTable.Api&&$.fn.DataTable.Api.register("ngDestroy()",function(t){return t=t||!1,this.iterator("table",function(a){var n,r=a.nTableWrapper.parentNode,o=a.oClasses,i=a.nTable,s=a.nTBody,l=a.nTHead,d=a.nTFoot,c=$(i),f=$(s),u=$(a.nTableWrapper),p=$.map(a.aoData,function(e){return e.nTr});if(a.bDestroying=!0,$.fn.DataTable.ext.internal._fnCallbackFire(a,"aoDestroyCallback","destroy",[a]),t||new $.fn.DataTable.Api(a).columns().visible(!0),u.unbind(".DT").find(":not(tbody *)").unbind(".DT"),$(window).unbind(".DT-"+a.sInstance),i!==l.parentNode&&(c.children("thead").detach(),c.append(l)),d&&i!==d.parentNode&&(c.children("tfoot").detach(),c.append(d)),c.detach(),u.detach(),a.aaSorting=[],a.aaSortingFixed=[],$.fn.DataTable.ext.internal._fnSortingClasses(a),$(p).removeClass(a.asStripeClasses.join(" ")),$("th, td",l).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),a.bJUI&&($("th span."+o.sSortIcon+", td span."+o.sSortIcon,l).detach(),$("th, td",l).each(function(){var e=$("div."+o.sSortJUIWrapper,this);$(this).append(e.contents()),e.detach()})),!t&&r)try{r.insertBefore(i,a.nTableReinsertBefore)}catch(h){e.warn(h),r.appendChild(i)}c.css("width",a.sDestroyWidth).removeClass(o.sTable),n=a.asDestroyStripes.length,n&&f.children().each(function(e){$(this).addClass(a.asDestroyStripes[e%n])});var m=$.inArray(a,$.fn.DataTable.settings);-1!==m&&$.fn.DataTable.settings.splice(m,1)})})}function dtPropertyUtil(e){function t(e,a){var n=angular.copy(e);if((angular.isUndefined(n)||null===n)&&(n={}),angular.isUndefined(a)||null===a)return n;if(angular.isObject(a))for(var r in a)a.hasOwnProperty(r)&&(n[r]=t(n[r],a[r]));else n=angular.copy(a);return n}function a(e,t){angular.isObject(e)&&delete e[t]}function n(t,a){var n=e.defer(),o=[],i={},s=a||[];if(!angular.isObject(t)||angular.isArray(t))n.resolve(t);else{i=angular.extend(i,t);for(var l in i)i.hasOwnProperty(l)&&-1===$.inArray(l,s)&&(angular.isArray(i[l])?o.push(r(i[l])):o.push(e.when(i[l])));e.all(o).then(function(e){var t=0;for(var a in i)i.hasOwnProperty(a)&&-1===$.inArray(a,s)&&(i[a]=e[t++]);n.resolve(i)})}return n.promise}function r(t){var a=e.defer(),r=[],o=[];return angular.isArray(t)?(angular.forEach(t,function(t){angular.isObject(t)?r.push(n(t)):r.push(e.when(t))}),e.all(r).then(function(e){angular.forEach(e,function(e){o.push(e)}),a.resolve(o)})):a.resolve(t),a.promise}return{overrideProperties:t,deleteProperty:a,resolveObjectPromises:n,resolveArrayPromises:r}}function dtDefaultOptions(){function e(e){return $.extend($.fn.dataTable.defaults,{oLanguage:{sUrl:e}}),r}function t(e){return $.extend(!0,$.fn.dataTable.defaults,{oLanguage:e}),r}function a(e){return $.extend($.fn.dataTable.defaults,{iDisplayLength:e}),r}function n(e){return r.bootstrapOptions=e,r}var r={bootstrapOptions:{},setLanguageSource:e,setLanguage:t,setDisplayLength:a,setBootstrapOptions:n};return r}function dtInstances(e){function t(t,a){return t.id=a.id,t.DataTable=a.DataTable,t.dataTable=a.dataTable,r[t.id]=t,i=t,s.resolve(r),o.resolve(i),s=e.defer(),o=e.defer(),s.resolve(r),o.resolve(i),t}function a(){var t=e.defer();return o.promise.then(function(e){t.resolve(e)}),t.promise}function n(){var t=e.defer();return s.promise.then(function(e){t.resolve(e)}),t.promise}var r={},o=e.defer(),i=null,s=e.defer();return{register:t,getLast:a,getList:n}}function dtInstanceFactory(){function e(e){var t=Object.create(r);return t._renderer=e,t}function t(){this._renderer.reloadData()}function a(e){this._renderer.changeData(e)}function n(){this._renderer.rerender()}var r={reloadData:t,changeData:a,rerender:n};return{newDTInstance:e}}function dtOptionsBuilder(){var e={hasOverrideDom:!1,withOption:function(e,t){return angular.isString(e)&&(this[e]=t),this},withSource:function(e){return this.ajax=e,this},withDataProp:function(e){return this.sAjaxDataProp=e,this},withFnServerData:function(e){if(!angular.isFunction(e))throw new Error("The parameter must be a function");return this.fnServerData=e,this},withPaginationType:function(e){if(!angular.isString(e))throw new Error("The pagination type must be provided");return this.sPaginationType=e,this},withLanguage:function(e){return this.language=e,this},withLanguageSource:function(e){return this.withLanguage({url:e})},withDisplayLength:function(e){return this.iDisplayLength=e,this},withFnPromise:function(e){return this.fnPromise=e,this},withDOM:function(e){return this.dom=e,this}};return{newOptions:function(){return Object.create(e)},fromSource:function(t){var a=Object.create(e);return a.ajax=t,a},fromFnPromise:function(t){var a=Object.create(e);return a.fnPromise=t,a}}}function dtColumnBuilder(){var e={withOption:function(e,t){return angular.isString(e)&&(this[e]=t),this},withTitle:function(e){return this.sTitle=e,this},withClass:function(e){return this.sClass=e,this},notVisible:function(){return this.bVisible=!1,this},notSortable:function(){return this.bSortable=!1,this},notSearchable:function(){return this.bSearchable=!1,this},renderWith:function(e){return this.mRender=e,this}};return{newColumn:function(t,a){if(angular.isUndefined(t))throw new Error('The parameter "mData" is not defined!');var n=Object.create(e);return n.mData=t,n.sTitle=a||"",n},DTColumn:e}}function dtColumnDefBuilder(e){return{newColumnDef:function(t){if(angular.isUndefined(t))throw new Error('The parameter "targets" must be defined! See https://datatables.net/reference/option/columnDefs.targets');var a=Object.create(e.DTColumn);return angular.isArray(t)?a.aTargets=t:a.aTargets=[t],a}}}function dtLoadingTemplate(){return{html:'<h3 class="dt-loading">Loading...</h3>'}}function dtRendererService(e){function t(){return d}function a(e){e.after(d),e.hide(),d.show()}function n(e){e.show(),d.hide()}function r(e,t){var a="#"+e.attr("id");$.fn.dataTable.isDataTable(a)&&angular.isObject(t)&&(t.destroy=!0);var n=e.DataTable(t),r=e.dataTable(),o={id:e.attr("id"),DataTable:n,dataTable:r};return s(t,o),o}function o(e,t){return f.hideLoading(e),f.renderDataTable(e,t)}function i(e){c.push(e)}function s(e,t){angular.forEach(c,function(a){angular.isFunction(a.postRender)&&a.postRender(e,t)})}function l(e){angular.forEach(c,function(t){angular.isFunction(t.preRender)&&t.preRender(e)})}var d=angular.element(e.html),c=[],f={getLoadingElem:t,showLoading:a,hideLoading:n,renderDataTable:r,hideLoadingAndRenderDataTable:o,registerPlugin:i,postRender:s,preRender:l};return f}function dtRenderer(){return{withOptions:function(e){return this.options=e,this}}}function dtDefaultRenderer(e,t,a,n,r){function o(o){function i(t){f=t;var o=n.newDTInstance(u),i=a.hideLoadingAndRenderDataTable(t,u.options);return c=i.DataTable,e.when(r.register(o,i))}function s(){}function l(){}function d(){c.destroy(),a.showLoading(f),i(f)}var c,f,u=Object.create(t);return u.name="DTDefaultRenderer",u.options=o,u.render=i,u.reloadData=s,u.changeData=l,u.rerender=d,u}return{create:o}}function dtNGRenderer(e,t,a,n,r,o,i,s){function l(l){function d(e,a,r){h=r,g=e,v=a.$parent,b=s.newDTInstance(y);var l=t.defer(),d=e.find("tbody").html(),c=d.match(/^\s*.+?\s+in\s+(\S*)\s*/),f=c[1];if(!c)throw new Error('Expected expression in form of "_item_ in _collection_[ track by _id_]" but got "{0}".',d);var u=!1;return v.$watchCollection(f,function(){m&&u&&p(),n(function(){u=!0;var e=o.hideLoadingAndRenderDataTable(g,y.options);m=e.DataTable,l.resolve(i.register(b,e))},0,!1)},!0),l.promise}function c(){e.warn("The Angular Renderer does not support reloading data. You need to do it directly on your model")}function f(){e.warn("The Angular Renderer does not support changing the data. You need to change your model directly.")}function u(){p(),o.showLoading(g),n(function(){var e=o.hideLoadingAndRenderDataTable(g,y.options);m=e.DataTable,b=i.register(b,e)},0,!1)}function p(){m.ngDestroy(),g.html(h),a(g.contents())(v)}var h,m,g,v,b,y=Object.create(r);return y.name="DTNGRenderer",y.options=l,y.render=d,y.reloadData=c,y.changeData=f,y.rerender=u,y}return{create:l}}function dtPromiseRenderer(e,t,a,n,r,o,i){function s(s){function l(t){var a=e.defer();return b=i.newDTInstance(C),v=t,u(C.options.fnPromise,r.renderDataTable).then(function(e){g=e.DataTable,a.resolve(o.register(b,e))}),a.promise}function d(){angular.isFunction(C.options.fnPromise)?u(C.options.fnPromise,m):a.warn("In order to use the reloadData functionality with a Promise renderer, you need to provide a function that returns a promise.")}function c(e){C.options.fnPromise=e,u(C.options.fnPromise,m)}function f(){g.destroy(),r.showLoading(v),l(v)}function u(t,a){var n=e.defer();if(angular.isUndefined(t))throw new Error("You must provide a promise or a function that returns a promise!");return y?y.then(function(){n.resolve(p(t,a))}):n.resolve(p(t,a)),n.promise}function p(t,a){var n=e.defer();return y=angular.isFunction(t)?t():t,y.then(function(e){var t=e;if(C.options.sAjaxDataProp)for(var r=C.options.sAjaxDataProp.split(".");r.length;){var o=r.shift();o in t&&(t=t[o])}y=null,n.resolve(h(C.options,v,t,a))}),n.promise}function h(a,n,o,i){var s=e.defer();return delete o.$promise,a.aaData=o,t(function(){r.hideLoading(n),a.bDestroy=!0,s.resolve(i(n,a))},0,!1),s.promise}function m(){return g.clear(),g.rows.add(s.aaData).draw(),{id:b.id,DataTable:b.DataTable,dataTable:b.dataTable}}var g,v,b,y=null,C=Object.create(n);return C.name="DTPromiseRenderer",C.options=s,C.render=l,C.reloadData=d,C.changeData=c,C.rerender=f,C}return{create:s}}function dtAjaxRenderer(e,t,a,n,r,o,i){function s(s){function l(t){m=t;var a=e.defer(),n=i.newDTInstance(g);return angular.isUndefined(g.options.sAjaxDataProp)&&(g.options.sAjaxDataProp=r.sAjaxDataProp),angular.isUndefined(g.options.aoColumns)&&(g.options.aoColumns=r.aoColumns),u(g.options,t).then(function(e){h=e.DataTable,a.resolve(o.register(n,e))}),a.promise}function d(){if(h){var e=g.options.ajax.url||g.options.ajax;h.ajax.url(e).load()}}function c(e){g.options.ajax=e,g.reloadData()}function f(){h.destroy(),n.showLoading(m),l(m)}function u(a,r){var o=e.defer();return a.bDestroy=!0,n.hideLoading(r),p(a)?t(function(){o.resolve(n.renderDataTable(r,a))},0,!1):o.resolve(n.renderDataTable(r,a)),o.promise}function p(e){return angular.isDefined(e)&&angular.isDefined(e.dom)?e.dom.indexOf("S")>=0:!1}var h,m,g=Object.create(a);return g.name="DTAjaxRenderer",g.options=s,g.render=l,g.reloadData=d,g.changeData=c,g.rerender=f,g}return{create:s}}function dtRendererFactory(e,t,a,n){function r(r,o){return o?t.create(r):angular.isDefined(r)?angular.isDefined(r.fnPromise)&&null!==r.fnPromise?a.create(r):angular.isDefined(r.ajax)&&null!==r.ajax||angular.isDefined(r.ajax)&&null!==r.ajax?n.create(r):e.create(r):e.create()}return{fromOptions:r}}function dataTable(e,t,a,n,r){function o(e){var t=e[0].innerHTML;return function(e,a,r,o){function i(e,n){e!==n&&o.render(a,o.buildOptionsPromise(),t)}var s=r.dtDisableDeepWatchers?"$watchCollection":"$watch";angular.forEach(["dtColumns","dtColumnDefs","dtOptions"],function(t){e[s].call(e,t,i,!0)}),n.showLoading(a),o.render(a,o.buildOptionsPromise(),t)}}function i(o){function i(){var a=e.defer();return e.all([e.when(o.dtOptions),e.when(o.dtColumns),e.when(o.dtColumnDefs)]).then(function(a){var n=a[0],o=a[1],i=a[2];r.deleteProperty(n,"$promise"),r.deleteProperty(o,"$promise"),r.deleteProperty(i,"$promise");var s;if(angular.isDefined(n)&&(s={},angular.extend(s,n),angular.isArray(o)&&(s.aoColumns=o),angular.isArray(i)&&(s.aoColumnDefs=i),s.language&&s.language.url)){var l=e.defer();t.get(s.language.url).success(function(e){l.resolve(e)}),s.language=l.promise}return r.resolveObjectPromises(s,["data","aaData","fnPromise"])}).then(function(e){a.resolve(e)}),a.promise}function s(e,t,r){t.then(function(t){n.preRender(t);var i=o.datatable&&"ng"===o.datatable;l&&l._renderer?l._renderer.withOptions(t).render(e,o,r).then(function(e){l=e}):a.fromOptions(t,i).render(e,o,r).then(function(e){l=e})})}var l,d=this;d.buildOptionsPromise=i,d.render=s}return{restrict:"A",scope:{dtOptions:"=",dtColumns:"=",dtColumnDefs:"=",datatable:"@"},compile:o,controller:i}}if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(t,n){return this.each(function(){var r=e(this),o=r.data("bs.modal"),i=e.extend({},a.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new a(this,i)),"string"==typeof t?o[t](n):i.show&&o.show(n)})}var a=function(t,a){this.options=a,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.3.4",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},a.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(a.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},a.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var i=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):i()}else t&&t()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=a,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var n=e(this),r=n.attr("href"),o=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),i=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),n.data());n.is("a")&&a.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(o,i,this)})}(jQuery),function(){"use strict";var e=angular.module("angularModalService",[]);e.factory("ModalService",["$document","$compile","$controller","$http","$rootScope","$q","$templateCache","$window","$timeout",function(e,t,a,n,r,o,i,s,l){function d(){$("html").addClass("modal-open")}function c(){$("html").removeClass("modal-open")}function f(){var e=this,f=function(e,t){var a=o.defer();if(e)a.resolve(e),d();else if(t){var r=i.get(t);void 0!==r?(a.resolve(r),d()):n({method:"GET",url:t,cache:!0}).then(function(e){i.put(t,e.data),a.resolve(e.data),d()},function(e){a.reject(e)})}else a.reject("No template or templateUrl has been specified.");return a.promise},p=function(e){if(e){var t=e.find(".modal-dialog");e.css("display","block"),t.css("margin-top",Math.max(0,($(window).height()-t.height())/2))}};e.showModal=function(e){var n=o.defer(),i=e.controller;return i?(e.controllerAs&&(i=i+" as "+e.controllerAs),f(e.template,e.templateUrl).then(function(d){var f=r.$new(),h=o.defer(),m={$scope:f,close:function(e,t){void 0!==t&&null!==t||(t=0),window.setTimeout(function(){h.resolve(e),f.$destroy(),y.remove(),c(),m.close=null,n=null,h=null,w=null,m=null,y=null,f=null},t)}};if(e.inputs)for(var g in e.inputs)m[g]=e.inputs[g];var v=angular.element(d),b=t(v),y=b(f);m.$element=y;var C=a(i,m);e.appendElement?e.appendElement.append(y):u.append(y),l(function(){p(y)},200),s.onresize=function(){p(y)};var w={controller:C,scope:f,element:y,close:h.promise};n.resolve(w)}).then(null,function(e){n.reject(e)}),n.promise):(n.reject("No controller has been specified."),n.promise)}}var u=e.find("body");return new f}])}(),angular.module("modalPopupMod",[]).directive("modalPopup",function(){return{restrict:"E",transclude:!0,replace:!0,scope:{size:"@",title:"@",buttonTitle:"@",backbutton:"@",id:"@",onback:"&"},templateUrl:"/vmf/m/components/modal/modalTemplate.tpl.html",link:function(e,t){e.$watch("modalShown",function(e,t,a){a.modalShown?(angular.element("html").addClass("modal-open"),angular.element(".modalLoad .modal").addClass("in")):(angular.element("html").removeClass("modal-open"),angular.element(".modalLoad .modal").removeClass("in"))}),e.hideModal=function(){e.modalShown=!1},e.primaryBtn=function(){},e.test=function(a){27===a.which&&(e.modalShown=!1,t.find(".modal-backdrop").hide())},t.find(".modal-backdrop").show()}}}),function(e,t,a){!function(e){"use strict";"object"==typeof exports?e(require("jquery")):jQuery&&!jQuery.fn.dataTable&&e(jQuery)}(function(n){"use strict";function r(e){var t,a,o="a aa ai ao as b fn i m o s ",i={};n.each(e,function(n,s){t=n.match(/^([^A-Z]+?)([A-Z])/),t&&-1!==o.indexOf(t[1]+" ")&&(a=n.replace(t[0],t[2].toLowerCase()),i[a]=n,"o"===t[1]&&r(e[n]))}),e._hungarianMap=i}function o(e,t,i){e._hungarianMap||r(e);var s;n.each(t,function(r,l){s=e._hungarianMap[r],s===a||!i&&t[s]!==a||("o"===s.charAt(0)?(t[s]||(t[s]={}),n.extend(!0,t[s],t[r]),o(e[s],t[s],i)):t[s]=t[r])})}function i(e){var t=Xe.defaults.oLanguage,a=e.sZeroRecords;!e.sEmptyTable&&a&&"No data available in table"===t.sEmptyTable&&Ne(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&a&&"Loading..."===t.sLoadingRecords&&Ne(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var n=e.sDecimal;n&&ze(n)}function s(e){vt(e,"ordering","bSort"),vt(e,"orderMulti","bSortMulti"),vt(e,"orderClasses","bSortClasses"),vt(e,"orderCellsTop","bSortCellsTop"),vt(e,"order","aaSorting"),vt(e,"orderFixed","aaSortingFixed"),vt(e,"paging","bPaginate"),vt(e,"pagingType","sPaginationType"),vt(e,"pageLength","iDisplayLength"),vt(e,"searching","bFilter");var t=e.aoSearchCols;if(t)for(var a=0,n=t.length;n>a;a++)t[a]&&o(Xe.models.oSearch,t[a])}function l(e){vt(e,"orderable","bSortable"),vt(e,"orderData","aDataSort"),vt(e,"orderSequence","asSorting"),vt(e,"orderDataType","sortDataType")}function d(e){var t=e.oBrowser,a=n("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(n("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(n('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),r=a.find(".test");t.bScrollOversize=100===r[0].offsetWidth,t.bScrollbarLeft=1!==r.offset().left,a.remove()}function c(e,t,n,r,o,i){var s,l=r,d=!1;for(n!==a&&(s=n,d=!0);l!==o;)e.hasOwnProperty(l)&&(s=d?t(s,e[l],l,e):e[l],d=!0,l+=i);return s}function f(e,a){var r=Xe.defaults.column,o=e.aoColumns.length,i=n.extend({},Xe.models.oColumn,r,{nTh:a?a:t.createElement("th"),sTitle:r.sTitle?r.sTitle:a?a.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});e.aoColumns.push(i);var s=e.aoPreSearchCols;s[o]=n.extend({},Xe.models.oSearch,s[o]),u(e,o,null)}function u(e,t,r){var i=e.aoColumns[t],s=e.oClasses,d=n(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=d.attr("width")||null;var c=(d.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(i.sWidthOrig=c[1])}r!==a&&null!==r&&(l(r),o(Xe.defaults.column,r),r.mDataProp===a||r.mData||(r.mData=r.mDataProp),r.sType&&(i._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),n.extend(i,r),Ne(i,r,"sWidth","sWidthOrig"),"number"==typeof r.iDataSort&&(i.aDataSort=[r.iDataSort]),Ne(i,r,"aDataSort"));var f=i.mData,u=F(f),p=i.mRender?F(i.mRender):null,h=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};i._bAttrSrc=n.isPlainObject(f)&&(h(f.sort)||h(f.type)||h(f.filter)),i.fnGetData=function(e,t,n){var r=u(e,t,a,n);return p&&t?p(r,t,e,n):r},i.fnSetData=function(e,t,a){return I(f)(e,t,a)},e.oFeatures.bSort||(i.bSortable=!1,d.addClass(s.sSortableNone));var m=-1!==n.inArray("asc",i.asSorting),g=-1!==n.inArray("desc",i.asSorting);i.bSortable&&(m||g)?m&&!g?(i.sSortingClass=s.sSortableAsc,i.sSortingClassJUI=s.sSortJUIAscAllowed):!m&&g?(i.sSortingClass=s.sSortableDesc,i.sSortingClassJUI=s.sSortJUIDescAllowed):(i.sSortingClass=s.sSortable,i.sSortingClassJUI=s.sSortJUI):(i.sSortingClass=s.sSortableNone,i.sSortingClassJUI="")}function p(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;be(e);for(var a=0,n=t.length;n>a;a++)t[a].nTh.style.width=t[a].sWidth}var r=e.oScroll;""===r.sY&&""===r.sX||ge(e),He(e,null,"column-sizing",[e])}function h(e,t){var a=v(e,"bVisible");return"number"==typeof a[t]?a[t]:null}function m(e,t){var a=v(e,"bVisible"),r=n.inArray(t,a);return-1!==r?r:null}function g(e){return v(e,"bVisible").length}function v(e,t){var a=[];return n.map(e.aoColumns,function(e,n){e[t]&&a.push(n)}),a}function b(e){var t,n,r,o,i,s,l,d,c,f=e.aoColumns,u=e.aoData,p=Xe.ext.type.detect;for(t=0,n=f.length;n>t;t++)if(l=f[t],c=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=p.length;o>r;r++){for(i=0,s=u.length;s>i&&(c[i]===a&&(c[i]=D(e,i,t,"type")),d=p[r](c[i],e),d&&"html"!==d);i++);if(d){l.sType=d;break}}l.sType||(l.sType="string")}}function y(e,t,r,o){var i,s,l,d,c,u,p,h=e.aoColumns;if(t)for(i=t.length-1;i>=0;i--){p=t[i];var m=p.targets!==a?p.targets:p.aTargets;for(n.isArray(m)||(m=[m]),l=0,d=m.length;d>l;l++)if("number"==typeof m[l]&&m[l]>=0){for(;h.length<=m[l];)f(e);o(m[l],p)}else if("number"==typeof m[l]&&m[l]<0)o(h.length+m[l],p);else if("string"==typeof m[l])for(c=0,u=h.length;u>c;c++)("_all"==m[l]||n(h[c].nTh).hasClass(m[l]))&&o(c,p)}if(r)for(i=0,s=r.length;s>i;i++)o(i,r[i])}function C(e,t,a,r){var o=e.aoData.length,i=n.extend(!0,{},Xe.models.oRow,{src:a?"dom":"data"});i._aData=t,e.aoData.push(i);for(var s=e.aoColumns,l=0,d=s.length;d>l;l++)a&&_(e,o,l,D(e,o,l)),s[l].sType=null;return e.aiDisplayMaster.push(o),!a&&e.oFeatures.bDeferRender||A(e,o,a,r),o}function w(e,t){var a;return t instanceof n||(t=n(t)),t.map(function(t,n){return a=E(e,n),C(e,a.data,n,a.cells)})}function S(e,t){return t._DT_RowIndex!==a?t._DT_RowIndex:null}function x(e,t,a){return n.inArray(a,e.aoData[t].anCells)}function D(e,t,n,r){var o=e.iDraw,i=e.aoColumns[n],s=e.aoData[t]._aData,l=i.sDefaultContent,d=i.fnGetData(s,r,{settings:e,row:t,col:n});if(d===a)return e.iDrawError!=o&&null===l&&(je(e,0,"Requested unknown parameter "+("function"==typeof i.mData?"{function}":"'"+i.mData+"'")+" for row "+t,4),e.iDrawError=o),l;if(d!==s&&null!==d||null===l){if("function"==typeof d)return d.call(s)}else d=l;return null===d&&"display"==r?"":d}function _(e,t,a,n){var r=e.aoColumns[a],o=e.aoData[t]._aData;r.fnSetData(o,n,{settings:e,row:t,col:a})}function T(e){return n.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace(/\\./g,".")})}function F(e){if(n.isPlainObject(e)){var t={};return n.each(e,function(e,a){a&&(t[e]=F(a))}),function(e,n,r,o){var i=t[n]||t._;return i!==a?i(e,n,r,o):e}}if(null===e)return function(e){return e};if("function"==typeof e)return function(t,a,n,r){return e(t,a,n,r)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,a){return t[e]};var r=function(e,t,n){var o,i,s,l;if(""!==n)for(var d=T(n),c=0,f=d.length;f>c;c++){if(o=d[c].match(bt),i=d[c].match(yt),o){d[c]=d[c].replace(bt,""),""!==d[c]&&(e=e[d[c]]),s=[],d.splice(0,c+1),l=d.join(".");for(var u=0,p=e.length;p>u;u++)s.push(r(e[u],t,l));var h=o[0].substring(1,o[0].length-1);e=""===h?s:s.join(h);break}if(i)d[c]=d[c].replace(yt,""),e=e[d[c]]();else{if(null===e||e[d[c]]===a)return a;e=e[d[c]]}}return e};return function(t,a){return r(t,a,e)}}function I(e){if(n.isPlainObject(e))return I(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,a,n){e(t,"set",a,n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("[")&&-1===e.indexOf("("))return function(t,a){t[e]=a};var t=function(e,n,r){for(var o,i,s,l,d,c=T(r),f=c[c.length-1],u=0,p=c.length-1;p>u;u++){if(i=c[u].match(bt),s=c[u].match(yt),i){c[u]=c[u].replace(bt,""),e[c[u]]=[],o=c.slice(),o.splice(0,u+1),d=o.join(".");for(var h=0,m=n.length;m>h;h++)l={},t(l,n[h],d),e[c[u]].push(l);return}s&&(c[u]=c[u].replace(yt,""),e=e[c[u]](n)),null!==e[c[u]]&&e[c[u]]!==a||(e[c[u]]={}),e=e[c[u]]}f.match(yt)?e=e[f.replace(yt,"")](n):e[f.replace(bt,"")]=n};return function(a,n){return t(a,n,e)}}function k(e){return ut(e.aoData,"_aData")}function P(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function $(e,t,n){for(var r=-1,o=0,i=e.length;i>o;o++)e[o]==t?r=o:e[o]>t&&e[o]--;-1!=r&&n===a&&e.splice(r,1)}function L(e,t,n,r){var o,i,s=e.aoData[t];if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var l,d=s.anCells;if(d)for(o=0,i=d.length;i>o;o++){for(l=d[o];l.childNodes.length;)l.removeChild(l.firstChild);d[o].innerHTML=D(e,t,o,"display")}}else s._aData=E(e,s).data;s._aSortData=null,s._aFilterData=null;var c=e.aoColumns;if(r!==a)c[r].sType=null;else for(o=0,i=c.length;i>o;o++)c[o].sType=null;O(s)}function E(e,t){var a,r,o,i,s=[],l=[],d=t.firstChild,c=0,f=e.aoColumns,u=function(e,t,a){if("string"==typeof e){var n=e.indexOf("@");if(-1!==n){var r=e.substring(n+1);o["@"+r]=a.getAttribute(r)}}},p=function(e){r=f[c],i=n.trim(e.innerHTML),r&&r._bAttrSrc?(o={display:i},u(r.mData.sort,o,e),u(r.mData.type,o,e),u(r.mData.filter,o,e),s.push(o)):s.push(i),c++};if(d)for(;d;)a=d.nodeName.toUpperCase(),"TD"!=a&&"TH"!=a||(p(d),l.push(d)),d=d.nextSibling;else{l=t.anCells;for(var h=0,m=l.length;m>h;h++)p(l[h])}return{data:s,cells:l}}function A(e,a,n,r){var o,i,s,l,d,c=e.aoData[a],f=c._aData,u=[];if(null===c.nTr){for(o=n||t.createElement("tr"),c.nTr=o,c.anCells=u,o._DT_RowIndex=a,O(c),l=0,d=e.aoColumns.length;d>l;l++)s=e.aoColumns[l],i=n?r[l]:t.createElement(s.sCellType),u.push(i),n&&!s.mRender&&s.mData===l||(i.innerHTML=D(e,a,l,"display")),s.sClass&&(i.className+=" "+s.sClass),s.bVisible&&!n?o.appendChild(i):!s.bVisible&&n&&i.parentNode.removeChild(i),s.fnCreatedCell&&s.fnCreatedCell.call(e.oInstance,i,D(e,a,l),f,a,l);He(e,"aoRowCreatedCallback",null,[o,f,a])}c.nTr.setAttribute("role","row")}function O(e){var t=e.nTr,a=e._aData;if(t){if(a.DT_RowId&&(t.id=a.DT_RowId),a.DT_RowClass){var r=a.DT_RowClass.split(" ");e.__rowc=e.__rowc?gt(e.__rowc.concat(r)):r,n(t).removeClass(e.__rowc.join(" ")).addClass(a.DT_RowClass)}a.DT_RowData&&n(t).data(a.DT_RowData)}}function j(e){var t,a,r,o,i,s=e.nTHead,l=e.nTFoot,d=0===n("th, td",s).length,c=e.oClasses,f=e.aoColumns;for(d&&(o=n("<tr/>").appendTo(s)),t=0,a=f.length;a>t;t++)i=f[t],r=n(i.nTh).addClass(i.sClass),d&&r.appendTo(o),e.oFeatures.bSort&&(r.addClass(i.sSortingClass),i.bSortable!==!1&&(r.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Pe(e,i.nTh,t))),i.sTitle!=r.html()&&r.html(i.sTitle),We(e,"header")(e,r,i,c);if(d&&H(e.aoHeader,s),n(s).find(">tr").attr("role","row"),n(s).find(">tr>th, >tr>td").addClass(c.sHeaderTH),n(l).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==l){var u=e.aoFooter[0];for(t=0,a=u.length;a>t;t++)i=f[t],i.nTf=u[t].cell,i.sClass&&n(i.nTf).addClass(i.sClass)}}function N(e,t,r){var o,i,s,l,d,c,f,u,p,h=[],m=[],g=e.aoColumns.length;if(t){for(r===a&&(r=!1),o=0,i=t.length;i>o;o++){for(h[o]=t[o].slice(),h[o].nTr=t[o].nTr,s=g-1;s>=0;s--)e.aoColumns[s].bVisible||r||h[o].splice(s,1);m.push([])}for(o=0,i=h.length;i>o;o++){if(f=h[o].nTr)for(;c=f.firstChild;)f.removeChild(c);for(s=0,l=h[o].length;l>s;s++)if(u=1,p=1,m[o][s]===a){for(f.appendChild(h[o][s].cell),m[o][s]=1;h[o+u]!==a&&h[o][s].cell==h[o+u][s].cell;)m[o+u][s]=1,u++;for(;h[o][s+p]!==a&&h[o][s].cell==h[o][s+p].cell;){for(d=0;u>d;d++)m[o+d][s+p]=1;p++}n(h[o][s].cell).attr("rowspan",u).attr("colspan",p)}}}}function M(e){var t=He(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==n.inArray(!1,t))return void he(e,!1);var r=[],o=0,i=e.asStripeClasses,s=i.length,l=(e.aoOpenRows.length,e.oLanguage),d=e.iInitDisplayStart,c="ssp"==Ve(e),f=e.aiDisplay;e.bDrawing=!0,d!==a&&-1!==d&&(e._iDisplayStart=c?d:d>=e.fnRecordsDisplay()?0:d,e.iInitDisplayStart=-1);var u=e._iDisplayStart,p=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,
e.iDraw++,he(e,!1);else if(c){if(!e.bDestroying&&!V(e))return}else e.iDraw++;if(0!==f.length)for(var h=c?0:u,m=c?e.aoData.length:p,v=h;m>v;v++){var b=f[v],y=e.aoData[b];null===y.nTr&&A(e,b);var C=y.nTr;if(0!==s){var w=i[o%s];y._sRowStripe!=w&&(n(C).removeClass(y._sRowStripe).addClass(w),y._sRowStripe=w)}He(e,"aoRowCallback",null,[C,y._aData,o,v]),r.push(C),o++}else{var S=l.sZeroRecords;1==e.iDraw&&"ajax"==Ve(e)?S=l.sLoadingRecords:l.sEmptyTable&&0===e.fnRecordsTotal()&&(S=l.sEmptyTable),r[0]=n("<tr/>",{"class":s?i[0]:""}).append(n("<td />",{valign:"top",colSpan:g(e),"class":e.oClasses.sRowEmpty}).html(S))[0]}He(e,"aoHeaderCallback","header",[n(e.nTHead).children("tr")[0],k(e),u,p,f]),He(e,"aoFooterCallback","footer",[n(e.nTFoot).children("tr")[0],k(e),u,p,f]);var x=n(e.nTBody);x.children().detach(),x.append(n(r)),He(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function R(e,t){var a=e.oFeatures,n=a.bSort,r=a.bFilter;n&&Fe(e),r?G(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,M(e),e._drawHold=!1}function U(e){var t=e.oClasses,a=n(e.nTable),r=n("<div/>").insertBefore(a),o=e.oFeatures,i=n("<div/>",{id:e.sTableId+"_wrapper","class":t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=r[0],e.nTableWrapper=i[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var s,l,d,c,f,u,p=e.sDom.split(""),h=0;h<p.length;h++){if(s=null,l=p[h],"<"==l){if(d=n("<div/>")[0],c=p[h+1],"'"==c||'"'==c){for(f="",u=2;p[h+u]!=c;)f+=p[h+u],u++;if("H"==f?f=t.sJUIHeader:"F"==f&&(f=t.sJUIFooter),-1!=f.indexOf(".")){var m=f.split(".");d.id=m[0].substr(1,m[0].length-1),d.className=m[1]}else"#"==f.charAt(0)?d.id=f.substr(1,f.length-1):d.className=f;h+=u}i.append(d),i=n(d)}else if(">"==l)i=i.parent();else if("l"==l&&o.bPaginate&&o.bLengthChange)s=ce(e);else if("f"==l&&o.bFilter)s=X(e);else if("r"==l&&o.bProcessing)s=pe(e);else if("t"==l)s=me(e);else if("i"==l&&o.bInfo)s=re(e);else if("p"==l&&o.bPaginate)s=fe(e);else if(0!==Xe.ext.feature.length)for(var g=Xe.ext.feature,v=0,b=g.length;b>v;v++)if(l==g[v].cFeature){s=g[v].fnInit(e);break}if(s){var y=e.aanFeatures;y[l]||(y[l]=[]),y[l].push(s),i.append(s)}}r.replaceWith(i)}function H(e,t){var a,r,o,i,s,l,d,c,f,u,p,h=n(t).children("tr"),m=function(e,t,a){for(var n=e[t];n[a];)a++;return a};for(e.splice(0,e.length),o=0,l=h.length;l>o;o++)e.push([]);for(o=0,l=h.length;l>o;o++)for(a=h[o],c=0,r=a.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(f=1*r.getAttribute("colspan"),u=1*r.getAttribute("rowspan"),f=f&&0!==f&&1!==f?f:1,u=u&&0!==u&&1!==u?u:1,d=m(e,o,c),p=1===f,s=0;f>s;s++)for(i=0;u>i;i++)e[o+i][d+s]={cell:r,unique:p},e[o+i].nTr=a;r=r.nextSibling}}function B(e,t,a){var n=[];a||(a=e.aoHeader,t&&(a=[],H(a,t)));for(var r=0,o=a.length;o>r;r++)for(var i=0,s=a[r].length;s>i;i++)!a[r][i].unique||n[i]&&e.bSortCellsTop||(n[i]=a[r][i].cell);return n}function W(e,t,a){if(He(e,"aoServerParams","serverParams",[t]),t&&n.isArray(t)){var r={},o=/(.*?)\[\]$/;n.each(t,function(e,t){var a=t.name.match(o);if(a){var n=a[0];r[n]||(r[n]=[]),r[n].push(t.value)}else r[t.name]=t.value}),t=r}var i,s=e.ajax,l=e.oInstance;if(n.isPlainObject(s)&&s.data){i=s.data;var d=n.isFunction(i)?i(t):i;t=n.isFunction(i)&&d?d:n.extend(!0,t,d),delete s.data}var c={data:t,success:function(t){var n=t.error||t.sError;n&&e.oApi._fnLog(e,0,n),e.json=t,He(e,null,"xhr",[e,t]),a(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(t,a,n){var r=e.oApi._fnLog;"parsererror"==a?r(e,0,"Invalid JSON response",1):4===t.readyState&&r(e,0,"Ajax error",7),he(e,!1)}};e.oAjaxData=t,He(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,n.map(t,function(e,t){return{name:t,value:e}}),a,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=n.ajax(n.extend(c,{url:s||e.sAjaxSource})):n.isFunction(s)?e.jqXHR=s.call(l,t,a,e):(e.jqXHR=n.ajax(n.extend(c,s)),s.data=i)}function V(e){return e.bAjaxDataGet?(e.iDraw++,he(e,!0),W(e,q(e),function(t){z(e,t)}),!1):!0}function q(e){var t,a,r,o,i=e.aoColumns,s=i.length,l=e.oFeatures,d=e.oPreviousSearch,c=e.aoPreSearchCols,f=[],u=Te(e),p=e._iDisplayStart,h=l.bPaginate!==!1?e._iDisplayLength:-1,m=function(e,t){f.push({name:e,value:t})};m("sEcho",e.iDraw),m("iColumns",s),m("sColumns",ut(i,"sName").join(",")),m("iDisplayStart",p),m("iDisplayLength",h);var g={draw:e.iDraw,columns:[],order:[],start:p,length:h,search:{value:d.sSearch,regex:d.bRegex}};for(t=0;s>t;t++)r=i[t],o=c[t],a="function"==typeof r.mData?"function":r.mData,g.columns.push({data:a,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),m("mDataProp_"+t,a),l.bFilter&&(m("sSearch_"+t,o.sSearch),m("bRegex_"+t,o.bRegex),m("bSearchable_"+t,r.bSearchable)),l.bSort&&m("bSortable_"+t,r.bSortable);l.bFilter&&(m("sSearch",d.sSearch),m("bRegex",d.bRegex)),l.bSort&&(n.each(u,function(e,t){g.order.push({column:t.col,dir:t.dir}),m("iSortCol_"+e,t.col),m("sSortDir_"+e,t.dir)}),m("iSortingCols",u.length));var v=Xe.ext.legacy.ajax;return null===v?e.sAjaxSource?f:g:v?f:g}function z(e,t){var n=function(e,n){return t[e]!==a?t[e]:t[n]},r=n("sEcho","draw"),o=n("iTotalRecords","recordsTotal"),i=n("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<e.iDraw)return;e.iDraw=1*r}P(e),e._iRecordsTotal=parseInt(o,10),e._iRecordsDisplay=parseInt(i,10);for(var s=J(e,t),l=0,d=s.length;d>l;l++)C(e,s[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,M(e),e._bInitComplete||le(e,t),e.bAjaxDataGet=!0,he(e,!1)}function J(e,t){var r=n.isPlainObject(e.ajax)&&e.ajax.dataSrc!==a?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===r?t.aaData||t[r]:""!==r?F(r)(t):t}function X(e){var a=e.oClasses,r=e.sTableId,o=e.oLanguage,i=e.oPreviousSearch,s=e.aanFeatures,l='<input type="search" class="'+a.sFilterInput+'"/>',d="";d=d.match(/_INPUT_/)?d.replace("_INPUT_",l):d+l;var c=n("<div/>",{id:s.f?null:r+"_filter","class":a.sFilter}).append(n("<label/>").append(d)),f=function(){var t=(s.f,this.value?this.value:"");t!=i.sSearch&&(G(e,{sSearch:t,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive}),e._iDisplayStart=0,M(e))},u=n("input",c).val(i.sSearch).attr("placeholder",o.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT","ssp"===Ve(e)?ye(f,400):f).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}).attr("aria-controls",r);return n(e.nTable).on("search.dt.DT",function(a,n){if(e===n)try{u[0]!==t.activeElement&&u.val(i.sSearch)}catch(r){}}),c[0]}function G(e,t,n){var r=e.oPreviousSearch,o=e.aoPreSearchCols,i=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive},s=function(e){return e.bEscapeRegex!==a?!e.bEscapeRegex:e.bRegex};if(b(e),"ssp"!=Ve(e)){Q(e,t.sSearch,n,s(t),t.bSmart,t.bCaseInsensitive),i(t);for(var l=0;l<o.length;l++)K(e,o[l].sSearch,l,s(o[l]),o[l].bSmart,o[l].bCaseInsensitive);Y(e)}else i(t);e.bFiltered=!0,He(e,null,"search",[e])}function Y(e){for(var t,a,n=Xe.ext.search,r=e.aiDisplay,o=0,i=n.length;i>o;o++){for(var s=[],l=0,d=r.length;d>l;l++)a=r[l],t=e.aoData[a],n[o](e,t._aFilterData,a,t._aData,l)&&s.push(a);r.length=0,r.push.apply(r,s)}}function K(e,t,a,n,r,o){if(""!==t)for(var i,s=e.aiDisplay,l=Z(t,n,r,o),d=s.length-1;d>=0;d--)i=e.aoData[s[d]]._aFilterData[a],l.test(i)||s.splice(d,1)}function Q(e,t,a,n,r,o){var i,s,l,d=Z(t,n,r,o),c=e.oPreviousSearch.sSearch,f=e.aiDisplayMaster;if(0!==Xe.ext.search.length&&(a=!0),s=te(e),t.length<=0)e.aiDisplay=f.slice();else for((s||a||c.length>t.length||0!==t.indexOf(c)||e.bSorted)&&(e.aiDisplay=f.slice()),i=e.aiDisplay,l=i.length-1;l>=0;l--)d.test(e.aoData[i[l]]._sFilterRow)||i.splice(l,1)}function Z(e,t,a,r){if(e=t?e:ee(e),a){var o=n.map(e.match(/"[^"]+"|[^ ]+/g)||"",function(e){return'"'===e.charAt(0)?e.match(/^"(.*)"$/)[1]:e});e="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(e,r?"i":"")}function ee(e){return e.replace(rt,"\\$1")}function te(e){var t,a,n,r,o,i,s,l,d=e.aoColumns,c=Xe.ext.type.search,f=!1;for(a=0,r=e.aoData.length;r>a;a++)if(l=e.aoData[a],!l._aFilterData){for(i=[],n=0,o=d.length;o>n;n++)t=d[n],t.bSearchable?(s=D(e,a,n,"filter"),c[t.sType]&&(s=c[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(Ct.innerHTML=s,s=wt?Ct.textContent:Ct.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),i.push(s);l._aFilterData=i,l._sFilterRow=i.join("  "),f=!0}return f}function ae(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ne(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function re(e){var t=e.sTableId,a=e.aanFeatures.i,r=n("<div/>",{"class":e.oClasses.sInfo,id:a?null:t+"_info"});return a||(e.aoDrawCallback.push({fn:oe,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),n(e.nTable).attr("aria-describedby",t+"_info")),r[0]}function oe(e){var t=e.aanFeatures.i;if(0!==t.length){var a=e.oLanguage,r=e._iDisplayStart+1,o=e.fnDisplayEnd(),i=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?a.sInfo:a.sInfoEmpty;s!==i&&(l+=" "+a.sInfoFiltered),l+=a.sInfoPostFix,l=ie(e,l);var d=a.fnInfoCallback;null!==d&&(l=d.call(e.oInstance,e,r,o,i,s,l)),n(t).html(l)}}function ie(e,t){var a=e.fnFormatNumber,n=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),i=-1===r;return t.replace(/_START_/g,a.call(e,n)).replace(/_END_/g,a.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,a.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,a.call(e,o)).replace(/_PAGE_/g,a.call(e,i?1:Math.ceil(n/r))).replace(/_PAGES_/g,a.call(e,i?1:Math.ceil(o/r)))}function se(e){var t,a,n,r=e.iInitDisplayStart,o=e.aoColumns,i=e.oFeatures;if(!e.bInitialised)return void setTimeout(function(){se(e)},200);for(U(e),j(e),N(e,e.aoHeader),N(e,e.aoFooter),he(e,!0),i.bAutoWidth&&be(e),t=0,a=o.length;a>t;t++)n=o[t],n.sWidth&&(n.nTh.style.width=De(n.sWidth));R(e);var s=Ve(e);"ssp"!=s&&("ajax"==s?W(e,[],function(a){var n=J(e,a);for(t=0;t<n.length;t++)C(e,n[t]);e.iInitDisplayStart=r,R(e),he(e,!1),le(e,a)},e):(he(e,!1),le(e)))}function le(e,t){e._bInitComplete=!0,t&&p(e),He(e,"aoInitComplete","init",[e,t])}function de(e,t){var a=parseInt(t,10);e._iDisplayLength=a,Be(e),He(e,null,"length",[e,a])}function ce(e){for(var t=e.oClasses,a=e.sTableId,r=e.aLengthMenu,o=n.isArray(r[0]),i=o?r[0]:r,s=o?r[1]:r,l=n("<select/>",{name:a+"_length","aria-controls":a,"class":t.sLengthSelect}),d=0,c=i.length;c>d;d++)l[0][d]=new Option(s[d],i[d]);var f=n("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(f[0].id=a+"_length"),f.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),n("select",f).val(e._iDisplayLength).bind("change.DT",function(t){de(e,n(this).val()),M(e)}),n(e.nTable).bind("length.dt.DT",function(t,a,r){e===a&&n("select",f).val(r)}),f[0]}function fe(e){var t=e.sPaginationType,a=Xe.ext.pager[t],r="function"==typeof a,o=function(e){M(e)},i=n("<div/>").addClass(e.oClasses.sPaging+t)[0],s=e.aanFeatures;return r||a.fnInit(e,i,o),s.p||(i.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(r){var t,n,i=e._iDisplayStart,l=e._iDisplayLength,d=e.fnRecordsDisplay(),c=-1===l,f=c?0:Math.ceil(i/l),u=c?1:Math.ceil(d/l),p=a(f,u);for(t=0,n=s.p.length;n>t;t++)We(e,"pageButton")(e,s.p[t],t,p,f,u)}else a.fnUpdate(e,o)},sName:"pagination"})),i}function ue(e,t,a){var n=e._iDisplayStart,r=1,o=e.fnRecordsDisplay();0===o||-1===r?n=0:"number"==typeof t?(n=t*r,n>o&&(n=0)):"first"==t?n=0:"previous"==t?(n=r>=0?n-r:0,0>n&&(n=0)):"next"==t?o>n+r&&(n+=r):"last"==t?n=Math.floor((o-1)/r)*r:je(e,0,"Unknown paging action: "+t,5);var i=e._iDisplayStart!==n;return e._iDisplayStart=n,i&&(He(e,null,"page",[e]),a&&M(e)),i}function pe(e){return n("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function he(e,t){e.oFeatures.bProcessing&&n(e.aanFeatures.r).css("display",t?"block":"none"),He(e,null,"processing",[e,t])}function me(e){var t=n(e.nTable);t.attr("role","grid");var a=e.oScroll;if(""===a.sX&&""===a.sY)return e.nTable;var r=a.sX,o=a.sY,i=e.oClasses,s=t.children("caption"),l=s.length?s[0]._captionSide:null,d=n(t[0].cloneNode(!1)),c=n(t[0].cloneNode(!1)),f=t.children("tfoot"),u="<div/>",p=function(e){return e?De(e):null};a.sX&&"100%"===t.attr("width")&&t.removeAttr("width"),f.length||(f=null);var h=n(u,{"class":i.sScrollWrapper}).append(n(u,{"class":i.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?p(r):"100%"}).append(n(u,{"class":i.sScrollHeadInner}).css({"box-sizing":"content-box",width:a.sXInner||"100%"}).append(d.removeAttr("id").css("margin-left",0).append(t.children("thead")))).append("top"===l?s:null)).append(n(u,{"class":i.sScrollBody}).css({overflow:"auto",height:p(o),width:p(r)}).append(t));f&&h.append(n(u,{"class":i.sScrollFoot}).css({overflow:"hidden",border:0,width:r?p(r):"100%"}).append(n(u,{"class":i.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append(t.children("tfoot")))).append("bottom"===l?s:null));var m=h.children(),g=m[0],v=m[1],b=f?m[2]:null;return r&&n(v).scroll(function(e){var t=this.scrollLeft;g.scrollLeft=t,f&&(b.scrollLeft=t)}),e.nScrollHead=g,e.nScrollBody=v,e.nScrollFoot=b,e.aoDrawCallback.push({fn:ge,sName:"scrolling"}),h[0]}function ge(e){var t,a,r,o,i,s,l,d,c,f=e.oScroll,u=f.sX,p=f.sXInner,m=f.sY,g=f.iBarWidth,v=n(e.nScrollHead),b=v[0].style,y=v.children("div"),C=y[0].style,w=y.children("table"),S=e.nScrollBody,x=n(S),D=S.style,_=n(e.nScrollFoot),T=_.children("div"),F=T.children("table"),I=n(e.nTHead),k=n(e.nTable),P=k[0],$=P.style,L=e.nTFoot?n(e.nTFoot):null,E=e.oBrowser,A=E.bScrollOversize,O=[],j=[],N=[],M=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};if(k.children("thead, tfoot").remove(),i=I.clone().prependTo(k),t=I.find("tr"),r=i.find("tr"),i.find("th, td").removeAttr("tabindex"),L&&(s=L.clone().prependTo(k),a=L.find("tr"),o=s.find("tr")),u||(D.width="100%",v[0].style.width="100%"),n.each(B(e,i),function(t,a){l=h(e,t),a.style.width=e.aoColumns[l].sWidth}),L&&ve(function(e){e.style.width=""},o),f.bCollapse&&""!==m&&(D.height=x[0].offsetHeight+I[0].offsetHeight+"px"),c=k.outerWidth(),""===u?($.width="100%",A&&(k.find("tbody").height()>S.offsetHeight||"scroll"==x.css("overflow-y"))&&($.width=De(k.outerWidth()-g))):""!==p?$.width=De(p):c==x.width()&&x.height()<k.height()?($.width=De(c-g),k.outerWidth()>c-g&&($.width=De(c))):$.width=De(c),c=k.outerWidth(),ve(M,r),ve(function(e){N.push(e.innerHTML),O.push(De(n(e).css("width")))},r),ve(function(e,t){e.style.width=O[t]},t),n(r).height(0),L&&(ve(M,o),ve(function(e){j.push(De(n(e).css("width")))},o),ve(function(e,t){e.style.width=j[t]},a),n(o).height(0)),ve(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+N[t]+"</div>",e.style.width=O[t]},r),L&&ve(function(e,t){e.innerHTML="",e.style.width=j[t]},o),k.outerWidth()<c?(d=S.scrollHeight>S.offsetHeight||"scroll"==x.css("overflow-y")?c+g:c,A&&(S.scrollHeight>S.offsetHeight||"scroll"==x.css("overflow-y"))&&($.width=De(d-g)),""!==u&&""===p||je(e,1,"Possible column misalignment",6)):d="100%",D.width=De(d),b.width=De(d),L&&(e.nScrollFoot.style.width=De(d)),m||A&&(D.height=De(P.offsetHeight+g)),m&&f.bCollapse){D.height=De(m);var R=u&&P.offsetWidth>S.offsetWidth?g:0;P.offsetHeight<S.offsetHeight&&(D.height=De(P.offsetHeight+R))}var U=k.outerWidth();w[0].style.width=De(U),C.width=De(U);var H=k.height()>S.clientHeight||"scroll"==x.css("overflow-y"),W="padding"+(E.bScrollbarLeft?"Left":"Right");C[W]=H?g+"px":"0px",L&&(F[0].style.width=De(U),T[0].style.width=De(U),T[0].style[W]=H?g+"px":"0px"),x.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(S.scrollTop=0)}function ve(e,t,a){for(var n,r,o=0,i=0,s=t.length;s>i;){for(n=t[i].firstChild,r=a?a[i].firstChild:null;n;)1===n.nodeType&&(a?e(n,r,o):e(n,o),o++),n=n.nextSibling,r=a?r.nextSibling:null;i++}}function be(t){var a,r,o,i,s,l=t.nTable,d=t.aoColumns,c=t.oScroll,f=c.sY,u=c.sX,h=c.sXInner,m=d.length,b=v(t,"bVisible"),y=n("th",t.nTHead),C=l.getAttribute("width"),w=l.parentNode,S=!1;for(a=0;a<b.length;a++)r=d[b[a]],null!==r.sWidth&&(r.sWidth=Ce(r.sWidthOrig,w),S=!0);if(S||u||f||m!=g(t)||m!=y.length){var x=n(l).clone().empty().css("visibility","hidden").removeAttr("id").append(n(t.nTHead).clone(!1)).append(n(t.nTFoot).clone(!1)).append(n("<tbody><tr/></tbody>"));x.find("tfoot th, tfoot td").css("width","");var D=x.find("tbody tr");for(y=B(t,x.find("thead")[0]),a=0;a<b.length;a++)r=d[b[a]],y[a].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?De(r.sWidthOrig):"";if(t.aoData.length)for(a=0;a<b.length;a++)o=b[a],r=d[o],n(Se(t,o)).clone(!1).append(r.sContentPadding).appendTo(D);if(x.appendTo(w),u&&h?x.width(h):u?(x.css("width","auto"),x.width()<w.offsetWidth&&x.width(w.offsetWidth)):f?x.width(w.offsetWidth):C&&x.width(C),we(t,x[0]),u){var _=0;for(a=0;a<b.length;a++)r=d[b[a]],s=n(y[a]).outerWidth(),_+=null===r.sWidthOrig?s:parseInt(r.sWidth,10)+s-n(y[a]).width();x.width(De(_)),l.style.width=De(_)}for(a=0;a<b.length;a++)r=d[b[a]],i=n(y[a]).width(),i&&(r.sWidth=De(i));l.style.width=De(x.css("width")),x.remove()}else for(a=0;m>a;a++)d[a].sWidth=De(y.eq(a).width());C&&(l.style.width=De(C)),!C&&!u||t._reszEvt||(n(e).bind("resize.DT-"+t.sInstance,ye(function(){p(t)})),t._reszEvt=!0)}function ye(e,t){var n,r,o=t||200;return function(){var t=this,i=+new Date,s=arguments;n&&n+o>i?(clearTimeout(r),r=setTimeout(function(){n=a,e.apply(t,s)},o)):n?(n=i,e.apply(t,s)):n=i}}function Ce(e,a){if(!e)return 0;var r=n("<div/>").css("width",De(e)).appendTo(a||t.body),o=r[0].offsetWidth;return r.remove(),o}function we(e,t){var a=e.oScroll;if(a.sX||a.sY){var r=a.sX?0:a.iBarWidth;t.style.width=De(n(t).outerWidth()-r)}}function Se(e,t){var a=xe(e,t);if(0>a)return null;var r=e.aoData[a];return r.nTr?r.anCells[t]:n("<td/>").html(D(e,a,t,"display"))[0]}function xe(e,t){for(var a,n=-1,r=-1,o=0,i=e.aoData.length;i>o;o++)a=D(e,o,t,"display")+"",a=a.replace(St,""),a.length>n&&(n=a.length,r=o);return r}function De(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function _e(){if(!Xe.__scrollbarWidth){var e=n("<p/>").css({width:"100%",height:200,padding:0})[0],t=n("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(e).appendTo("body"),a=e.offsetWidth;t.css("overflow","scroll");var r=e.offsetWidth;a===r&&(r=t[0].clientWidth),t.remove(),Xe.__scrollbarWidth=a-r}return Xe.__scrollbarWidth}function Te(e){var t,a,r,o,i,s,l,d=[],c=e.aoColumns,f=e.aaSortingFixed,u=n.isPlainObject(f),p=[],h=function(e){e.length&&!n.isArray(e[0])?p.push(e):p.push.apply(p,e)};for(n.isArray(f)&&h(f),u&&f.pre&&h(f.pre),h(e.aaSorting),u&&f.post&&h(f.post),t=0;t<p.length;t++)for(l=p[t][0],o=c[l].aDataSort,a=0,r=o.length;r>a;a++)i=o[a],s=c[i].sType||"string",d.push({src:l,col:i,dir:p[t][1],index:p[t][2],type:s,formatter:Xe.ext.type.order[s+"-pre"]});return d}function Fe(e){var t,a,n,r,o,i=[],s=Xe.ext.type.order,l=e.aoData,d=(e.aoColumns,0),c=e.aiDisplayMaster;for(b(e),o=Te(e),t=0,a=o.length;a>t;t++)r=o[t],r.formatter&&d++,Le(e,r.col);if("ssp"!=Ve(e)&&0!==o.length){for(t=0,n=c.length;n>t;t++)i[c[t]]=t;d===o.length?c.sort(function(e,t){var a,n,r,s,d,c=o.length,f=l[e]._aSortData,u=l[t]._aSortData;for(r=0;c>r;r++)if(d=o[r],a=f[d.col],n=u[d.col],s=n>a?-1:a>n?1:0,0!==s)return"asc"===d.dir?s:-s;return a=i[e],n=i[t],n>a?-1:a>n?1:0}):c.sort(function(e,t){var a,n,r,d,c,f,u=o.length,p=l[e]._aSortData,h=l[t]._aSortData;for(r=0;u>r;r++)if(c=o[r],a=p[c.col],n=h[c.col],f=s[c.type+"-"+c.dir]||s["string-"+c.dir],d=f(a,n),0!==d)return d;return a=i[e],n=i[t],n>a?-1:a>n?1:0})}e.bSorted=!0}function Ie(e){for(var t,a,n=e.aoColumns,r=Te(e),o=e.oLanguage.oAria,i=0,s=n.length;s>i;i++){var l=n[i],d=l.asSorting,c=l.sTitle.replace(/<.*?>/g,""),f=l.nTh;f.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==i?(f.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),a=d[r[0].index+1]||d[0]):a=d[0],t=c+("asc"===a?o.sSortAscending:o.sSortDescending)):t=c,f.setAttribute("aria-label",t)}}function ke(e,t,r,o){var i,s=e.aoColumns[t],l=e.aaSorting,d=s.asSorting,c=function(e){var t=e._idx;return t===a&&(t=n.inArray(e[1],d)),t+1>=d.length?0:t+1};if("number"==typeof l[0]&&(l=e.aaSorting=[l]),r&&e.oFeatures.bSortMulti){var f=n.inArray(t,ut(l,"0"));-1!==f?(i=c(l[f]),l[f][1]=d[i],l[f]._idx=i):(l.push([t,d[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==t?(i=c(l[0]),l.length=1,l[0][1]=d[i],l[0]._idx=i):(l.length=0,l.push([t,d[0]]),l[0]._idx=0);R(e),"function"==typeof o&&o(e)}function Pe(e,t,a,n){var r=e.aoColumns[a];Re(t,{},function(t){r.bSortable!==!1&&(e.oFeatures.bProcessing?(he(e,!0),setTimeout(function(){ke(e,a,t.shiftKey,n),"ssp"!==Ve(e)&&he(e,!1)},0)):ke(e,a,t.shiftKey,n))})}function $e(e){var t,a,r,o=e.aLastSort,i=e.oClasses.sSortColumn,s=Te(e),l=e.oFeatures;if(l.bSort&&l.bSortClasses){for(t=0,a=o.length;a>t;t++)r=o[t].src,n(ut(e.aoData,"anCells",r)).removeClass(i+(2>t?t+1:3));for(t=0,a=s.length;a>t;t++)r=s[t].src,n(ut(e.aoData,"anCells",r)).addClass(i+(2>t?t+1:3))}e.aLastSort=s}function Le(e,t){var a,n=e.aoColumns[t],r=Xe.ext.order[n.sSortDataType];r&&(a=r.call(e.oInstance,e,t,m(e,t)));for(var o,i,s=Xe.ext.type.order[n.sType+"-pre"],l=0,d=e.aoData.length;d>l;l++)o=e.aoData[l],o._aSortData||(o._aSortData=[]),o._aSortData[t]&&!r||(i=r?a[l]:D(e,l,t,"sort"),o._aSortData[t]=s?s(i):i)}function Ee(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:n.extend(!0,[],e.aaSorting),search:ae(e.oPreviousSearch),columns:n.map(e.aoColumns,function(t,a){return{visible:t.bVisible,search:ae(e.aoPreSearchCols[a])}})};He(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oSavedState=t,e.fnStateSaveCallback.call(e.oInstance,e,t)}}function Ae(e,t){var a,r,o=e.aoColumns;if(e.oFeatures.bStateSave){var i=e.fnStateLoadCallback.call(e.oInstance,e);if(i&&i.time){var s=He(e,"aoStateLoadParams","stateLoadParams",[e,i]);if(-1===n.inArray(!1,s)){var l=e.iStateDuration;if(!(l>0&&i.time<+new Date-1e3*l)&&o.length===i.columns.length){for(e.oLoadedState=n.extend(!0,{},i),e._iDisplayStart=i.start,e.iInitDisplayStart=i.start,e._iDisplayLength=i.length,e.aaSorting=[],n.each(i.order,function(t,a){e.aaSorting.push(a[0]>=o.length?[0,a[1]]:a)}),n.extend(e.oPreviousSearch,ne(i.search)),a=0,r=i.columns.length;r>a;a++){var d=i.columns[a];o[a].bVisible=d.visible,n.extend(e.aoPreSearchCols[a],ne(d.search))}He(e,"aoStateLoaded","stateLoaded",[e,i])}}}}}function Oe(e){var t=Xe.settings,a=n.inArray(e,ut(t,"nTable"));return-1!==a?t[a]:null}function je(t,a,n,r){if(n="DataTables warning: "+(null!==t?"table id="+t.sTableId+" - ":"")+n,r&&(n+=". For more information about this error, please see http://datatables.net/tn/"+r),a)e.console&&console.log&&console.log(n);else{var o=Xe.ext,i=o.sErrMode||o.errMode;if("alert"!=i)throw new Error(n);alert(n)}}function Ne(e,t,r,o){return n.isArray(r)?void n.each(r,function(a,r){n.isArray(r)?Ne(e,t,r[0],r[1]):Ne(e,t,r)}):(o===a&&(o=r),void(t[r]!==a&&(e[o]=t[r])))}function Me(e,t,a){var r;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],n.isPlainObject(r)?(n.isPlainObject(e[o])||(e[o]={}),n.extend(!0,e[o],r)):a&&"data"!==o&&"aaData"!==o&&n.isArray(r)?e[o]=r.slice():e[o]=r);return e}function Re(e,t,a){n(e).bind("click.DT",t,function(t){e.blur(),a(t)}).bind("keypress.DT",t,function(e){13===e.which&&(e.preventDefault(),a(e))}).bind("selectstart.DT",function(){return!1})}function Ue(e,t,a,n){a&&e[t].push({fn:a,sName:n})}function He(e,t,a,r){var o=[];return t&&(o=n.map(e[t].slice().reverse(),function(t,a){return t.fn.apply(e.oInstance,r)})),null!==a&&n(e.nTable).trigger(a+".dt",r),o}function Be(e){var t=e._iDisplayStart,a=e.fnDisplayEnd(),n=e._iDisplayLength;a===e.fnRecordsDisplay()&&(t=a-n),(-1===n||0>t)&&(t=0),e._iDisplayStart=t}function We(e,t){var a=e.renderer,r=Xe.ext.renderer[t];return n.isPlainObject(a)&&a[t]?r[a[t]]||r._:"string"==typeof a?r[a]||r._:r._}function Ve(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function qe(e,t){var a=[],n=Vt.numbers_length,r=Math.floor(n/2);return n>=t?a=ht(0,t):r>=e?(a=ht(0,n-2),a.push("ellipsis"),a.push(t-1)):e>=t-1-r?(a=ht(t-(n-2),t),a.splice(0,0,"ellipsis"),a.splice(0,0,0)):(a=ht(e-1,e+2),a.push("ellipsis"),a.push(t-1),a.splice(0,0,"ellipsis"),a.splice(0,0,0)),a.DT_el="span",a}function ze(e){n.each({num:function(t){return qt(t,e)},"num-fmt":function(t){return qt(t,e,ot)},"html-num":function(t){return qt(t,e,tt)},"html-num-fmt":function(t){return qt(t,e,tt,ot)}},function(t,a){Ge.type.order[t+e+"-pre"]=a})}function Je(e){return function(){var t=[Oe(this[Xe.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Xe.ext.internal[e].apply(this,t)}}var Xe,Ge,Ye,Ke,Qe,Ze={},et=/[\r\n]/g,tt=/<.*?>/g,at=/^[\w\+\-]/,nt=/[\w\+\-]$/,rt=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),ot=/[',$%\u2009\u202F]/g,it=function(e){return!e||e===!0||"-"===e},st=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},lt=function(e,t){return Ze[t]||(Ze[t]=new RegExp(ee(t),"g")),"string"==typeof e?e.replace(/\./g,"").replace(Ze[t],"."):e},dt=function(e,t,a){var n="string"==typeof e;return t&&n&&(e=lt(e,t)),a&&n&&(e=e.replace(ot,"")),it(e)||!isNaN(parseFloat(e))&&isFinite(e)},ct=function(e){return it(e)||"string"==typeof e},ft=function(e,t,a){if(it(e))return!0;var n=ct(e);return n&&dt(mt(e),t,a)?!0:null},ut=function(e,t,n){var r=[],o=0,i=e.length;if(n!==a)for(;i>o;o++)e[o]&&e[o][t]&&r.push(e[o][t][n]);else for(;i>o;o++)e[o]&&r.push(e[o][t]);return r},pt=function(e,t,n,r){var o=[],i=0,s=t.length;if(r!==a)for(;s>i;i++)o.push(e[t[i]][n][r]);else for(;s>i;i++)o.push(e[t[i]][n]);return o},ht=function(e,t){var n,r=[];t===a?(t=0,n=e):(n=t,t=e);for(var o=t;n>o;o++)r.push(o);return r},mt=function(e){return e.replace(tt,"")},gt=function(e){var t,a,n,r=[],o=e.length,i=0;e:for(a=0;o>a;a++){for(t=e[a],n=0;i>n;n++)if(r[n]===t)continue e;r.push(t),i++}return r},vt=function(e,t,n){e[t]!==a&&(e[n]=e[t])},bt=/\[.*?\]$/,yt=/\(\)$/,Ct=n("<div>")[0],wt=Ct.textContent!==a,St=/<.*?>/g;Xe=function(e){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Ye(e?Oe(this[Ge.iApiIndex]):this)},this.fnAddData=function(e,t){var r=this.api(!0),o=n.isArray(e)&&(n.isArray(e[0])||n.isPlainObject(e[0]))?r.rows.add(e):r.row.add(e);return(t===a||t)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===a||e?t.draw(!1):""===r.sX&&""===r.sY||ge(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===a||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),o=r.rows(e),i=o.settings()[0],s=i.aoData[o[0][0]];return o.remove(),t&&t.call(this,i,s),(n===a||n)&&r.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(!e)},this.fnFilter=function(e,t,n,r,o,i){var s=this.api(!0);null===t||t===a?s.search(e,n,r,i):s.column(t).search(e,n,r,i),s.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==a){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==a||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==a?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),a=e.nodeName.toUpperCase();if("TR"==a)return t.row(e).index();if("TD"==a||"TH"==a){var n=t.cell(e).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,a){return this.api(!0).row(e).child(t,a).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===a||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var r=this.api(!0).column(e).visible(t);(n===a||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return Oe(this[Ge.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,a){this.api(!0).order.listener(e,t,a)},this.fnUpdate=function(e,t,n,r,o){var i=this.api(!0);return n===a||null===n?i.row(t).data(e):i.cell(t,n).data(e),(o===a||o)&&i.columns.adjust(),(r===a||r)&&i.draw(),0},this.fnVersionCheck=Ge.fnVersionCheck;var t=this,r=e===a,c=this.length;r&&(e={}),this.oApi=this.internal=Ge.internal;for(var p in Xe.ext.internal)p&&(this[p]=Je(p));return this.each(function(){var p,h={},m=c>1?Me(h,e,!0):e,g=0,v=this.getAttribute("id"),b=!1,S=Xe.defaults;if("table"!=this.nodeName.toLowerCase())return void je(null,0,"Non-table node initialisation ("+this.nodeName+")",2);s(S),l(S.column),o(S,S,!0),o(S.column,S.column,!0),o(S,m);var x=Xe.settings;for(g=0,p=x.length;p>g;g++){if(x[g].nTable==this){var D=m.bRetrieve!==a?m.bRetrieve:S.bRetrieve,_=m.bDestroy!==a?m.bDestroy:S.bDestroy;if(r||D)return x[g].oInstance;if(_){x[g].oInstance.fnDestroy();break}return void je(x[g],0,"Cannot reinitialise DataTable",3)}if(x[g].sTableId==this.id){x.splice(g,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+Xe.ext._unique++,this.id=v);var T=n.extend(!0,{},Xe.models.oSettings,{nTable:this,oApi:t.internal,oInit:m,sDestroyWidth:n(this)[0].style.width,sInstance:v,sTableId:v});x.push(T),T.oInstance=1===t.length?t:n(this).dataTable(),s(m),m.oLanguage&&i(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=n.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Me(n.extend(!0,{},S),m),Ne(T.oFeatures,m,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Ne(T,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ne(T.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ne(T.oLanguage,m,"fnInfoCallback"),Ue(T,"aoDrawCallback",m.fnDrawCallback,"user"),Ue(T,"aoServerParams",m.fnServerParams,"user"),Ue(T,"aoStateSaveParams",m.fnStateSaveParams,"user"),Ue(T,"aoStateLoadParams",m.fnStateLoadParams,"user"),Ue(T,"aoStateLoaded",m.fnStateLoaded,"user"),Ue(T,"aoRowCallback",m.fnRowCallback,"user"),Ue(T,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Ue(T,"aoHeaderCallback",m.fnHeaderCallback,"user"),Ue(T,"aoFooterCallback",m.fnFooterCallback,"user"),Ue(T,"aoInitComplete",m.fnInitComplete,"user"),Ue(T,"aoPreDrawCallback",m.fnPreDrawCallback,"user");var F=T.oClasses;if(m.bJQueryUI?(n.extend(F,Xe.ext.oJUIClasses,m.oClasses),m.sDom===S.sDom&&"lfrtip"===S.sDom&&(T.sDom='<"H"lfr>t<"F"ip>'),T.renderer?n.isPlainObject(T.renderer)&&!T.renderer.header&&(T.renderer.header="jqueryui"):T.renderer="jqueryui"):n.extend(F,Xe.ext.classes,m.oClasses),n(this).addClass(F.sTable),""===T.oScroll.sX&&""===T.oScroll.sY||(T.oScroll.iBarWidth=_e()),T.oScroll.sX===!0&&(T.oScroll.sX="100%"),T.iInitDisplayStart===a&&(T.iInitDisplayStart=m.iDisplayStart,T._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading){T.bDeferLoading=!0;var I=n.isArray(m.iDeferLoading);T._iRecordsDisplay=I?m.iDeferLoading[0]:m.iDeferLoading,T._iRecordsTotal=I?m.iDeferLoading[1]:m.iDeferLoading}""!==m.oLanguage.sUrl?(T.oLanguage.sUrl=m.oLanguage.sUrl,n.getJSON(T.oLanguage.sUrl,null,function(e){i(e),o(S.oLanguage,e),n.extend(!0,T.oLanguage,m.oLanguage,e),se(T)}),b=!0):n.extend(!0,T.oLanguage,m.oLanguage),null===m.asStripeClasses&&(T.asStripeClasses=[F.sStripeOdd,F.sStripeEven]);
var k=T.asStripeClasses,P=n("tbody tr:eq(0)",this);-1!==n.inArray(!0,n.map(k,function(e,t){return P.hasClass(e)}))&&(n("tbody tr",this).removeClass(k.join(" ")),T.asDestroyStripes=k.slice());var $,L=[],A=this.getElementsByTagName("thead");if(0!==A.length&&(H(T.aoHeader,A[0]),L=B(T)),null===m.aoColumns)for($=[],g=0,p=L.length;p>g;g++)$.push(null);else $=m.aoColumns;for(g=0,p=$.length;p>g;g++)f(T,L?L[g]:null);if(y(T,m.aoColumnDefs,$,function(e,t){u(T,e,t)}),P.length){var O=function(e,t){return e.getAttribute("data-"+t)?t:null};n.each(E(T,P[0]).cells,function(e,t){var n=T.aoColumns[e];if(n.mData===e){var r=O(t,"sort")||O(t,"order"),o=O(t,"filter")||O(t,"search");null===r&&null===o||(n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:a,type:null!==r?e+".@data-"+r:a,filter:null!==o?e+".@data-"+o:a},u(T,e))}})}var j=T.oFeatures;if(m.bStateSave&&(j.bStateSave=!0,Ae(T,m),Ue(T,"aoDrawCallback",Ee,"state_save")),m.aaSorting===a){var N=T.aaSorting;for(g=0,p=N.length;p>g;g++)N[g][1]=T.aoColumns[g].asSorting[0]}$e(T),j.bSort&&Ue(T,"aoDrawCallback",function(){if(T.bSorted){var e=Te(T),t={};n.each(e,function(e,a){t[a.src]=a.dir}),He(T,null,"order",[T,e,t]),Ie(T)}}),Ue(T,"aoDrawCallback",function(){(T.bSorted||"ssp"===Ve(T)||j.bDeferRender)&&$e(T)},"sc"),d(T);var M=n(this).children("caption").each(function(){this._captionSide=n(this).css("caption-side")}),R=n(this).children("thead");0===R.length&&(R=n("<thead/>").appendTo(this)),T.nTHead=R[0];var U=n(this).children("tbody");0===U.length&&(U=n("<tbody/>").appendTo(this)),T.nTBody=U[0];var W=n(this).children("tfoot");if(0===W.length&&M.length>0&&(""!==T.oScroll.sX||""!==T.oScroll.sY)&&(W=n("<tfoot/>").appendTo(this)),0===W.length||0===W.children().length?n(this).addClass(F.sNoFooter):W.length>0&&(T.nTFoot=W[0],H(T.aoFooter,T.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)C(T,m.aaData[g]);else(T.bDeferLoading||"dom"==Ve(T))&&w(T,n(T.nTBody).children("tr"));T.aiDisplay=T.aiDisplayMaster.slice(),T.bInitialised=!0,b===!1&&se(T)}),t=null,this};var xt=[],Dt=Array.prototype,_t=function(e){var t,a,r=Xe.settings,o=n.map(r,function(e,t){return e.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?(t=n.inArray(e,o),-1!==t?[r[t]]:null):e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?a=n(e):e instanceof n&&(a=e),a?a.map(function(e){return t=n.inArray(this,o),-1!==t?r[t]:null}).toArray():void 0):[]};Ye=function(e,t){if(!this instanceof Ye)throw"DT API must be constructed as a new object";var a=[],r=function(e){var t=_t(e);t&&a.push.apply(a,t)};if(n.isArray(e))for(var o=0,i=e.length;i>o;o++)r(e[o]);else r(e);this.context=gt(a),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},Ye.extend(this,this,xt)},Xe.Api=Ye,Ye.prototype={concat:Dt.concat,context:[],each:function(e){for(var t=0,a=this.length;a>t;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Ye(t[e],this[e]):null},filter:function(e){var t=[];if(Dt.filter)t=Dt.filter.call(this,e,this);else for(var a=0,n=this.length;n>a;a++)e.call(this,this[a],a,this)&&t.push(this[a]);return new Ye(this.context,t)},flatten:function(){var e=[];return new Ye(this.context,e.concat.apply(e,this.toArray()))},join:Dt.join,indexOf:Dt.indexOf||function(e,t){for(var a=t||0,n=this.length;n>a;a++)if(this[a]===e)return a;return-1},iterator:function(e,t,n){var r,o,i,s,l,d,c,f,u=[],p=this.context,h=this.selector;for("string"==typeof e&&(n=t,t=e,e=!1),o=0,i=p.length;i>o;o++)if("table"===t)r=n(p[o],o),r!==a&&u.push(r);else if("columns"===t||"rows"===t)r=n(p[o],this[o],o),r!==a&&u.push(r);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(c=this[o],"column-rows"===t&&(d=$t(p[o],h.opts)),s=0,l=c.length;l>s;s++)f=c[s],r="cell"===t?n(p[o],f.row,f.column,o,s):n(p[o],f,o,s,d),r!==a&&u.push(r);if(u.length){var m=new Ye(p,e?u.concat.apply([],u):u),g=m.selector;return g.rows=h.rows,g.cols=h.cols,g.opts=h.opts,m}return this},lastIndexOf:Dt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Dt.map)t=Dt.map.call(this,e,this);else for(var a=0,n=this.length;n>a;a++)t.push(e.call(this,this[a],a));return new Ye(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:Dt.pop,push:Dt.push,reduce:Dt.reduce||function(e,t){return c(this,e,t,0,this.length,1)},reduceRight:Dt.reduceRight||function(e,t){return c(this,e,t,this.length-1,-1,-1)},reverse:Dt.reverse,selector:null,shift:Dt.shift,sort:Dt.sort,splice:Dt.splice,toArray:function(){return Dt.slice.call(this)},to$:function(){return n(this)},toJQuery:function(){return n(this)},unique:function(){return new Ye(this.context,gt(this))},unshift:Dt.unshift},Ye.extend=function(e,t,a){if(t&&(t instanceof Ye||t.__dt_wrapper)){var r,o,i,s=function(e,t,a){return function(){var n=t.apply(e,arguments);return Ye.extend(n,n,a.methodExt),n}};for(r=0,o=a.length;o>r;r++)i=a[r],t[i.name]="function"==typeof i.val?s(e,i.val,i):n.isPlainObject(i.val)?{}:i.val,t[i.name].__dt_wrapper=!0,Ye.extend(e,t[i.name],i.propExt)}},Ye.register=Ke=function(e,t){if(n.isArray(e))for(var a=0,r=e.length;r>a;a++)Ye.register(e[a],t);else{var o,i,s,l,d=e.split("."),c=xt,f=function(e,t){for(var a=0,n=e.length;n>a;a++)if(e[a].name===t)return e[a];return null};for(o=0,i=d.length;i>o;o++){l=-1!==d[o].indexOf("()"),s=l?d[o].replace("()",""):d[o];var u=f(c,s);u||(u={name:s,val:{},methodExt:[],propExt:[]},c.push(u)),o===i-1?u.val=t:c=l?u.methodExt:u.propExt}}},Ye.registerPlural=Qe=function(e,t,r){Ye.register(e,r),Ye.register(t,function(){var e=r.apply(this,arguments);return e===this?this:e instanceof Ye?e.length?n.isArray(e[0])?new Ye(e.context,e[0]):e[0]:a:e})};var Tt=function(e,t){if("number"==typeof e)return[t[e]];var a=n.map(t,function(e,t){return e.nTable});return n(a).filter(e).map(function(e){var r=n.inArray(this,a);return t[r]}).toArray()};Ke("tables()",function(e){return e?new Ye(Tt(e,this.context)):this}),Ke("table()",function(e){var t=this.tables(e),a=t.context;return a.length?new Ye(a[0]):t}),Qe("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable})}),Qe("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody})}),Qe("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead})}),Qe("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot})}),Qe("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper})}),Ke("draw()",function(e){return this.iterator("table",function(t){R(t,e===!1)})}),Ke("page()",function(e){return e===a?this.page.info().page:this.iterator("table",function(t){ue(t,e)})}),Ke("page.info()",function(e){if(0===this.context.length)return a;var t=this.context[0],n=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay(),i=-1===r;return{page:i?0:Math.floor(n/r),pages:i?1:Math.ceil(o/r),start:n,end:t.fnDisplayEnd(),length:r,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o}}),Ke("page.len()",function(e){return e===a?0!==this.context.length?this.context[0]._iDisplayLength:a:this.iterator("table",function(t){de(t,e)})});var Ft=function(e,t,a){if("ssp"==Ve(e)?R(e,t):(he(e,!0),W(e,[],function(a){P(e);for(var n=J(e,a),r=0,o=n.length;o>r;r++)C(e,n[r]);R(e,t),he(e,!1)})),a){var n=new Ye(e);n.one("draw",function(){a(n.ajax.json())})}};Ke("ajax.json()",function(){var e=this.context;return e.length>0?e[0].json:void 0}),Ke("ajax.params()",function(){var e=this.context;return e.length>0?e[0].oAjaxData:void 0}),Ke("ajax.reload()",function(e,t){return this.iterator("table",function(a){Ft(a,t===!1,e)})}),Ke("ajax.url()",function(e){var t=this.context;return e===a?0===t.length?a:(t=t[0],t.ajax?n.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){n.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Ke("ajax.url().load()",function(e,t){return this.iterator("table",function(a){Ft(a,t===!1,e)})});var It=function(e,t){var r,o,i,s,l,d,c=[];for(e&&"string"!=typeof e&&e.length!==a||(e=[e]),i=0,s=e.length;s>i;i++)for(o=e[i]&&e[i].split?e[i].split(","):[e[i]],l=0,d=o.length;d>l;l++)r=t("string"==typeof o[l]?n.trim(o[l]):o[l]),r&&r.length&&c.push.apply(c,r);return c},kt=function(e){return e||(e={}),e.filter&&!e.search&&(e.search=e.filter),{search:e.search||"none",order:e.order||"current",page:e.page||"all"}},Pt=function(e){for(var t=0,a=e.length;a>t;t++)if(e[t].length>0)return e[0]=e[t],e.length=1,e.context=[e.context[t]],e;return e.length=0,e},$t=function(e,t){var a,r,o,i=[],s=e.aiDisplay,l=e.aiDisplayMaster,d=t.search,c=t.order,f=t.page;if("ssp"==Ve(e))return"removed"===d?[]:ht(0,l.length);if("current"==f)for(a=e._iDisplayStart,r=e.fnDisplayEnd();r>a;a++)i.push(s[a]);else if("current"==c||"applied"==c)i="none"==d?l.slice():"applied"==d?s.slice():n.map(l,function(e,t){return-1===n.inArray(e,s)?e:null});else if("index"==c||"original"==c)for(a=0,r=e.aoData.length;r>a;a++)"none"==d?i.push(a):(o=n.inArray(a,s),(-1===o&&"removed"==d||o>=0&&"applied"==d)&&i.push(a));return i},Lt=function(e,t,a){return It(t,function(t){var r=st(t);if(null!==r&&!a)return[r];var o=$t(e,a);if(null!==r&&-1!==n.inArray(r,o))return[r];if(!t)return o;for(var i=[],s=0,l=o.length;l>s;s++)i.push(e.aoData[o[s]].nTr);return t.nodeName&&-1!==n.inArray(t,i)?[t._DT_RowIndex]:n(i).filter(t).map(function(){return this._DT_RowIndex}).toArray()})};Ke("rows()",function(e,t){e===a?e="":n.isPlainObject(e)&&(t=e,e=""),t=kt(t);var r=this.iterator("table",function(a){return Lt(a,e,t)});return r.selector.rows=e,r.selector.opts=t,r}),Ke("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||a})}),Ke("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return pt(e.aoData,t,"_aData")})}),Qe("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,a){var n=t.aoData[a];return"search"===e?n._aFilterData:n._aSortData})}),Qe("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,a){L(t,a,e)})}),Qe("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t})}),Qe("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,a,r){var o=t.aoData;o.splice(a,1);for(var i=0,s=o.length;s>i;i++)null!==o[i].nTr&&(o[i].nTr._DT_RowIndex=i);n.inArray(a,t.aiDisplay);$(t.aiDisplayMaster,a),$(t.aiDisplay,a),$(e[r],a,!1),Be(t)})}),Ke("rows.add()",function(e){var t=this.iterator("table",function(t){var a,n,r,o=[];for(n=0,r=e.length;r>n;n++)a=e[n],a.nodeName&&"TR"===a.nodeName.toUpperCase()?o.push(w(t,a)[0]):o.push(C(t,a));return o}),a=this.rows(-1);return a.pop(),a.push.apply(a,t.toArray()),a}),Ke("row()",function(e,t){return Pt(this.rows(e,t))}),Ke("row().data()",function(e){var t=this.context;return e===a?t.length&&this.length?t[0].aoData[this[0]]._aData:a:(t[0].aoData[this[0]]._aData=e,L(t[0],this[0],"data"),this)}),Ke("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Ke("row.add()",function(e){e instanceof n&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?w(t,e)[0]:C(t,e)});return this.row(t[0])});var Et=function(e,t,a,r){var o=[],i=function(t,a){if(t.nodeName&&"tr"===t.nodeName.toLowerCase())o.push(t);else{var r=n("<tr><td/></tr>").addClass(a);n("td",r).addClass(a).html(t)[0].colSpan=g(e),o.push(r[0])}};if(n.isArray(a)||a instanceof n)for(var s=0,l=a.length;l>s;s++)i(a[s],r);else i(a,r);t._details&&t._details.remove(),t._details=n(o),t._detailsShow&&t._details.insertAfter(t.nTr)},At=function(e){var t=e.context;if(t.length&&e.length){var n=t[0].aoData[e[0]];n._details&&(n._details.remove(),n._detailsShow=a,n._details=a)}},Ot=function(e,t){var a=e.context;if(a.length&&e.length){var n=a[0].aoData[e[0]];n._details&&(n._detailsShow=t,t?n._details.insertAfter(n.nTr):n._details.detach(),jt(a[0]))}},jt=function(e){var t=new Ye(e),a=".dt.DT_details",n="draw"+a,r="column-visibility"+a,o="destroy"+a,i=e.aoData;t.off(n+" "+r+" "+o),ut(i,"_details").length>0&&(t.on(n,function(a,n){e===n&&t.rows({page:"current"}).eq(0).each(function(e){var t=i[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(r,function(t,a,n,r){if(e===a)for(var o,s=g(a),l=0,d=i.length;d>l;l++)o=i[l],o._details&&o._details.children("td[colspan]").attr("colspan",s)}),t.on(o,function(t,a){if(e===a)for(var n=0,r=i.length;r>n;n++)i[n]._details&&At(i[n])}))},Nt="",Mt=Nt+"row().child",Rt=Mt+"()";Ke(Rt,function(e,t){var n=this.context;return e===a?n.length&&this.length?n[0].aoData[this[0]]._details:a:(e===!0?this.child.show():e===!1?At(this):n.length&&this.length&&Et(n[0],n[0].aoData[this[0]],e,t),this)}),Ke([Mt+".show()",Rt+".show()"],function(e){return Ot(this,!0),this}),Ke([Mt+".hide()",Rt+".hide()"],function(){return Ot(this,!1),this}),Ke([Mt+".remove()",Rt+".remove()"],function(){return At(this),this}),Ke(Mt+".isShown()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]]._detailsShow||!1:!1});var Ut=/^(.+):(name|visIdx|visible)$/,Ht=function(e,t,a){var r=e.aoColumns,o=ut(r,"sName"),i=ut(r,"nTh");return It(t,function(t){var a=st(t);if(""===t)return ht(r.length);if(null!==a)return[a>=0?a:r.length+a];var s="string"==typeof t?t.match(Ut):"";if(!s)return n(i).filter(t).map(function(){return n.inArray(this,i)}).toArray();switch(s[2]){case"visIdx":case"visible":var l=parseInt(s[1],10);if(0>l){var d=n.map(r,function(e,t){return e.bVisible?t:null});return[d[d.length+l]]}return[h(e,l)];case"name":return n.map(o,function(e,t){return e===s[1]?t:null})}})},Bt=function(e,t,r,o){var i,s,l,d,c=e.aoColumns,f=c[t],u=e.aoData;if(r===a)return f.bVisible;if(f.bVisible!==r){if(r){var h=n.inArray(!0,ut(c,"bVisible"),t+1);for(s=0,l=u.length;l>s;s++)d=u[s].nTr,i=u[s].anCells,d&&d.insertBefore(i[t],i[h]||null)}else n(ut(e.aoData,"anCells",t)).detach();f.bVisible=r,N(e,e.aoHeader),N(e,e.aoFooter),(o===a||o)&&(p(e),(e.oScroll.sX||e.oScroll.sY)&&ge(e)),He(e,null,"column-visibility",[e,t,r]),Ee(e)}};Ke("columns()",function(e,t){e===a?e="":n.isPlainObject(e)&&(t=e,e=""),t=kt(t);var r=this.iterator("table",function(a){return Ht(a,e,t)});return r.selector.cols=e,r.selector.opts=t,r}),Qe("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh})}),Qe("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf})}),Qe("columns().data()","column().data()",function(){return this.iterator("column-rows",function(e,t,a,n,r){for(var o=[],i=0,s=r.length;s>i;i++)o.push(D(e,r[i],t,""));return o})}),Qe("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,a,n,r,o){return pt(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",a)})}),Qe("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,a,n,r){return pt(e.aoData,r,"anCells",t)})}),Qe("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(n,r){return e===a?n.aoColumns[r].bVisible:Bt(n,r,e,t)})}),Qe("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,a){return"visible"===e?m(t,a):a})}),Ke("columns.adjust()",function(){return this.iterator("table",function(e){p(e)})}),Ke("column.index()",function(e,t){if(0!==this.context.length){var a=this.context[0];if("fromVisible"===e||"toData"===e)return h(a,t);if("fromData"===e||"toVisible"===e)return m(a,t)}}),Ke("column()",function(e,t){return Pt(this.columns(e,t))});var Wt=function(e,t,r){var o,i,s,l,d,c=e.aoData,f=$t(e,r),u=pt(c,f,"anCells"),p=n([].concat.apply([],u)),h=e.aoColumns.length;return It(t,function(e){if(null===e||e===a){for(i=[],s=0,l=f.length;l>s;s++)for(o=f[s],d=0;h>d;d++)i.push({row:o,column:d});return i}return n.isPlainObject(e)?[e]:p.filter(e).map(function(e,t){return o=t.parentNode._DT_RowIndex,{row:o,column:n.inArray(t,c[o].anCells)}}).toArray()})};Ke("cells()",function(e,t,r){if(n.isPlainObject(e)&&(typeof e.row!==a?(r=t,t=null):(r=e,e=null)),n.isPlainObject(t)&&(r=t,t=null),null===t||t===a)return this.iterator("table",function(t){return Wt(t,e,kt(r))});var o,i,s,l,d,c=this.columns(t,r),f=this.rows(e,r),u=this.iterator("table",function(e,t){for(o=[],i=0,s=f[t].length;s>i;i++)for(l=0,d=c[t].length;d>l;l++)o.push({row:f[t][i],column:c[t][l]});return o});return n.extend(u.selector,{cols:t,rows:e,opts:r}),u}),Qe("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,a){return e.aoData[t].anCells[a]})}),Ke("cells().data()",function(){return this.iterator("cell",function(e,t,a){return D(e,t,a)})}),Qe("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,a,n){return t.aoData[a][e][n]})}),Qe("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,a){return{row:t,column:a,columnVisible:m(e,a)}})}),Ke(["cells().invalidate()","cell().invalidate()"],function(e){var t=this.selector;return this.rows(t.rows,t.opts).invalidate(e),this}),Ke("cell()",function(e,t,a){return Pt(this.cells(e,t,a))}),Ke("cell().data()",function(e){var t=this.context,n=this[0];return e===a?t.length&&n.length?D(t[0],n[0].row,n[0].column):a:(_(t[0],n[0].row,n[0].column,e),L(t[0],n[0].row,"data",n[0].column),this)}),Ke("order()",function(e,t){var r=this.context;return e===a?0!==r.length?r[0].aaSorting:a:("number"==typeof e?e=[[e,t]]:n.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Ke("order.listener()",function(e,t,a){return this.iterator("table",function(n){Pe(n,e,t,a)})}),Ke(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(a,r){var o=[];n.each(t[r],function(t,a){o.push([a,e])}),a.aaSorting=o})}),Ke("search()",function(e,t,r,o){var i=this.context;return e===a?0!==i.length?i[0].oPreviousSearch.sSearch:a:this.iterator("table",function(a){a.oFeatures.bFilter&&G(a,n.extend({},a.oPreviousSearch,{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===r?!0:r,bCaseInsensitive:null===o?!0:o}),1)})}),Qe("columns().search()","column().search()",function(e,t,r,o){return this.iterator("column",function(i,s){var l=i.aoPreSearchCols;return e===a?l[s].sSearch:void(i.oFeatures.bFilter&&(n.extend(l[s],{sSearch:e+"",bRegex:null===t?!1:t,bSmart:null===r?!0:r,bCaseInsensitive:null===o?!0:o}),G(i,i.oPreviousSearch,1)))})}),Ke("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ke("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Ke("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ke("state.save()",function(){return this.iterator("table",function(e){Ee(e)})}),Xe.versionCheck=Xe.fnVersionCheck=function(e){for(var t,a,n=Xe.version.split("."),r=e.split("."),o=0,i=r.length;i>o;o++)if(t=parseInt(n[o],10)||0,a=parseInt(r[o],10)||0,t!==a)return t>a;return!0},Xe.isDataTable=Xe.fnIsDataTable=function(e){var t=n(e).get(0),a=!1;return n.each(Xe.settings,function(e,n){n.nTable!==t&&n.nScrollHead!==t&&n.nScrollFoot!==t||(a=!0)}),a},Xe.tables=Xe.fnTables=function(e){return jQuery.map(Xe.settings,function(t){return!e||e&&n(t.nTable).is(":visible")?t.nTable:void 0})},Xe.camelToHungarian=o,Ke("$()",function(e,t){var a=this.rows(t).nodes(),r=n(a);return n([].concat(r.filter(e).toArray(),r.find(e).toArray()))}),n.each(["on","one","off"],function(e,t){Ke(t+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var a=n(this.tables().nodes());return a[t].apply(a,e),this})}),Ke("clear()",function(){return this.iterator("table",function(e){P(e)})}),Ke("settings()",function(){return new Ye(this.context,this.context)}),Ke("data()",function(){return this.iterator("table",function(e){return ut(e.aoData,"_aData")}).flatten()}),Ke("destroy()",function(t){return t=t||!1,this.iterator("table",function(a){var r,o=a.nTableWrapper.parentNode,i=a.oClasses,s=a.nTable,l=a.nTBody,d=a.nTHead,c=a.nTFoot,f=n(s),u=n(l),p=n(a.nTableWrapper),h=n.map(a.aoData,function(e){return e.nTr});a.bDestroying=!0,He(a,"aoDestroyCallback","destroy",[a]),t||new Ye(a).columns().visible(!0),p.unbind(".DT").find(":not(tbody *)").unbind(".DT"),n(e).unbind(".DT-"+a.sInstance),s!=d.parentNode&&(f.children("thead").detach(),f.append(d)),c&&s!=c.parentNode&&(f.children("tfoot").detach(),f.append(c)),f.detach(),p.detach(),a.aaSorting=[],a.aaSortingFixed=[],$e(a),n(h).removeClass(a.asStripeClasses.join(" ")),n("th, td",d).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),a.bJUI&&(n("th span."+i.sSortIcon+", td span."+i.sSortIcon,d).detach(),n("th, td",d).each(function(){var e=n("div."+i.sSortJUIWrapper,this);n(this).append(e.contents()),e.detach()})),!t&&o&&o.insertBefore(s,a.nTableReinsertBefore),u.children().detach(),u.append(h),f.css("width",a.sDestroyWidth).removeClass(i.sTable),r=a.asDestroyStripes.length,r&&u.children().each(function(e){n(this).addClass(a.asDestroyStripes[e%r])});var m=n.inArray(a,Xe.settings);-1!==m&&Xe.settings.splice(m,1)})}),Xe.version="1.10.2",Xe.settings=[],Xe.models={},Xe.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Xe.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Xe.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Xe.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(a){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"<div class='loading_wrapper'><img src='/images/loading_32.gif' class='loading' /><span>Loading...</span></div>",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"<div class='selectProductLeft'><img src='' /><p>Select a folder from left panel</p></div>"},oSearch:n.extend({},Xe.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},r(Xe.defaults),Xe.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(Xe.defaults.column),Xe.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:a,oAjaxData:a,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Ve(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Ve(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,a=t+e,n=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?o===!1||-1===e?t+n:Math.min(t+e,this._iRecordsDisplay):!o||a>n||-1===e?n:a},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Xe.ext=Ge={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Xe.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Xe.version},n.extend(Ge,{afnFiltering:Ge.search,aTypes:Ge.type.detect,ofnSearch:Ge.type.search,oSort:Ge.type.order,afnSortData:Ge.order,aoFeatures:Ge.feature,oApi:Ge.internal,oStdClasses:Ge.classes,oPagination:Ge.pager}),n.extend(Xe.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var t=e+"ui-state-default",a=e+"css_right ui-icon ui-icon-",r=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";n.extend(Xe.ext.oJUIClasses,Xe.ext.classes,{sPageButton:"fg-button ui-button "+t,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:t+" sorting_asc",sSortDesc:t+" sorting_desc",sSortable:t+" sorting",sSortableAsc:t+" sorting_asc_disabled",sSortableDesc:t+" sorting_desc_disabled",sSortableNone:t+" sorting_disabled",sSortJUIAsc:a+"triangle-1-n",sSortJUIDesc:a+"triangle-1-s",sSortJUI:a+"carat-2-n-s",sSortJUIAscAllowed:a+"carat-1-n",sSortJUIDescAllowed:a+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+t,sScrollFoot:"dataTables_scrollFoot "+t,sHeaderTH:t,sFooterTH:t,sJUIHeader:r+" ui-corner-tl ui-corner-tr",sJUIFooter:r+" ui-corner-bl ui-corner-br"})}();var Vt=Xe.ext.pager;n.extend(Vt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",qe(e,t),"next"]},full_numbers:function(e,t){return["first","previous",qe(e,t),"next","last"]},_numbers:qe,numbers_length:7}),n.extend(!0,Xe.ext.renderer,{pageButton:{_:function(e,a,r,o,i,s){var l,d,c=e.oClasses,f=e.oLanguage.oPaginate,u=0,p=function(t,a){var o,h,m,g,v=function(t){ue(e,t.data.action,!0)};for(o=0,h=a.length;h>o;o++)if(g=a[o],n.isArray(g)){var b=n("<"+(g.DT_el||"div")+"/>").appendTo(t);p(b,g)}else{switch(l="",d="",g){case"ellipsis":t.append("<span>&hellip;</span>");break;case"first":l=f.sFirst,d=g+(i>0?"":" "+c.sPageButtonDisabled);break;case"previous":l=f.sPrevious,d=g+(i>0?"":" "+c.sPageButtonDisabled);break;case"next":l=f.sNext,d=g+(s-1>i?"":" "+c.sPageButtonDisabled);break;case"last":l=f.sLast,d=g+(s-1>i?"":" "+c.sPageButtonDisabled);break;default:l=g+1,d=i===g?c.sPageButtonActive:""}l&&(m=n("<a>",{"class":c.sPageButton+" "+d,"aria-controls":e.sTableId,"data-dt-idx":u,tabindex:e.iTabIndex,id:0===r&&"string"==typeof g?e.sTableId+"_"+g:null}).html(l).appendTo(t),Re(m,{action:g},v),u++)}};try{var h=n(t.activeElement).data("dt-idx");p(n(a).empty(),o),null!==h&&n(a).find("[data-dt-idx="+h+"]").focus()}catch(m){}}}});var qt=function(e,t,a,n){return e&&"-"!==e?(t&&(e=lt(e,t)),e.replace&&(a&&(e=e.replace(a,"")),n&&(e=e.replace(n,""))),1*e):-(1/0)};return n.extend(Ge.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return it(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return it(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0}}),ze(""),n.extend(Xe.ext.type.detect,[function(e,t){var a=t.oLanguage.sDecimal;return dt(e,a)?"num"+a:null},function(e,t){if(e&&(!at.test(e)||!nt.test(e)))return null;var a=Date.parse(e);return null!==a&&!isNaN(a)||it(e)?"date":null},function(e,t){var a=t.oLanguage.sDecimal;return dt(e,a,!0)?"num-fmt"+a:null},function(e,t){var a=t.oLanguage.sDecimal;return ft(e,a)?"html-num"+a:null},function(e,t){var a=t.oLanguage.sDecimal;return ft(e,a,!0)?"html-num-fmt"+a:null},function(e,t){return it(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),n.extend(Xe.ext.type.search,{html:function(e){return it(e)?e:"string"==typeof e?e.replace(et," ").replace(tt,""):""},string:function(e){return it(e)?e:"string"==typeof e?e.replace(et," "):e}}),n.extend(!0,Xe.ext.renderer,{header:{_:function(e,t,a,r){n(e.nTable).on("order.dt.DT",function(n,o,i,s){if(e===o){var l=a.idx;t.removeClass(a.sSortingClass+" "+r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[l]?r.sSortAsc:"desc"==s[l]?r.sSortDesc:a.sSortingClass)}})},jqueryui:function(e,t,a,r){
var o=a.idx;n("<div/>").addClass(r.sSortJUIWrapper).append(t.contents()).append(n("<span/>").addClass(r.sSortIcon+" "+a.sSortingClassJUI)).appendTo(t),n(e.nTable).on("order.dt.DT",function(n,i,s,l){e===i&&(t.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==l[o]?r.sSortAsc:"desc"==l[o]?r.sSortDesc:a.sSortingClass),t.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==l[o]?r.sSortJUIAsc:"desc"==l[o]?r.sSortJUIDesc:a.sSortingClassJUI))})}}}),Xe.render={number:function(e,t,a,n){return{display:function(r){var o=0>r?"-":"";r=Math.abs(parseFloat(r));var i=parseInt(r,10),s=a?t+(r-i).toFixed(a).substring(2):"";return o+(n||"")+i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+s}}}},n.extend(Xe.ext.internal,{_fnExternApiFunc:Je,_fnBuildAjax:W,_fnAjaxUpdate:V,_fnAjaxParameters:q,_fnAjaxUpdateDraw:z,_fnAjaxDataSrc:J,_fnAddColumn:f,_fnColumnOptions:u,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:h,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:i,_fnBrowserDetect:d,_fnAddData:C,_fnAddTr:w,_fnNodeToDataIndex:S,_fnNodeToColumnIndex:x,_fnGetCellData:D,_fnSetCellData:_,_fnSplitObjNotation:T,_fnGetObjectDataFn:F,_fnSetObjectDataFn:I,_fnGetDataMaster:k,_fnClearTable:P,_fnDeleteIndex:$,_fnInvalidateRow:L,_fnGetRowElements:E,_fnCreateTr:A,_fnBuildHead:j,_fnDrawHead:N,_fnDraw:M,_fnReDraw:R,_fnAddOptionsHtml:U,_fnDetectHeader:H,_fnGetUniqueThs:B,_fnFeatureHtmlFilter:X,_fnFilterComplete:G,_fnFilterCustom:Y,_fnFilterColumn:K,_fnFilter:Q,_fnFilterCreateSearch:Z,_fnEscapeRegex:ee,_fnFilterData:te,_fnFeatureHtmlInfo:re,_fnUpdateInfo:oe,_fnInfoMacros:ie,_fnInitialise:se,_fnInitComplete:le,_fnLengthChange:de,_fnFeatureHtmlLength:ce,_fnFeatureHtmlPaginate:fe,_fnPageChange:ue,_fnFeatureHtmlProcessing:pe,_fnProcessingDisplay:he,_fnFeatureHtmlTable:me,_fnScrollDraw:ge,_fnApplyToChildren:ve,_fnCalculateColumnWidths:be,_fnThrottle:ye,_fnConvertToWidth:Ce,_fnScrollingWidthAdjust:we,_fnGetWidestNode:Se,_fnGetMaxLenString:xe,_fnStringToCss:De,_fnScrollBarWidth:_e,_fnSortFlatten:Te,_fnSort:Fe,_fnSortAria:Ie,_fnSortListener:ke,_fnSortAttachListener:Pe,_fnSortingClasses:$e,_fnSortData:Le,_fnSaveState:Ee,_fnLoadState:Ae,_fnSettingsFromNode:Oe,_fnLog:je,_fnMap:Ne,_fnBindAction:Re,_fnCallbackReg:Ue,_fnCallbackFire:He,_fnLengthOverflow:Be,_fnRenderer:We,_fnDataSource:Ve,_fnRowAttributes:O,_fnCalculateEnd:function(){}}),n.fn.dataTable=Xe,n.fn.dataTableSettings=Xe.settings,n.fn.dataTableExt=Xe.ext,n.fn.DataTable=function(e){return n(this).dataTable(e).api()},n.each(Xe,function(e,t){n.fn.DataTable[e]=t}),n.fn.dataTable})}(window,document),angular.module("datatables",["datatables.directive","datatables.factory"]).run(initAngularDataTables),angular.module("datatables.util",[]).factory("DTPropertyUtil",dtPropertyUtil),angular.module("datatables.options",[]).constant("DT_DEFAULT_OPTIONS",{dom:"lfrtip",sAjaxDataProp:"",aoColumns:[]}).service("DTDefaultOptions",dtDefaultOptions),angular.module("datatables.instances",[]).factory("DTInstances",dtInstances).factory("DTInstanceFactory",dtInstanceFactory),angular.module("datatables.factory",[]).factory("DTOptionsBuilder",dtOptionsBuilder).factory("DTColumnBuilder",dtColumnBuilder).factory("DTColumnDefBuilder",dtColumnDefBuilder).factory("DTLoadingTemplate",dtLoadingTemplate),angular.module("datatables.renderer",["datatables.instances","datatables.factory","datatables.options","datatables.instances"]).factory("DTRendererService",dtRendererService).factory("DTRenderer",dtRenderer).factory("DTDefaultRenderer",dtDefaultRenderer).factory("DTNGRenderer",dtNGRenderer).factory("DTPromiseRenderer",dtPromiseRenderer).factory("DTAjaxRenderer",dtAjaxRenderer).factory("DTRendererFactory",dtRendererFactory),angular.module("datatables.directive",["datatables.instances","datatables.renderer","datatables.options","datatables.util"]).directive("datatable",dataTable),function(e,t,a,n){"use strict";function r(e,t){function a(e){function a(e,a){function n(){var e="S";return r.dom=r.dom?r.dom:t.dom,-1===r.dom.indexOf(e)&&(r.dom=r.dom+e),r}var r=e(a);return r.withScroller=n,r}var n=e.newOptions,r=e.fromSource,o=e.fromFnPromise;return e.newOptions=function(){return a(n)},e.fromSource=function(e){return a(r,e)},e.fromFnPromise=function(e){return a(o,e)},e}e.decorator("DTOptionsBuilder",a),a.$inject=["$delegate"]}n.module("datatables.scroller",["datatables"]).config(r),r.$inject=["$provide","DT_DEFAULT_OPTIONS"]}(window,document,jQuery,angular),angular.module("vmfTabsMod",[]).directive("vmfTabs",function(){return{restrict:"E",transclude:!0,scope:{},controller:function(e){var t=e.panes=[];e.onKeydown=function(a){if(37===a.keyCode){for(var n=0;!t[n].selected;)n+=1;n>0&&(angular.forEach(t,function(e){e.selected=!1}),e.ieselect(t[n-1]))}if(39===a.keyCode){for(var r=0;!t[r].selected;)r+=1;r+1!==t.length&&(angular.forEach(t,function(e){e.selected=!1}),e.ieselect(t[r+1]))}},e.select=function(e){angular.forEach(t,function(e){e.selected=!1}),e.selected=!0},e.ieselect=function(e,a,n){angular.forEach(t,function(e){e.selected=!1,$(".tab-content").find("vmf-pane[tabno="+e.tabno+"]").children().hide()}),e.selected=!0,$(".tab-content").find("vmf-pane[tabno="+e.tabno+"]").children().show(),$(n.target).parents("ul").find("li a").removeClass("activeState"),$(n.target).addClass("activeState")},this.addPane=function(a){$(".tab-content").find("vmf-pane").children().hide(),0===t.length&&e.select(a),t.push(a),$.each($(".tab-content"),function(){$(this).children().first().children().show()})}},template:"<div class=' vmfTab'><div class='navbar-header'><a class='navbar-toggle'></a></div><div class='collapse navbar-collapse' ><ul class=' '><li ng-keyup='onKeydown($event)' ng-repeat='pane in panes' ng-class='{active:pane.selected}'><a href='javascript:void(0);' ng-class='{activeState:pane.selected}' ng-click='select(pane);ieselect(pane,$index,$event);'>{{pane.listlabel}}</a></li></ul></div></div><div class='tab-content' ng-transclude></div>"}}).directive("vmfPane",function(e){return{require:"^vmfTabs",restrict:"E",transclude:!0,scope:{tabno:"@",listlabel:"@",link:"@"},link:function(t,a,n,r){r.addPane(t),e(function(){$(".navbar-collapse ul").find("li a").eq(0).addClass("activeState")})},template:"<div class='tab-pane' ng-show='selected' ng-transclude></div>"}}).directive("vmfTabsone",function(){return{restrict:"E",transclude:!0,scope:{},controller:function(e){var t=e.panes=[];e.onKeydown=function(a){if(37===a.keyCode){for(var n=0;!t[n].selected;)n+=1;n>0&&(angular.forEach(t,function(e){e.selected=!1}),e.ieselect(t[n-1]))}if(39===a.keyCode){for(var r=0;!t[r].selected;)r+=1;r+1!==t.length&&(angular.forEach(t,function(e){e.selected=!1}),e.ieselect(t[r+1]))}},e.select=function(e){angular.forEach(t,function(e){e.selected=!1}),e.selected=!0},e.ieselect=function(e,a,n){angular.forEach(t,function(e){e.selected=!1,$(".tab-content").find("vmf-paneone[tabno="+e.tabno+"]").children().hide()}),e.selected=!0,$(".tab-content").find("vmf-paneone[tabno="+e.tabno+"]").children().show(),$(n.target).parents("ul").find("li a").removeClass("activeState"),$(n.target).addClass("activeState")},this.addPane=function(a){$(".tab-content").find("vmf-paneone").children().hide(),0===t.length&&e.select(a),t.push(a),$.each($(".tab-content"),function(){$(this).children().first().children().show()})}},template:"<div class=' vmfTab vmfTab1'><ul class=''><li ng-keyup='onKeydown($event)' ng-repeat='pane in panes' ng-class='{active:pane.selected}'><a href='{{pane.tabhref}}' ng-class='{activeState:pane.selected}' class='{{pane.customClass}}' ng-click='select(pane);ieselect(pane,$index,$event);'>{{pane.listlabel}}</a></li></ul></div><div class='tab-content' ng-transclude></div>"}}).directive("vmfPaneone",function(e){return{require:"^vmfTabsone",restrict:"E",transclude:!0,scope:{tabno:"@",listlabel:"@",link:"@",tabhref:"@",customClass:"@"},link:function(t,a,n,r){r.addPane(t),e(function(){$(".vmfTab.vmfTab1 ul").find("li a").eq(0).addClass("activeState")})},template:"<div class='tab-pane' ng-show='selected' ng-transclude></div>"}}).directive("vmfTabstwo",function(){return{restrict:"E",transclude:!0,scope:{labelmessage:"@"},controller:function(e){var t=e.panes=[];e.onKeydown=function(a){if(37===a.keyCode){for(var n=0;!t[n].selected;)n+=1;n>0&&(angular.forEach(t,function(e){e.selected=!1}),e.ieselect(t[n-1]))}if(39===a.keyCode){for(var r=0;!t[r].selected;)r+=1;r+1!==t.length&&(angular.forEach(t,function(e){e.selected=!1}),e.ieselect(t[r+1]))}},e.select=function(e){angular.forEach(t,function(e){e.selected=!1}),e.selected=!0},e.ieselect=function(e,a,n){angular.forEach(t,function(e){e.selected=!1,$(".tab-content").find("vmf-panetwo[tabno="+e.tabno+"]").children().hide()}),e.selected=!0,$(".tab-content").find("vmf-panetwo[tabno="+e.tabno+"]").children().show(),$(n.target).parents("ul").find("li a").removeClass("activeState"),$(n.target).addClass("activeState")},this.addPane=function(a){$(".tab-content").find("vmf-panetwo").children().hide(),0===t.length&&e.select(a),t.push(a),$.each($(".tab-content"),function(){$(this).children().first().children().show()})}},template:"<div class='  vmfTab2'><span class='tab_head_txt pull-left'>{{labelmessage}}</span><ul class=''><li ng-keyup='onKeydown($event)' ng-repeat='pane in panes' ng-class='{active:pane.selected}'><a href='javascript:void(0);' ng-class='{activeState:pane.selected}' ng-click='select(pane);ieselect(pane,$index,$event);'>{{pane.listlabel}}</a></li></ul></div><div class='tab-content' ng-transclude></div>"}}).directive("vmfPanetwo",function(e){return{require:"^vmfTabstwo",restrict:"E",transclude:!0,scope:{tabno:"@",listlabel:"@",link:"@"},link:function(t,a,n,r){r.addPane(t),e(function(){$(".vmfTab2 ul").find("li a").eq(0).addClass("activeState")})},template:"<div class='tab-pane' ng-show='selected' ng-transclude></div>"}}),angular.module("vmfSelectListMod",[]).directive("vmfSelectList",["$compile","$document","$window","$timeout",function(e,t,a,n){return{restrict:"EA",scope:{dtitle:"@",defaulttext:"@",model:"=",list:"=",sortby:"@",mandatory:"@",customClass:"=",htitle:"@",sub:"=",truncate:"@",listalign:"@",enablesearch:"@",searchplaceholder:"@",preSelectInd:"=",titleColMod:"@",selectColMod:"@",showArrows:"@",dropdownType:"@",templateUrl:"@",controllerName:"@",customeventname:"@"},link:function(r,o,i){var s=[];"with_seperators"!=i.dropdownType&&"with_group"!=i.dropdownType||(r.list&&r.list[0]&&r.list[0]instanceof Array&&angular.forEach(r.list,function(e,t){angular.forEach(e,function(e,t){0==t&&(e.seperator="true"),s.push(e)})}),r.list=s),r.list&&r.list[0]&&("false"==i.sortby||("string"==typeof r.list[0]?r.list.sort():"number"==typeof r.list[0]?r.list.sort(function(e,t){return e-t}):"object"==typeof r.list[0]&&("value"===r.sortby?"number"==typeof r.list[0].value?r.list.sort(function(e,t){return e.value-t.value}):"string"==typeof r.list[0].value&&r.list.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:0}):i.sortby&&r.list.sort(function(e,t){return e.text<t.text?-1:e.text>t.text?1:0})))),r.initializeScroll=!1;var l,d="undefined"!=typeof r.titleColMod?r.titleColMod:"col-md-2",c="undefined"!=typeof r.selectColMod?r.selectColMod:"col-md-4",f=("undefined"!=typeof r.truncate?"vmf-dropdown-truncate":"","undefined"!=typeof r.enablesearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control search-box search-icon" autocomplete="off" placeholder="{{ searchplaceholder }}" /></div>':""),u=("undefined"!=typeof r.showArrows?r.showArrows:!0,"undefined"!=typeof r.sub?r.sub:!0),p=r.defaulttext||"Select";l="true"===r.mandatory?r.dtitle?""===i.htitle||i.htitle?'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+d+' col-xs-12"><span class="mandatory">*</span>{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">{{htitle}}</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:"undefined"!=typeof r.preSelectInd?r.list&&r.list[0]&&"object"==typeof r.list[0]?'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+d+' col-xs-12"><span class="mandatory">*</span>{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd].text+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+d+' col-xs-12"><span class="mandatory">*</span>{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd]+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+d+' col-xs-12"><span class="mandatory">*</span>{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+p+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:""===i.htitle||i.htitle?'<div class="vmf_drop-down_text"><span class="mandatory">*</span><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">{{htitle}}</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:"undefined"!=typeof r.preSelectInd?r.list&&r.list[0]&&"object"==typeof r.list[0]?'<div class="vmf_drop-down_text"><span class="mandatory">*</span><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd].text+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:'<div class="vmf_drop-down_text"><span class="mandatory">*</span><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd]+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:'<div class="vmf_drop-down_text"><span class="mandatory">*</span><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+p+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:r.dtitle?""===i.htitle||i.htitle?'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+d+' col-xs-12">{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">{{htitle}}</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:"undefined"!=typeof r.preSelectInd?r.list&&r.list[0]&&"object"==typeof r.list[0]?'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+d+' col-xs-12">{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd].text+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+d+' col-xs-12">{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd]+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+d+' col-xs-12">{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+p+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:""===i.htitle||i.htitle?'<div class="vmf_drop-down_text"><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">{{htitle}}</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:"undefined"!=typeof r.preSelectInd?r.list&&r.list[0]&&"object"==typeof r.list[0]?'<div class="vmf_drop-down_text"><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd].text+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:'<div class="vmf_drop-down_text"><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd]+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f:'<div class="vmf_drop-down_text"><div tabindex="0" class="vmf-dropdown '+c+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+p+'</span><ul class="dropDownListItems'+("mega-dropdown"==i.dropdownType?" flexWidth":"")+'">'+f;var h={},m=6.5,g=function(e){var t=e||"a b c d e f 1 2 3 4 5 6 A B C D E F ! ! %";if(!h[t]){var a=$("<span>",{text:t,"class":"optionsHolder",css:{background:"none",margin:0,padding:0,overflow:"visible",width:"auto",color:"#FFF",font:"15px normal arial"}});$("body").append(a),h[t]=a.width()/t.length,a.remove()}return h[t]},v=function(){var e="auto";if("right"===r.listalign)o.find(".vmf-dropdown-content").addClass("vmf-dropdown-align-right");else if("center"===r.listalign){var a=o.find(".vmf-dropdown-content").width()/2,n=C.width()/2;e=a-n}else o.find(".vmf-dropdown-content").removeClass("vmf-dropdown-align-right"),e=0;b&&t.width()>768&&o.find(".vmf-dropdown-truncate").width()<r.truncate*m&&o.find(".vmf-dropdown-truncate ul.dropDownListItems").width()>o.find(".vmf-dropdown-truncate").width()?C.css({width:r.truncate*m,left:e}):C.css({width:"100%",left:"0"})},b=!1;if(r.list&&r.list[0]&&"object"==typeof r.list[0]?angular.forEach(r.list,function(e,t){var a=e.text;l+='<li data-value="'+e.value+'" ',i.hasOwnProperty("showtitle")&&"true"===i.showtitle&&(l+='title="'+a+'"'),"with_submenu"==i.dropdownType?l+=e.submenu&&e.submenu.length>0?'ng-mouseover="mouseOverObj($event,'+t+');"':'ng-click="selectObj($event,'+t+');"':"true"==e.label&&"true"==e.selectable?l+='ng-click="selectObj($event,'+t+');"':"true"!=e.label&&(l+='ng-click="selectObj($event,'+t+');"'),"with_seperators"==i.dropdownType&&"true"==e.seperator?l+=' class=" seperator_bar " ':"with_group"==i.dropdownType&&"true"==e.label?l+=' class=" main-item" ':"with_group"!=i.dropdownType||e.label?"with_submenu"==i.dropdownType&&r.list[t].submenu&&r.list[t].submenu.length>0&&(l+=' class=" main-menu" '):l+=' class=" sub-item" ',r.truncate&&(l+='title="'+e.text+'"',m=g(e.text),!b&&e.text.length>r.truncate&&(b=!0)),l+=">"+a+"</li>"}):angular.forEach(r.list,function(e){var t=e;l+='<li ng-click="select($event);"',r.truncate&&(l+='title="'+e+'"',m=g(e),!b&&e.length>r.truncate&&(b=!0)),l+=">"+t+"</li>"}),i.templateUrl){var y="<div vm-template-insert template="+i.templateUrl+" controller-name="+i.controllerName+"></div>";l+=y}l+="</ul>",l+="</div></div></div>",o.append(l),r.customClass&&angular.forEach(r.customClass,function(e){o.find(e.selector).addClass(e.cusclass)}),e(o.contents())(r),r.list&&r.list.length>15&&(r.initializeScroll=!0);var C=o.find("ul"),w=o.find("input.search-box");w.on("focus",function(e){e.preventDefault(),e.stopPropagation()}),$.expr[":"].icontains=function(e,t,a){return $(e).text().toUpperCase().indexOf(a[3].toUpperCase())>=0};var S=function(){var e=$('<li class="search-list no-results" style="display:block;"></li>'),t=C.find("li").not(".no-results");w.on("keyup",function(a){e.html('No results for "'+w.val()+'"').show(),C.find("li").last().after(e),w.val()?(t.not(".is-hidden").removeClass("hide").not(":icontains("+w.val()+")").addClass("hide"),C.find("li").filter(":visible:not(.no-results)").length?e.parent().length&&e.remove():(e.parent().length&&e.remove(),e.html('No results for "'+w.val()+'"').show(),C.find("li").last().after(e))):(t.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),C.find("li.active").removeClass("active"),$(this).focus()})};S();o.find("span.current-selection");C.hide();var x,D,_,T=(o.find("li").not(".no-results, .hide"),!0),F=!1;C.height();if(r.subscribe("closeAllDropdowns",function(e){var t,a=$(".vmf-dropdown").find("ul");for(t=0;t<a.length;t++)$(a[t]).removeClass("active"),$(a[t]).parents(".vmf-dropdown-content").removeClass("_active"),$(a[t]).is(":visible")&&$(a[t]).hide()}),r.changeClass=function(e){if(0===$(e.target).closest("div.yearDropDown").length&&(0===$(e.target).closest("ul.filterDropDown").length?(r.publish("closeAllFilters"),t.trigger("click.actionsDropdown")):t.trigger("click.calendarDirective"),r.publish("closeSelectPicker")),!(angular.element(e.target).hasClass("form-control")||angular.element(e.target).hasClass("jspDrag")||angular.element(e.target).hasClass("jspTrack")||angular.element(e.target).parents("div[vm-template-insert]").length>0)){var n,i=$(".vmf-dropdown").find("ul"),s=o.find("ul");for(n=0;n<i.length;n++)i[n]!==s.get(0)&&($(i[n]).removeClass("active"),$(i[n]).parents(".vmf-dropdown-content").removeClass("_active"),$(i[n]).is(":visible")&&$(i[n]).hide());o.find(".vmf-dropdown-content").hasClass("_active")?o.find(".vmf-dropdown-content").removeClass("_active"):o.find(".vmf-dropdown-content").addClass("_active"),angular.element(".vmf-dropdown .vmf-dropdown-content").removeClass("has-error"),angular.element(".vmf-dropdown").find(".error-msg").remove(),o.find("span.current-selection").toggleClass("_active-drop"),o.find("ul").toggleClass("active"),$(o[0]).closest(".form-group").toggleClass("active"),s.is(":visible")||void 0==e.which?s.hide():(v(),w.val("").trigger("keyup"),s.show(),$(".vmf-text-input > form.searchArea").removeClass("active")),!r.initializeScroll&&o.find("ul").hasClass("active")?(x=s.offset().top-t.scrollTop(),D=a.innerHeight?a.innerHeight-x-s.height():$(window).height()-x-s.height(),0>D&&T?(_=s.height()+D,s.css("max-height",_)):D>0&&!T?(_=s.height()+D,s=o.find("ul"),s.css("max-height",_)):0>D&&!T&&(_=s.height()+D,s=o.find("ul"),s.css("max-height",_))):r.initializeScroll&&o.find("ul").hasClass("active")&&(x=s.offset().top-t.scrollTop(),D=a.innerHeight?a.innerHeight-x-s.height():$(window).height()-x-s.height(),0>D&&F?(_=s.height()+D,s.css("max-height",_)):D>0&&!F?(_=s.height()+D,s=o.find("ul"),s.addClass("active"),350>_?s.css("max-height",_):s.css("max-height",350)):0>D&&!F&&(_=s.height()+D,s=o.find("ul"),s.addClass("active"),s.css("max-height",_)))}e.stopPropagation()},t.on("click",function(e){angular.element(e.target).hasClass("form-control")||angular.element(e.target).hasClass("jspDrag")||angular.element(e.target).hasClass("jspTrack")||(o.find("ul").removeClass("active"),o.find(".vmf-dropdown .vmf-dropdown-content").removeClass("_active"),C=o.find("ul"),C.is(":visible")&&C.hide(),$(o[0]).closest(".form-group").removeClass("active"))}),a.onresize=function(){!r.initializeScroll&&o.find("ul").hasClass("active")?(x=C.offset().top-t.scrollTop(),D=a.innerHeight?a.innerHeight-x-C.height():$(window).height()-x-C.height()):r.initializeScroll&&o.find("ul").hasClass("active")&&(x=C.offset().top-t.scrollTop(),D=a.innerHeight?a.innerHeight-x-C.height():$(window).height()-x-C.height(),0>D&&F?(_=C.height()+D,C.css("max-height",_)):D>0&&!F?(_=C.height()+D,C=o.find("ul"),350>_?C.css("max-height",_):C.css("max-height",350)):0>D&&!F&&(_=C.height()+D,C=o.find("ul"),C.addClass("active"),C.css("max-height",_))),v()},"undefined"!=typeof r.preSelectInd){r.list&&r.list[0]&&"object"==typeof r.list[0]?r.model=r.list[r.preSelectInd].value:r.model=r.list[r.preSelectInd];var I=o.find("li");angular.element(I[r.preSelectInd]).addClass("dd-opt-selected")}r.select=function(e){var t=e.currentTarget;u&&o.find("span.current-selection").text($(t).text()),r.model=$(t).text();var a=o.find("li");angular.forEach(a,function(e){angular.element(e).removeClass("dd-opt-selected")}),angular.element(t).addClass("dd-opt-selected"),r.$emit("vmfDDOptionClicked",e),r.customeventname&&r.publish(r.customeventname,r.model,e)},r.selectObj=function(e,t){var a=e.currentTarget;i.dropdownType="with_submenu",u&&o.find("span.current-selection").text($(a).text()),r.model=r.list[t].value;var n=o.find("li");angular.forEach(n,function(e){angular.element(e).removeClass("dd-opt-selected")}),angular.element(a).addClass("dd-opt-selected"),r.$emit("vmfDDOptionClicked",e),r.customeventname&&r.publish(r.customeventname,{value:r.list[t].value,inputId:r.list[t].inputId})},r.mouseOverObj=function(e,t){i.dropdownType="with_submenu",$(e.target).hasClass("main-menu")&&o.find(".submenu_container").remove();var a='<ul style="display: block; width: 100%; left: 100%;position : absolute;" class="active submenu_container">';angular.forEach(r.list[t].submenu,function(e,n){var r=e.text;a+="<li ",a+='ng-click="selectObj($event,'+t+","+n+');"',a+='title="'+e.text+'">'+r+"</li>"}),a+="</ul>",$(e.target).hasClass("main-menu")&&$(e.target).append(a)},r.$on("vmfDDOptionClicked",function(e,t){r.changeClass(t),e.stopPropagation()}),r.selectByKey=function(e,t){var a=o.find("li").not(".no-results, .hide");u&&o.find("span.current-selection").text($(a[t]).text()),r.list&&r.list[0]&&"object"==typeof r.list[0]?r.model=r.list[t].value:r.model=r.list[t];var n=o.find("li");angular.forEach(n,function(e){angular.element(e).removeClass("dd-opt-selected")}),angular.element(a[t]).addClass("dd-opt-selected")},r.currentIndex=-1;var k=14;r.keyPressTitle=function(e){var t=o.find("li").not(".no-results, .hide");if(40===e.which)e.preventDefault(),r.currentIndex<t.length-1&&(r.currentIndex+=1,r.selectByKey(e,r.currentIndex),r.currentIndex>=15&&(k=r.currentIndex));else if(38===e.which)e.preventDefault(),r.currentIndex>0&&(r.currentIndex-=1,r.selectByKey(e,r.currentIndex),k-r.currentIndex>=15&&(k-=1));else if(13===e.which&&C.hasClass("active"))o.find(".vmf-dropdown-content").removeClass("_active"),o.find(".current-selection").removeClass("_active-drop"),C.removeClass("active"),C.hide();else if(e.which>=48&&e.which<=57||e.which>=65&&e.which<=90||e.which>=97&&e.which<=122){var a,n,i=-1;if(r.list&&r.list[0]&&"object"==typeof r.list[0]){for(a=r.currentIndex+1;a<r.list.length;a++)if(n=r.list[a].text,n.charCodeAt(0)===e.which){i=a;break}if(-1===i)for(a=0;a<r.currentIndex;a++)if(n=r.list[a].text,n.charCodeAt(0)===e.which){i=a;break}-1!==i&&(u&&o.find("span.current-selection").text(n),r.model=r.list[i].value,r.currentIndex=i,t=o.find("li"),angular.forEach(t,function(e){angular.element(e).removeClass("dd-opt-selected")}),angular.element(o.find("li").not(".no-results, .hide")[i]).addClass("dd-opt-selected"),i=-1)}else if(r.list&&r.list[0]){for(a=r.currentIndex+1;a<r.list.length;a++)if(n=r.list&&r.list[0]&&"string"!=typeof r.list[0]?r.list[a].toString():r.list[a],n.charCodeAt(0)===e.which){i=a;break}if(-1===i)for(a=0;a<r.currentIndex;a++)if(n=r.list[a].toString(),n.charCodeAt(0)===e.which){i=a;break}-1!==i&&(u&&o.find("span.current-selection").text(n),r.model=r.list[a],r.currentIndex=a,t=o.find("li"),angular.forEach(t,function(e){angular.element(e).removeClass("dd-opt-selected")}),angular.element(o.find("li").not(".no-results, .hide")[a]).addClass("dd-opt-selected"),i=-1)}}},r.$watch("model",function(e,t){null===e&&u&&n(function(){""===i.htitle||i.htitle?o.find("span.current-selection").text(r.htitle):o.find("span.current-selection").text("Select"),o.find("li").removeClass("dd-opt-selected")})})}}}]).directive("vmTemplateInsert",["$compile","$document","$window","$timeout",function(e,t,a,n){return{restrict:"A",scope:{template:"@"},controller:"@",name:"controllerName",template:'<div ng-include = "getTemplate()" style = "display:table;"></div>',link:function(e,t,a){e.getTemplate=function(){return e.template}}}}]).directive("vmfSelectListEaDropdown",["$compile","$document","$window","$timeout","globalData",function(e,t,a,n,r){return{restrict:"EA",scope:{dtitle:"@",model:"=",list:"=",sortby:"@",mandatory:"@",customClass:"=",htitle:"@",sub:"=",preSelectInd:"=",titleColMod:"@",selectColMod:"@",showArrows:"@"},link:function(r,o,i){"undefined"==typeof r.sortby&&(r.sortby=i.sortby),"string"==typeof r.list[0]?r.list.sort():"number"==typeof r.list[0]?r.list.sort(function(e,t){return e-t}):"object"==typeof r.list[0]&&(r.sortby?"number"==typeof r.list[0].eaNumber?r.list.sort(function(e,t){return e.eaNumber-t.eaNumber}):"string"==typeof r.list[0].eaNumber&&r.list.sort(function(e,t){return e.eaNumber<t.eaNumber?-1:e.eaNumber>t.eaNumber?1:0}):r.list.sort(function(e,t){return e.text<t.text?-1:e.text>t.text?1:0}),angular.forEach(r.list,function(e,t){if(e.eaNumber===eaSelectorJSON.defaultEANumber){var a=r.list.splice(t,1)[0];r.list.unshift(a)}})),r.initializeScroll=!1;var s,l="undefined"!=typeof r.titleColMod?r.titleColMod:"col-md-2",d="undefined"!=typeof r.selectColMod?r.selectColMod:"col-md-4",c=("undefined"!=typeof r.showArrows?r.showArrows:!0,"undefined"!=typeof i.titleprefix?i.titleprefix+" ":""),f="undefined"!=typeof r.sub?r.sub:!0;if("true"===r.mandatory)s=r.dtitle?""===i.htitle||i.htitle?'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+l+' col-xs-12"><span class="mandatory">*</span>{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">{{htitle}}</span><ul class="dropDownListItems">':"undefined"!=typeof r.preSelectInd?"object"==typeof r.list[0]?'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+l+' col-xs-12"><span class="mandatory">*</span>{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+c+r.list[r.preSelectInd].eaNumber+" - "+r.list[r.preSelectInd].eaName+'</span><ul class="dropDownListItems">':'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+l+' col-xs-12"><span class="mandatory">*</span>{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd]+'</span><ul class="dropDownListItems">':'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+l+' col-xs-12"><span class="mandatory">*</span>{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">Select</span><ul class="dropDownListItems">':""===i.htitle||i.htitle?'<div class="vmf_drop-down_text"><span class="mandatory">*</span><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">{{htitle}}</span><ul class="dropDownListItems">':"undefined"!=typeof r.preSelectInd?"object"==typeof r.list[0]?'<div class="vmf_drop-down_text"><span class="mandatory">*</span><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+c+r.list[r.preSelectInd].eaNumber+" - "+r.list[r.preSelectInd].eaName+'</span><ul class="dropDownListItems">':'<div class="vmf_drop-down_text"><span class="mandatory">*</span><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd]+'</span><ul class="dropDownListItems">':'<div class="vmf_drop-down_text"><span class="mandatory">*</span><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">Select</span><ul class="dropDownListItems">';else if(r.dtitle)s=""===i.htitle||i.htitle?'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+l+' col-xs-12">{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">{{htitle}}</span><ul class="dropDownListItems">':"undefined"!=typeof r.preSelectInd?"object"==typeof r.list[0]?'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+l+' col-xs-12">{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+c+r.list[r.preSelectInd].eaNumber+" - "+r.list[r.preSelectInd].eaName+'</span><ul class="dropDownListItems">':'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+l+' col-xs-12">{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd]+'</span><ul class="dropDownListItems">':'<div class="vmf_drop-down_text"><label class="labelHeader formLabel '+l+' col-xs-12">{{dtitle}}</label><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">Select</span><ul class="dropDownListItems">';else if(""===i.htitle||i.htitle)s='<div class="vmf_drop-down_text"><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">{{htitle}}</span><ul id="dropDownListItems">';else if("undefined"!=typeof r.preSelectInd)if("object"==typeof r.list[0]){
var u=eaSelectorJSON.selectedEANumber||eaSelectorJSON.defaultEANumber;angular.forEach(r.list,function(e,t){e.eaNumber===u&&(r.preSelectInd=t)}),s='<div class="vmf_drop-down_text"><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+c+r.list[r.preSelectInd].eaNumber+" - "+r.list[r.preSelectInd].eaName+'</span><ul class="dropDownListItems">'}else s='<div class="vmf_drop-down_text"><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">'+r.list[r.preSelectInd]+'</span><ul class="dropDownListItems">';else s='<div class="vmf_drop-down_text"><div tabindex="0" class="vmf-dropdown '+d+' col-xs-12" ng-keyDown="keyPressTitle($event);" ng-click="changeClass($event);"><div class="vmf-dropdown-content"><span class="current-selection">Select</span><ul class="dropDownListItems">';"object"==typeof r.list[0]?angular.forEach(r.list,function(e,t){s+='<li data-ea-display-name="'+e.eaNumber+" - "+e.eaName+'" ng-click="selectObj($event,'+t+');"  title= "'+e.eaNumber+" - "+e.eaName+'"><span class="eaText">'+e.eaNumber+" - "+e.eaName+"</span></li>"}):angular.forEach(r.list,function(e){s+='<li ng-click="select($event);">'+e+"</li>"}),s+="</ul></div></div></div>",o.append(s),r.customClass&&angular.forEach(r.customClass,function(e){o.find(e.selector).addClass(e.cusclass)}),e(o.contents())(r),r.list.length>15&&(r.initializeScroll=!0);var p=o.find("ul");o.find("span.current-selection");p.hide();var h,m,g,v=o.find("li"),b=!0,y=!1;p.height();if(r.subscribe("closeAllDropdowns",function(e){var t,a=$(".vmf-dropdown").find("ul");for(t=0;t<a.length;t++)$(a[t]).removeClass("active"),$(a[t]).parents(".vmf-dropdown-content").removeClass("_active"),$(a[t]).is(":visible")&&$(a[t]).hide()}),r.changeClass=function(e){if(0===$(e.target).closest("div.yearDropDown").length&&(0===$(e.target).closest("ul.filterDropDown").length?(r.publish("closeAllFilters"),t.trigger("click.actionsDropdown")):t.trigger("click.calendarDirective"),r.publish("closeSelectPicker")),!angular.element(e.target).hasClass("jspDrag")&&!angular.element(e.target).hasClass("jspTrack")){var n,i=$(".vmf-dropdown").find("ul"),s=o.find("ul");for(n=0;n<i.length;n++)i[n]!==s.get(0)&&($(i[n]).removeClass("active"),$(i[n]).parents(".vmf-dropdown-content").removeClass("_active"),$(i[n]).is(":visible")&&$(i[n]).hide());o.find(".vmf-dropdown-content").hasClass("_active")?o.find(".vmf-dropdown-content").removeClass("_active"):o.find(".vmf-dropdown-content").addClass("_active"),angular.element(".vmf-dropdown .vmf-dropdown-content").removeClass("has-error"),angular.element(".vmf-dropdown").find(".error-msg").remove(),o.find("span.current-selection").toggleClass("_active-drop"),o.find("ul").toggleClass("active"),$(o[0]).closest(".form-group").toggleClass("active"),s.is(":visible")?s.hide():(s.show(),$(".vmf-text-input > form.searchArea").removeClass("active")),!r.initializeScroll&&o.find("ul").hasClass("active")?(h=s.offset().top-t.scrollTop(),m=a.innerHeight?a.innerHeight-h-s.height():$(window).height()-h-s.height(),0>m&&b?(g=s.height()+m,s.css("max-height",g),b=!1):m>0&&!b?(g=s.height()+m,s=o.find("ul"),s.css("max-height",g)):0>m&&!b&&(g=s.height()+m,s=o.find("ul"),s.css("max-height",g))):r.initializeScroll&&o.find("ul").hasClass("active")&&(h=s.offset().top-t.scrollTop(),m=a.innerHeight?a.innerHeight-h-s.height():$(window).height()-h-s.height(),0>m&&y?(g=s.height()+m,s.css("max-height",g),y=!1):m>0&&!y?(g=s.height()+m,s=o.find("ul"),s.addClass("active"),350>g?s.css("max-height",g):s.css("max-height",350)):0>m&&!y&&(g=s.height()+m,s=o.find("ul"),s.addClass("active"),s.css("max-height",g)))}e.stopPropagation()},t.on("click",function(e){angular.element(e.target).hasClass("jspDrag")||angular.element(e.target).hasClass("jspTrack")||(o.find("ul").removeClass("active"),o.find(".vmf-dropdown .vmf-dropdown-content").removeClass("_active"),p=o.find("ul"),p.is(":visible")&&p.hide(),$(o[0]).closest(".form-group").removeClass("active"))}),a.onresize=function(){!r.initializeScroll&&o.find("ul").hasClass("active")?(h=p.offset().top-t.scrollTop(),m=a.innerHeight?a.innerHeight-h-p.height():$(window).height()-h-p.height(),0>m&&b?(g=p.height()+m,p.css("max-height",g)):m>0&&!b?(g=p.height()+m,p=o.find("ul"),p.css("max-height",g)):0>m&&!b&&(g=p.height()+m,p=o.find("ul"),p.css("max-height",g))):r.initializeScroll&&o.find("ul").hasClass("active")&&(h=p.offset().top-t.scrollTop(),m=a.innerHeight?a.innerHeight-h-p.height():$(window).height()-h-p.height(),0>m&&y?(g=p.height()+m,p.css("max-height",g)):m>0&&!y?(g=p.height()+m,p=o.find("ul"),350>g?p.css("max-height",g):p.css("max-height",350)):0>m&&!y&&(g=p.height()+m,p=o.find("ul"),p.addClass("active"),p.css("max-height",g)))},angular.element(a).on("scroll",function(e){"#document"===e.target.nodeName&&(!r.initializeScroll&&o.find("ul").hasClass("active")?(h=p.offset().top-t.scrollTop(),m=a.innerHeight?a.innerHeight-h-p.height():$(window).height()-h-p.height(),0>m&&b?(g=p.height()+m,p.css("max-height",g)):m>0&&!b?(g=p.height()+m,p=o.find("ul"),p.css("max-height",g)):0>m&&!b&&(g=p.height()+m,p=o.find("ul"),p.css("max-height",g))):r.initializeScroll&&o.find("ul").hasClass("active")&&(h=p.offset().top-t.scrollTop(),m=a.innerHeight?a.innerHeight-h-p.height():$(window).height()-h-p.height(),0>m&&y?(g=p.height()+m,p.css("max-height",g)):m>0&&!y?(g=p.height()+m,p=o.find("ul"),350>g?p.css("max-height",g):p.css("max-height",350)):0>m&&!y&&(g=p.height()+m,p=o.find("ul"),p.addClass("active"),p.css("max-height",g))))}),"undefined"!=typeof r.preSelectInd){"object"==typeof r.list[0]?r.model=r.list[r.preSelectInd].eaNumber:r.model=r.list[r.preSelectInd];var C=o.find("li");angular.element(C[r.preSelectInd]).addClass("dd-opt-selected").append('<span class="tickIcon"></span>')}var w=o.find("ul.dropDownListItems li:first-child");w.find(".tickIcon").length?$('<span class="defaultEAText">Default</span>').insertAfter(w.find(".tickIcon")):w.append('<span class="defaultEAText">Default</span>'),r.select=function(e){var t=e.currentTarget;f&&o.find("span.current-selection").text(c+$(t).text()),r.model=$(t).text();var a=o.find("li");angular.forEach(a,function(e){angular.element(e).removeClass("dd-opt-selected")}),angular.element(t).addClass("dd-opt-selected"),r.$emit("vmfDDOptionClicked",e)},r.selectObj=function(e,t){var a=e.currentTarget;f&&o.find("span.current-selection").text(c+$(a).data("ea-display-name")),r.model=r.list[t].eaNumber;var n=o.find("li");angular.forEach(n,function(e){angular.element(e).removeClass("dd-opt-selected").find(".tickIcon").remove()}),$(a).addClass("dd-opt-selected"),$(a).find(".defaultEAText").length?$('<span class="tickIcon"></span>').insertBefore($(a).find(".defaultEAText")):$(a).append('<span class="tickIcon"></span>'),r.$emit("vmfDDOptionClicked",e)},r.$on("vmfDDOptionClicked",function(e,t){r.changeClass(t),e.stopPropagation()}),r.selectByKey=function(e,t){f&&o.find("span.current-selection").text(c+$(v[t]).text()),"object"==typeof r.list[0]?r.model=r.list[t].eaNumber:r.model=r.list[t];var a=o.find("li");angular.forEach(a,function(e){angular.element(e).removeClass("dd-opt-selected")}),angular.element(v[t]).addClass("dd-opt-selected")},r.currentIndex=-1;var S=14;r.keyPressTitle=function(e){var t=o.find("li");if(40===e.which)e.preventDefault(),r.currentIndex<v.length-1&&(r.currentIndex+=1,r.selectByKey(e,r.currentIndex),r.currentIndex>=15&&(S=r.currentIndex));else if(38===e.which)e.preventDefault(),r.currentIndex>0&&(r.currentIndex-=1,r.selectByKey(e,r.currentIndex),S-r.currentIndex>=15&&(S-=1));else if(13===e.which&&p.hasClass("active"))o.find(".vmf-dropdown-content").removeClass("_active"),o.find(".current-selection").removeClass("_active-drop"),p.removeClass("active"),p.hide();else if(e.which>=48&&e.which<=57||e.which>=65&&e.which<=90||e.which>=97&&e.which<=122){var a,n,i=-1;if("object"==typeof r.list[0]){for(a=r.currentIndex+1;a<r.list.length;a++)if(n=r.list[a].text,n.charCodeAt(0)===e.which){i=a;break}if(-1===i)for(a=0;a<r.currentIndex;a++)if(n=r.list[a].text,n.charCodeAt(0)===e.which){i=a;break}-1!==i&&(f&&o.find("span.current-selection").text(c+n),r.model=r.list[i].eaNumber,r.currentIndex=i,t=o.find("li"),angular.forEach(t,function(e){angular.element(e).removeClass("dd-opt-selected")}),angular.element(o.find("li")[i]).addClass("dd-opt-selected"),i=-1)}else{for(a=r.currentIndex+1;a<r.list.length;a++)if(n="string"!=typeof r.list[0]?r.list[a].toString():r.list[a],n.charCodeAt(0)===e.which){i=a;break}if(-1===i)for(a=0;a<r.currentIndex;a++)if(n=r.list[a].text,n.charCodeAt(0)===e.which){i=a;break}-1!==i&&(f&&o.find("span.current-selection").text(c+n),r.model=r.list[a],r.currentIndex=a,t=o.find("li"),angular.forEach(t,function(e){angular.element(e).removeClass("dd-opt-selected")}),angular.element(o.find("li")[a]).addClass("dd-opt-selected"),i=-1)}}},r.$watch("model",function(e,t){e!=t&&r.publish("eaDropdownChange",r.model),null===e&&f&&n(function(){""===i.htitle||i.htitle?o.find("span.current-selection").text(r.htitle):o.find("span.current-selection").text("Select"),o.find("li").removeClass("dd-opt-selected")})})}}}]).directive("vmLabelDropdown",["$compile","$document","$window","$timeout","$http","globalData",function(e,t,a,n,r,o){return{restrict:"EA",scope:{list:"=",controls:"="},link:function(a,i,s){a.controlsDisplay=!0,a.list=o.customLabels,a.globalVars=globalVariables,a.addSelectPicker=function(){i.find(".selectpicker").selectpicker("refresh"),i.find(".selectpicker li").eq(0).hide(),a.isErr=!1,1==a.controls&&n(function(){var t='<p class="divider"></p><div ng-show="controlsDisplay"><p class="createLabelLink" ng-click="createNewLabel($event)">'+a.globalVars.createNewLbl+'</p><p class="renameLabelLink" ng-click="showRenameLabels()">'+a.globalVars.renameLabelLbl+'</p></div><div ng-show="!controlsDisplay" class="createLabelLinkContainer"><p class="errorTextStyle" ng-if="maximumLabels">Maximum 10 labels</p><input type="text" class="newLabelName" maxlength="25" ng-model="newLabelName" ng-class="{\'error\': isErr}"/><div class="newLabelNameError" ng-show="isErr">{{errMsg}}</div><div class="buttons"><button type="button" class="vmf-btn vmf-primary" ng-click="confirmBtn($event)">'+a.globalVars.textSave+'</button><button type="button" class="vmf-btn vmf-secondary" ng-click="cancelCreateLabel($event)">'+a.globalVars.textCancel+"</button></div></div>";i.find(".dropdown-menu").append(e(t)(a)),n(function(){i.find("input.newLabelName").on("focus keydown click",function(e){e.stopPropagation()})},80)},80)},a.subscribe("closeSelectPicker",function(e){i.find(".labelsDropDown.open").removeClass("open")}),a.subscribe("closeAllDropdowns",function(e){0===i.find(e.target).length&&i.find(".labelsDropDown.open").removeClass("open")}),t.on("show.bs.dropdown",".bootstrap-select.labelsDropDown",function(e){a.publish("closeAllDropdowns",e),t.trigger("click.actionsDropdown")}),a.confirmBtn=function(e){if(e.preventDefault(),e.stopPropagation(),a.isErr=!1,a.maximumLabels=!1,o.checkSpecialCharacters(a.newLabelName))return a.isErr=!0,a.errMsg=globalVariables.charsNotAllowedMsg,void i.find(".createLabelLinkContainer .newLabelNameError").removeClass("hidden");if(void 0!=a.newLabelName&&a.newLabelName.length>0){angular.element(".createLabelLinkContainer").addClass();var t=(globalVariables.createLabelUrl+"&newLabelName="+a.newLabelName,{newLabelName:a.newLabelName}),n=$.param(t);r({method:"POST",url:globalVariables.createLabelUrl,data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(e,t,n,r){if(e.labels){o.customLabels=e.labels;i.find("input.newLabelName").val();a.controlsDisplay=!0,i.find("input.newLabelName").val(""),$(".editor select.labelsDropDown option").remove();var s='<option value="">'+a.globalVars.selectLabelMsg+"</option>";o.customLabels.sort();for(var l=0;l<o.customLabels.length;l++)s+="<option value="+o.customLabels[l]+">"+o.customLabels[l]+"</option>";$(".editor select.labelsDropDown").append(s),$(".selectpicker").selectpicker("refresh"),$(".editor ul.dropdown-menu").each(function(e,t){$(t).find("li").eq(0).hide();var a=$(t).find("li");$(t).find("li").remove(),$(t).prepend(a)})}else a.maximumLabels=!0}).error(function(e,t,a,n){$scope.ftAjaxLoader=!1,$scope.ftErrorMsg=globalVariables.commonAjaxErrorMessage})}else a.isErr=!0,a.errMsg=globalVariables.enterLabelNameLbl,i.find(".createLabelLinkContainer .newLabelNameError").removeClass("hidden")},a.showRenameLabels=function(){o.renameLabels=!0},a.createNewLabel=function(e){e.preventDefault(),e.stopPropagation(),a.controlsDisplay=!1},a.cancelCreateLabel=function(e){e.preventDefault(),e.stopPropagation(),a.controlsDisplay=!0,a.maximumLabels=!1,a.isErr=!1},a.getTemplate=function(){var t='<select class="labelsDropDown selectpicker"><option value="">'+a.globalVars.selectLabelMsg+'</option><option ng-repeat="val in list" value="{{val}}">{{val}}</option></select>';i.html(e(t)(a)),n(function(){a.addSelectPicker()},80)},a.getTemplate()}}}]),angular.module("vmfTextInputMod",[]).directive("vmfTextInput",["$compile","$document","$timeout",function(e,t,a){return{restrict:"EA",scope:{type:"@",optionId:"@",name:"@",title:"@",model:"=",searchCallback:"&",psearchCallback:"=",hint:"@",rows:"@",clearTextLength:"@",searchModel:"=",mandatory:"@",customClass:"=",shortDescription:"@"},controller:["$scope",function(e){e.defaults={rows:10,hint:"",clearTextLength:3},e.options={},e.rows?e.options.rows=e.rows:e.options.rows=e.defaults.rows,e.hint?e.options.hint=e.hint:e.options.hint=e.defaults.hint,e.clearTextLength?e.options.clearTextLength=e.clearTextLength:e.options.clearTextLength=e.defaults.clearTextLength}],link:function(n,r,o){var i,s;n.checkDesc=function(){return s=n.shortDescription?n.shortDescription:""},"normal"===o.type?(i="true"===n.mandatory?'<div class="formRow"><label class="col-md-3 formLabel"><span class="mandatory">*</span> '+n.title+'   <span class="shortDesc">{{ checkDesc()}}</span></label><div class="col-md-4"><input type="text" name="name" ng-model="model" id={{options.optionId}} placeholder={{options.hint}} /></div></div>':'<div class="formRow"><label class="col-md-3 formLabel">'+n.title+'<span class="shortDesc">{{ checkDesc()}}</span></label><div class="col-md-4"><input type="text" id={{options.optionId}} name="name" ng-model="model" placeholder={{options.hint}} /></div></div>',r.append(i),n.customClass&&angular.forEach(n.customClass,function(e){r.find(e.selector).addClass(e.cusclass)}),e(r.contents())(n)):"password"===o.type?(i="true"===n.mandatory?'<div class="formRow"><label class="col-md-3 formLabel"><span class="mandatory">*</span> '+n.title+'</label><div class="col-md-4 placeholderWrap"><input type="password" ng-model="model" id="'+n.optionId+'" ng-focus="placeholderFocus(this)" ng-blur="placeholderBlur(this)"  /><span class="placeholder" ng-click="placeholderFocusSpan(this)">{{options.hint}}</span></div></div>':'<div class="formRow"><label class="col-md-3 formLabel">'+n.title+'</label><div class="col-md-4 placeholderWrap"><input type="password" id="'+n.optionId+'" ng-model="model" name="name" ng-focus="placeholderFocus(this)" ng-blur="placeholderBlur(this)" /><span class="placeholder" ng-click="placeholderFocus(this)">{{options.hint}}</span></div></div>',r.append(i),n.customClass&&angular.forEach(n.customClass,function(e){r.find(e.selector).addClass(e.cusclass)}),e(r.contents())(n)):"search"===o.type?(i='<form autocomplete="off" class="searchArea"><input type="text" name="name" ng-model="model" ng-focus="onsearchFocus()" ng-blur="onsearchBlur()" ng-keyup="keyPressSearch($event)" placeholder={{options.hint}} id={{options.optionId}} /><input type="button" class="vmf-search-button" ng-click="searchAction()"/></form>',r.append(i),n.customClass&&angular.forEach(n.customClass,function(e){r.find(e.selector).addClass(e.cusclass)}),e(r.contents())(n),n.$watch("model",function(e,t){e&&e.length>=n.options.clearTextLength?r.find(".searchArea").addClass("active"):r.find(".searchArea").removeClass("active")})):"psearch"===o.type&&(i='<form autocomplete="off" class="searchArea psearch"><input  type="text" ng-model="model" name="name" ng-keyup="keyPressSearch($event)" placeholder={{options.hint}} id={{options.optionId}} /><input type="button" class="searchBtn" ng-click="psearchAction()"/><ul class="searchWrap"><li ng-repeat="item in filteredData = (searchModel | filter:model:comparator)" ng-bind-html="item | highlight:model" ng-click="optionSelect(item)" ng-keyup="optionSelectByKey($event, item)" tabindex="0"></li></ul></form>',r.append(i),n.customClass&&angular.forEach(n.customClass,function(e){r.find(e.selector).addClass(e.cusclass)}),e(r.contents())(n),n.$watch("model",function(e,t){a(function(){e&&e.length>=1?(r.find(".searchArea").addClass("active"),n.empty||(r.find(".searchWrap").show(),$(r[0]).closest(".form-group").addClass("active"))):(r.find(".searchArea").removeClass("active"),r.find(".searchWrap").hide(),$(r[0]).closest(".form-group").removeClass("active"))})}),n.empty=!1,n.$watchCollection("filteredData",function(e,t){0===e.length?(n.empty=!0,r.find(".searchWrap").hide(),$(r[0]).closest(".form-group").removeClass("active")):n.empty=!1})),n.searchAction=function(){n.searchCallback(n.model)},n.selected=!1,n.psearchAction=function(){n.model.length>=1&&!n.selected?n.clearText():(n.psearchCallback(r.find(":text").val()),n.selected=!1)},n.clearText=function(){r.find(":text").val(""),n.model="",r.find(".searchArea").removeClass("active")},n.keyPressSearch=function(e){13===e.keyCode&&("search"===n.type?n.searchCallback():(n.selected=!0,n.psearchAction(),r.find(".searchArea").removeClass("active")))},n.optionSelect=function(e){r.find(":text").val(e),r.find(".searchArea").removeClass("active"),n.selected=!0},n.optionSelectByKey=function(e,t){13===e.keyCode&&(r.find(":text").val(t),r.find(".searchArea").removeClass("active"),n.selected=!0)},n.onsearchBlur=function(){r.find(".searchArea").removeClass("active")},n.onsearchFocus=function(){r.find(".searchArea").addClass("active")},n.placeholderFocus=function(e){$("#"+n.optionId).closest(".placeholderWrap").find(".placeholder").hide()},n.placeholderBlur=function(e){null===n.model||""===n.model?$("#"+n.optionId).closest(".placeholderWrap").find(".placeholder").show():$("#"+n.optionId).closest(".placeholderWrap").find(".placeholder").hide()},n.placeholderFocusSpan=function(){$("#"+n.optionId).closest(".placeholderWrap").find(".placeholder").hide(),$("#"+n.optionId).focus()},t.on("click",function(){r.find(".psearch").removeClass("active"),r.find(".searchWrap").hide(),$(r[0]).closest(".form-group").removeClass("active")}),n.comparator=function(e,t){var a,n,r=e.split(" "),o=t.split(" ");for(a=0;a<o.length;a++)o[a]=o[a].toLowerCase();for(n=0;n<r.length;n++)r[n]=r[n].toLowerCase();var i=0;for(a=0;a<o.length;a++){var s=!1;for(n=i;n<r.length;n++)if(-1!==r[n].indexOf(o[a])){s=!0,i=n+1;break}if(!s)return!1}return!0}}}}]).filter("highlight",function(){return function(e,t){var a=function(e,t,a){return e.split(t,a).join(t).length};return t&&(t=t.split(" "),angular.forEach(t,function(t,n){var r=a(e," ",n);if(0!==r){var o=e.substring(r+1).replace("<span>","","gi");o=o.replace("</span>","","gi"),e=e.substring(0,r+1)+o.replace(new RegExp("("+t+")","gi"),"<span>$1</span>")}else e=e.replace(new RegExp("("+t+")","gi"),"<span>$1</span>")})),e='<a href="javascript: void(0);" tabindex="-1">'+e+"</a>"}}),angular.module("vmfCalendarMod",[]).directive("vmfCalendar",["$compile","$document","$timeout",function(e,t,a){return{restrict:"EA",scope:{historic:"=",startyear:"=",endyear:"=",customeventname:"@",calendarInputId:"@"},link:function(n,r,o){var s,l,d,c,f,u,p,h,m,g,v,b,y=n.historic.split("/");for(n.historic=new Date(y[2],y[1]-1,y[0]),n.firstyearlist=[],i=parseInt(n.startyear);i<=parseInt(n.endyear);i++)n.firstyearlist.push(i);var C=new Date,w=(C.getDate(),C.getMonth()),S=C.getFullYear();n.first_year=S,b=n.firstyearlist.indexOf(parseInt(S)),n.first_month=w;C.getDay();for(n.secondyearlist=new Array(10),l=0,i=n.first_year;i<=n.first_year+30;i++)n.secondyearlist[l++]=i;var x=new Date(S,w+1,0),D=x.getDate(),_=new Date(S,w,1);_=_.getDay();var T=[],F=1;for(F=1,T=[],i=_,counter=D;0!==counter;)T[i++]=F++,counter-=1;F=1,n.first_cal=T,w+=1,n.second_year=S,n.second_month=w;var I=new Date(S,w+1,0),k=I.getDate(),P=new Date(S,w,1);P=P.getDay();var $=[];for(F=1,T=[],i=P,counter=k;0!==counter;)$[i++]=F++,counter-=1;F=1,n.second_cal=$,n.goleftwithfirst=function(e,t){if(n.first_year!==n.firstyearlist[0]||0!==n.first_month){for(i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcal"),r.find(".first-calendar ."+i).removeClass("activeselectfirstcal");0===e?(t-=1,r.find(".firstcaldir .current-selection").text(t),e=11):e-=1;var a=new Date(t,e,1);a=a.getDay();var o=new Date(t,e+1,0),s=o.getDate(),l=1;for(T=[],i=a,counter=s;0!==counter;)T[i++]=l++,counter-=1;n.first_cal=T,n.first_month=e,n.first_year=t,n.check_if_in_between("first"),n.second_month===n.first_month&&n.first_year===n.second_year?r.find(".arrow-left").addClass("hiddenarrow").parent().addClass("disabledarrow"):r.find(".arrow-left").removeClass("hiddenarrow").parent().removeClass("disabledarrow")}},n.gorightwithfirst=function(e,t){for(i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcal"),r.find(".first-calendar ."+i).removeClass("activeselectfirstcal");11===e?(t=parseInt(t)+1,r.find(".firstcaldir .current-selection").text(t),e=0):e+=1;var a=new Date(t,e,1);a=a.getDay();var o=new Date(t,e+1,0),s=o.getDate(),l=1;for(T=[],i=a,counter=s;0!==counter;)T[i++]=l++,counter-=1;n.first_cal=T,n.first_month=e,n.first_year=t,n.first_year!==n.second_year||n.first_month!==n.second_month&&n.first_month-1!==n.second_month||n.gorightwithsecond(n.first_month,n.first_year),n.check_if_in_between("first"),n.second_month===n.first_month&&n.first_year===n.second_year?r.find(".second-calendar .arrow-left").addClass("hiddenarrow").parent().addClass("disabledarrow"):r.find(".second-calendar .arrow-left").removeClass("hiddenarrow").parent().removeClass("disabledarrow")},n.goleftwithsecond=function(e,t){if(n.first_year!==n.second_year||n.first_month!==n.second_month||n.first_year===n.second_year-1&&11===n.first_month){0===e?(t-=1,e=11):e-=1;var a=new Date(t,e,1);a=a.getDay();var o=new Date(t,e+1,0),s=o.getDate(),l=1;for($=[],i=a,counter=s;0!==counter;)$[i++]=l++,counter-=1;if(n.second_cal=$,n.second_month=e,n.second_year=t,n.first_selected_date&&!n.second_selected_date){var d=new Date(n.first_selected_date);new Date(n.second_year,n.second_month,1),d.getDate()}n.second_month===n.first_month&&n.first_year===n.second_year?r.find(".second-calendar .arrow-left").addClass("hiddenarrow").parent().addClass("disabledarrow"):r.find(".second-calendar .arrow-left").removeClass("hiddenarrow").parent().removeClass("disabledarrow"),n.clearsecondcal(),n.check_if_in_between("second")}},n.gorightwithsecond=function(e,t){11===e?(t=parseInt(t)+1,e=0):e+=1;var a=new Date(t,e,1);a=a.getDay();var o=new Date(t,e+1,0),s=o.getDate(),l=1;for($=[],i=a,counter=s;0!==counter;)$[i++]=l++,counter-=1;n.second_cal=$,n.second_month=e,n.second_year=t,n.second_month===n.first_month+1&&n.first_year===n.second_year||r.find(".second-calendar .arrow-left").show(),n.clearsecondcal(),n.check_if_in_between("second"),n.second_month===n.first_month&&n.first_year===n.second_year?r.find(".second-calendar .arrow-left").addClass("hiddenarrow").parent().addClass("disabledarrow"):r.find(".second-calendar .arrow-left").removeClass("hiddenarrow").parent().removeClass("disabledarrow")},n.$watch("first_year",function(t,o){if(t=parseInt(t))if(n.first_selected_date&&!n.second_selected_date&&(n.first_selected_date=void 0),t>n.second_year){for(t=parseInt(t),n.first_year=parseInt(t),l=0,n.secondyearlist=[],i=n.first_year;i<=n.first_year+25;i++)n.secondyearlist[l++]=i;n.gorightwithfirst(n.first_month-1,t),a(function(){r.find(".secondcaldir").replaceWith('<div vmf-select-list model="second_year" list="secondyearlist" pre-select-ind="0" class="yearDropDown secondcaldir"></div>'),e(r.find(".secondcaldir")[0])(n)}),r.find(".secondcaldir .current-selection").text(n.secondyearlist[0]),n.second_selected_date?n.first_month===n.second_month&&n.gorightwithsecond(n.second_month+1,t):n.gorightwithsecond(n.first_month,t)}else{for(n.gorightwithfirst(n.first_month-1,t),n.first_year=parseInt(t),l=0,n.secondyearlist=[],i=n.first_year;i<=n.endyear;i++)n.secondyearlist[l++]=i;a(function(){var t=n.secondyearlist.indexOf(n.second_year);str='<div vmf-select-list model="second_year" list="secondyearlist" pre-select-ind="',str+=t,str+='" class="yearDropDown secondcaldir"></div>',r.find(".secondcaldir").replaceWith(str),e(r.find(".secondcaldir")[0])(n)})}}),n.$watch("second_year",function(e,t){if(e){n.second_year=parseInt(e);var a=n.secondyearlist.indexOf(e);r.find(".secondcaldir .current-selection").text(n.secondyearlist[a]),n.second_selected_date&&n.second_month===n.second_selected_date.split("/")[1]-1&&(n.second_selected_date=e+"/"+n.second_selected_date.split("/")[1]+"/"+n.second_selected_date.split("/")[2]),n.second_month<n.first_month?n.gorightwithsecond(n.first_month-1,n.second_year):n.gorightwithsecond(n.second_month-1,n.second_year)}}),n.displayCalendar=function(){r.find(".calIcon").hasClass("activeCal")?n.hideCalendar():(r.find(".calIcon").addClass("activeCal"),r.find(".calendercontainer").css("visibility","visible"),r.find(".calendercontainer").closest(".vmf-calendar-drop").addClass("calendercontainerActive"),r.find(".first-calendar .month").focus(),n.calendar=!0,n.first_selected_date&&n.second_selected_date)},n.hideCalendar=function(){r.find(".calIcon").removeClass("activeCal"),r.find(".calendercontainer").css("visibility","hidden"),r.find(".calendercontainer").closest(".vmf-calendar-drop").removeClass("calendercontainerActive"),n.first_selected_date&&n.second_selected_date&&r.find(".placeholdersjs").removeClass("placeholdersjs"),n.calendar=!1},n.convertMonth=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e]},n.month_double=function(e){var t=["00","01","02","03","04","05","06","07","08","09","10","11","12"];return t[e]},n.date_double=function(e){if(9>e){var t=["00","01","02","03","04","05","06","07","08","09"];return t[e]}return e},n.selectFirstDate=function(e,t,a){if(T[e])for(i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcal"),r.find(".first-calendar ."+i).removeClass("activeselectfirstcal");if(temp_f=new Date(n.first_year,parseInt(n.first_month),parseInt(T[e])),temp_f>n.historic&&(n.first_selected_date=n.first_year+"/"+(parseInt(n.first_month)+1)+"/"+parseInt(T[e]),n.show_first_selected_date=n.month_double(parseInt(n.first_month)+1)+"/"+n.date_double(parseInt(T[e]))+"/"+n.first_year,r.find(".first-calendar ."+e).addClass("activeselectfirstcal")),n.second_selected_date){var o=n.first_selected_date.split("/"),s=new Date(o[0],o[1]-1,o[2]),l=n.show_second_selected_date.split("/"),d=new Date(parseInt(l[2]),parseInt(l[0])-1,parseInt(l[1]));d>s&&(n.show_date=n.show_first_selected_date+" to "+n.show_second_selected_date,r.find(".error-msg").remove(),r.find(".has-error").removeClass("has-error"))}n.check_if_in_between("first"),n.check_if_in_between("second")},n.hoverFirstDate=function(e,t,a){if(T[e]){for(i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("hoverselectfirstcal");for(i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcalhover");for(i=e;i<T.length;i++)r.find(".first-calendar ."+i).addClass("activefirstcalhover");r.find(".first-calendar ."+e).addClass("hoverselectfirstcal")}},n.hoverSecondDate=function(e,t,a){if(n.first_selected_date&&n.first_month!==n.second_month||n.first_selected_date&&n.first_year!==n.second_year){for(c=n.first_selected_date.split("/"),f=parseInt(c[1])-1,u=parseInt(c[0]),p=parseInt(c[2]),d=parseInt(u)===parseInt(n.first_year)?T.indexOf(p):T.indexOf(1),i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcal");for(i=d;i<T.length;i++)r.find(".first-calendar ."+i).addClass("activefirstcal");if($[e]){for(i=0;i<$.length;i++)r.find(".second-calendar ."+i).removeClass("hoverselectsecondcal"),r.find(".second-calendar ."+i).removeClass("activesecondcal");for(i=0;i<e;i++)$[i]&&r.find(".second-calendar ."+i).addClass("activesecondcal");$[e]&&r.find(".second-calendar ."+e).addClass("hoverselectsecondcal")}}if(n.first_selected_date&&n.first_month===t&&n.first_year===a&&(c=n.first_selected_date.split("/"),f=parseInt(c[1])-1,u=parseInt(c[0]),p=parseInt(c[2]),d=T.indexOf(p),e>=d)){for(i=0;i<$.length;i++)r.find(".second-calendar ."+i).removeClass("hoverselectsecondcal"),r.find(".second-calendar ."+i).removeClass("activesecondcal");for(i=d;i<e;i++)$[i]&&""!==r.find(".second-calendar ."+i).text()&&r.find(".second-calendar ."+i).addClass("activesecondcal");for($[e]&&r.find(".second-calendar ."+e).addClass("hoverselectsecondcal"),i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcal");for(i=d;i<=e;i++)T[i]&&r.find(".first-calendar ."+i).addClass("activefirstcal")}},n.leavingfirstcal=function(){for(i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("hoverselectfirstcal");for(i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcalhover")},n.clearsecondcal=function(){if(n.first_selected_date&&n.second_selected_date){for(i=0;i<41;i++)r.find(".second-calendar ."+i).removeClass("hoverselectsecondcal"),r.find(".second-calendar ."+i).removeClass("activesecondcal"),r.find(".second-calendar ."+i).removeClass("activeselectSecondcal"),r.find(".second-calendar ."+i).removeClass("vmf-disabled-date");var e=n.first_selected_date.split("/"),t=(parseInt(e[1])-1,parseInt(e[0]),parseInt(e[2]));T.indexOf(t)}},n.clearfirstcal=function(){if(n.first_selected_date&&n.second_selected_date)for(i=0;i<=41;i++)r.find(".first-calendar ."+i).removeClass("activeselectfirstcal"),r.find(".first-calendar ."+i).removeClass("activefirstcal"),r.find(".first-calendar ."+i).removeClass("activeselectSecondcal"),r.find(".first-calendar ."+i).removeClass("vmf-disabled-date")},n.leavingsecondcal=function(){for(i=0;i<$.length;i++)r.find(".second-calendar ."+i).removeClass("hoverselectsecondcal"),r.find(".second-calendar ."+i).removeClass("activesecondcal");for(i=0;i<T.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcal");for(i=0;i<$.length;i++)r.find(".second-calendar ."+i).removeClass("hoverselectsecondcal"),r.find(".second-calendar ."+i).removeClass("activesecondcal");n.first_selected_date&&n.second_selected_date&&(n.check_if_in_between("first"),n.check_if_in_between("second"))},n.selectSecondDate=function(e,t,a){if(n.second_selected_date){var o=new Date(n.second_selected_date),i=o.getDate();r.find(".second-calendar ."+$.indexOf(i)).removeClass("activeselectSecondcal")}if(n.first_selected_date&&$[e]){var s=parseInt(n.first_selected_date.split("/")[2]),l=T.indexOf(s);n.first_month===t?e>=l&&(n.second_selected_date=n.second_year+"/"+(parseInt(n.second_month)+1)+"/"+parseInt($[e]),n.date_range=n.first_selected_date+" to "+n.second_selected_date,n.show_second_selected_date=n.month_double(parseInt(n.second_month)+1)+"/"+n.date_double(parseInt($[e]))+"/"+n.second_year,n.show_date=n.show_first_selected_date+" to "+n.show_second_selected_date,r.find(".second-calendar ."+e).addClass("activeselectSecondcal"),r.find(".error-msg").remove(),r.find(".has-error").removeClass("has-error"),n.hideCalendar()):(n.second_selected_date=n.second_year+"/"+(parseInt(n.second_month)+1)+"/"+parseInt($[e]),n.date_range=n.first_selected_date+" to "+n.second_selected_date,n.show_second_selected_date=n.month_double(parseInt(n.second_month)+1)+"/"+n.date_double(parseInt($[e]))+"/"+n.second_year,n.show_date=n.show_first_selected_date+" to "+n.show_second_selected_date,
r.find(".second-calendar ."+e).addClass("activeselectSecondcal"),r.find(".error-msg").remove(),r.find(".has-error").removeClass("has-error"),n.hideCalendar()),n.customeventname&&n.publish(n.customeventname,{fromDate:n.first_selected_date,toDate:n.second_selected_date})}},n.onKeydownfirstcal=function(e,t,a){39===e.keyCode&&n.gorightwithfirst(t,a),37===e.keyCode&&n.goleftwithfirst(t,a)},n.keyDateChangeFirst=function(e,t,a,o){13===e.keyCode&&(r.find(".second-calendar .month").focus(),n.selectFirstDate(t,a,o))},n.checkEmpty=function(e){return!!e},a(function(){n.check_if_in_between("first"),n.check_if_in_between("second")}),r.bind("click",function(e){e.stopPropagation()}),t.bind("click.calendarDirective",function(){n.hideCalendar()}),n.check_if_in_between=function(e){var t,a;if(n.first_selected_date&&n.second_selected_date){var o=n.first_selected_date.split("/"),s=parseInt(o[1])-1,l=parseInt(o[0]);t=parseInt(o[2]),a=T.indexOf(t);var d=n.second_selected_date.split("/"),c=parseInt(d[1])-1,f=parseInt(d[0]),u=parseInt(d[2]);$.indexOf(u);n.first_month===s&&parseInt(n.first_year)===l&&"first"===e&&n.highlightfirst(),n.second_month===c&&parseInt(n.second_year)===f&&"second"===e&&(n.clearsecondcal(),n.highlightsecond());var p=new Date(n.first_selected_date),b=new Date(n.second_selected_date);"first"===e&&(h=new Date(n.first_year,n.first_month,1),m=11===n.first_month?new Date(n.first_year+1,0,0):new Date(n.first_year,n.first_month+1,0),h>=p&&b>=m&&n.fullhighlightfirst(h,m),b>=h&&m>=b&&(p>=h?n.highlight_both_in_first(h,m,p,b,!1):n.highlight_both_in_first(h,m,h,b,!0))),"second"===e&&(h=new Date(n.second_year,n.second_month,1),m=11===n.second_month?new Date(n.second_year+1,0,0):new Date(n.second_year,n.second_month+1,0),h>p&&b>m&&n.fullhighlightsecond(h,m),p>=h&&m>=p&&(m>=b?n.highlight_both_in_second(h,m,p,b,!1):n.highlight_both_in_second(h,m,p,m,!0)))}if("first"===e){if(h=new Date(n.first_year,n.first_month,1),m=11===n.first_month?new Date(n.first_year+1,0,0):new Date(n.first_year,n.first_month+1,0),h<=n.historic&&n.historic<=m){for(i=0;i<=41;i++)r.find(".first-calendar ."+i).removeClass("vmf-disabled-date");for(i=T.indexOf(1);i<=T.indexOf(n.historic.getDate());i++)r.find(".first-calendar ."+i).addClass("vmf-disabled-date")}else if(m<n.historic){for(i=0;i<=41;i++)r.find(".first-calendar ."+i).removeClass("vmf-disabled-date");for(i=T.indexOf(1);i<=T.indexOf(m.getDate());i++)r.find(".first-calendar ."+i).addClass("vmf-disabled-date")}else for(i=0;i<=41;i++)r.find(".first-calendar ."+i).removeClass("vmf-disabled-date");n.first_selected_date&&!n.second_selected_date&&(t=new Date(n.first_selected_date),t>=h&&m>=t&&(a=T.indexOf(parseInt(t.getDate())),r.find(".first-calendar ."+a).addClass("activeselectfirstcal"),r.find(".first-calendar ."+a).addClass("activefirstcal")))}else if(h=new Date(n.second_year,n.second_month,1),n.first_selected_date?(g=n.first_selected_date.split("/"),v=new Date(parseInt(g[0]),parseInt(g[1]-1),parseInt(g[2]))):v=n.historic,m=11===n.second_month?new Date(n.second_year+1,0,0):new Date(n.second_year,n.second_month+1,0),v>=h&&m>=v){for(i=0;i<=41;i++)r.find(".second-calendar ."+i).removeClass("vmf-disabled-date");for(i=$.indexOf(1);i<=$.indexOf(v.getDate());i++)r.find(".second-calendar ."+i).addClass("vmf-disabled-date")}else if(v>m){for(i=0;i<=41;i++)r.find(".second-calendar ."+i).removeClass("vmf-disabled-date");for(i=$.indexOf(1);i<=$.indexOf(m.getDate());i++)r.find(".second-calendar ."+i).addClass("vmf-disabled-date")}else for(i=0;i<=41;i++)r.find(".second-calendar ."+i).removeClass("vmf-disabled-date")},n.highlight_both_in_second=function(e,t,a,o,s){n.clearsecondcal();var l=1;for(cal_data=[],_=e.getDay(),D=t.getDate(),i=_,counter=D;0!==counter;)cal_data[i++]=l++,counter-=1;a.getDate(),o.getDate();for(s||r.find(".second-calendar ."+cal_data.indexOf(o.getDate())).addClass("activeselectSecondcal"),i=cal_data.indexOf(a.getDate());i<=cal_data.indexOf(o.getDate());i++)r.find(".second-calendar ."+i).addClass("activesecondcal")},n.highlight_both_in_first=function(e,t,a,o,s){n.clearfirstcal();var l=1;for(cal_data=[],_=e.getDay(),D=t.getDate(),i=_,counter=D;0!==counter;)cal_data[i++]=l++,counter-=1;var d=a.getDate(),c=o.getDate();for(s||r.find(".first-calendar ."+cal_data.indexOf(d)).addClass("activeselectfirstcal"),i=cal_data.indexOf(d);i<=cal_data.indexOf(c);i++)r.find(".first-calendar ."+i).addClass("activefirstcal")},n.fullhighlightfirst=function(e,t){var a=1;for(cal_data=[],_=e.getDay(),D=t.getDate(),i=_,counter=D;0!==counter;)cal_data[i++]=a++,counter-=1;for(i=_;i<=cal_data.indexOf(D);i++)r.find(".first-calendar ."+i).addClass("activefirstcal")},n.fullhighlightsecond=function(e,t){n.clearsecondcal();var a=1;for(cal_data=[],_=e.getDay(),D=t.getDate(),i=_,counter=D;0!==counter;)cal_data[i++]=a++,counter-=1;for(i=_;i<=cal_data.indexOf(D);i++)r.find(".second-calendar ."+i).addClass("activesecondcal")},n.highlightfirst=function(){var e=parseInt(n.first_selected_date.split("/")[2]),t=parseInt(n.first_selected_date.split("/")[0]),a=parseInt(n.first_selected_date.split("/")[1])-1,o=new Date(t,a+1,0),s=o.getDate(),l=new Date(t,a,1);l=l.getDay();var d=[],c=1;for(d=[],i=l,counter=s;0!==counter;)d[i++]=c++,counter-=1;var f=d.indexOf(e);r.find(".first-calendar ."+f).addClass("activeselectfirstcal"),r.find(".first-calendar ."+f).addClass("activefirstcal");var u=n.find_if_in_same();for(u?(u=parseInt(n.second_selected_date.split("/")[2]),u=$.indexOf(u)):u=d.length,i=f;i<u;i++)r.find(".first-calendar ."+i).addClass("activefirstcal")},n.highlightsecond=function(){var e=parseInt(n.second_selected_date.split("/")[2]),t=parseInt(n.second_selected_date.split("/")[0]),a=parseInt(n.second_selected_date.split("/")[1])-1,o=new Date(t,a+1,0),s=o.getDate(),l=new Date(t,a,1);l=l.getDay();for(F=1,F=1,scal_data=[],i=l,counter=s;0!==counter;)scal_data[i++]=F++,counter-=1;var d=scal_data.indexOf(e);r.find(".second-calendar ."+d).addClass("activeselectsecondcal"),r.find(".second-calendar ."+d).addClass("activesecondcal");var c=n.find_if_in_same();for(c?(c=parseInt(n.second_selected_date.split("/")[2]),c=$.indexOf(c)):c=scal_data.length,i=l;i<d;i++)r.find(".second-calendar ."+i).addClass("activesecondcal");r.find(".second-calendar ."+d).addClass("activeselectSecondcal")},n.find_if_in_same=function(){var e=parseInt(n.first_selected_date.split("/")[1]),t=parseInt(n.first_selected_date.split("/")[0]),a=parseInt(n.second_selected_date.split("/")[1]),r=parseInt(n.second_selected_date.split("/")[0]);return e===a&&t===r},n.change_date_format=function(e){return"amit"},n.$on("resetCalendar",function(){n.clearsecondcal(),n.clearfirstcal()}),s='<div class="vmf-calContainer" ng-click="displayCalendar();"><input ng-model="show_date"  class="vmf-calInput" type="text" id="'+n.calendarInputId+'" placeholder="Select Dates" readonly><span class="calIcon" ></span></div><div class="calendercontainer"><div class="vmf-dateContainer tableBorder">   <div class="calSubHeader">       <span class="dateSubHead">From..       </span>       <div vmf-select-list model="first_year" list="firstyearlist"  pre-select-ind="'+b+'" class="yearDropDown firstcaldir" show-arrows="false">       </div>   </div><table class="table-condensed first-calendar">   <thead>      <tr>         <th class="prev available"><a href="javascript:void(0)" ng-click="goleftwithfirst(first_month,first_year);" ><span class="arrow-left"></span></a></th>         <th colspan="5" tabindex="0" ng-keyup="onKeydownfirstcal($event,first_month,first_year);" class="month" ng-bind="convertMonth(first_month);"> </th>         <th class="next available"><a href="javascript:void(0)" ng-click="gorightwithfirst(first_month,first_year);" ><span class="arrow-right"></span></a></th>      </tr>        <tr>         <th>S</th>         <th>M</th>         <th>T</th>         <th>W</th>         <th>T</th>         <th>F</th>         <th>S</th>      </tr>   </thead>   <tbody ng-mouseleave = "leavingfirstcal();" ng-swipe-left="gorightwithfirst(first_month,first_year);" ng-swipe-right="goleftwithfirst(first_month,first_year);"  >      <tr>         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [0,1,2,3,4,5,6]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [7,8,9,10,11,12,13]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [14,15,16,17,18,19,20]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [21,22,23,24,25,26,27]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr  >         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [28,29,30,31,32,33,34]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr  >         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [35,36,37,38,39,40,41]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>   </tbody></table></div><div class="vmf-dateContainer"><div class="calSubHeader">   <span class="dateSubHead">To..   </span>   <span ><div vmf-select-list show-arrows="false" model="second_year" list="secondyearlist" pre-select-ind="0" class="yearDropDown secondcaldir"></div></span></div><table class="table-condensed second-calendar">   <thead>      <tr>         <th class="prev available"><a href="javascript:void(0)" ng-click="goleftwithsecond(second_month,second_year);" ><span class="arrow-left"></span></a></th>         <th colspan="5" class="month" ng-bind="convertMonth(second_month);"> </th>         <th class="next available"><a href="javascript:void(0)" ng-click="gorightwithsecond(second_month,second_year);" ><span class="arrow-right"></span></a></th>      </tr>      <tr>         <th>S</th>         <th>M</th>         <th>T</th>         <th>W</th>         <th>T</th>         <th>F</th>         <th>S</th>      </tr>   </thead>   <tbody ng-mouseleave = "leavingsecondcal();" ng-swipe-left="gorightwithsecond(second_month,second_year);" ng-swipe-right="goleftwithsecond(second_month,second_year);" >      <tr>         <td ng-mouseover="hoverSecondDate(i,second_month,second_year);" ng-click="selectSecondDate(i,second_month,second_year);" ng-repeat="i in [0,1,2,3,4,5,6]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(second_cal[i]);">{{second_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverSecondDate(i,second_month,second_year);" ng-click="selectSecondDate(i,second_month,second_year);" ng-repeat="i in [7,8,9,10,11,12,13]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(second_cal[i]);">{{second_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverSecondDate(i,second_month,second_year);" ng-click="selectSecondDate(i,second_month,second_year);" ng-repeat="i in [14,15,16,17,18,19,20]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)">{{second_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverSecondDate(i,second_month,second_year);" ng-click="selectSecondDate(i,second_month,second_year);" ng-repeat="i in [21,22,23,24,25,26,27]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(second_cal[i]);">{{second_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverSecondDate(i,second_month,second_year);" ng-click="selectSecondDate(i,second_month,second_year);" ng-repeat="i in [28,29,30,31,32,33,34]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(second_cal[i]);">{{second_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverSecondDate(i,second_month,second_year);" ng-click="selectSecondDate(i,second_month,second_year);" ng-repeat="i in [35,36,37,38,39,40,41]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(second_cal[i]);">{{second_cal[i]}}</a></td>      </tr>   </tbody></table></div></div>',r.append(s),e(r.contents())(n)}}}]).directive("vmfCalendarSingle",["$compile","$document","$timeout",function(e,t,a){return{restrict:"EA",scope:{sdate:"@",edate:"@"},controller:["$scope",function(e){}],link:function(n,r,o){var s;for(temp_start=n.sdate.split("/"),n.startdate=new Date(temp_start[2],temp_start[1]-1,temp_start[0]),temp_end=n.edate.split("/"),n.enddate=new Date(temp_end[2],temp_end[1]-1,temp_end[0]),n.firstyearlist=[],i=n.startdate.getFullYear();i<=n.enddate.getFullYear();i++)n.firstyearlist.push(i);var l=new Date,d=(l.getDate(),l.getMonth()),c=l.getFullYear();n.first_year=c;var f=n.firstyearlist.indexOf(c);n.first_month=d;var u=(l.getDay(),new Date(c,d+1,0)),p=u.getDate(),h=new Date(c,d,1);h=h.getDay();var m=[],g=1;for(g=1,m=[],i=h,counter=p;0!==counter;)m[i++]=g++,counter-=1;g=1,n.first_cal=m,d+=1,n.second_year=c,n.second_month=d;var v=new Date(c,d+1,0),b=v.getDate(),y=new Date(c,d,1);y=y.getDay();var C=[];for(g=1,m=[],i=y,counter=b;0!==counter;)C[i++]=g++,counter-=1;g=1,n.second_cal=C,n.goleftwithfirst=function(e,t){r.find(".arrow-right").removeClass("hiddenarrow").parent().removeClass("disabledarrow");var a;if(n.first_year!==n.firstyearlist[0]||0!==n.first_month){for(i=0;i<m.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcal"),r.find(".first-calendar ."+i).removeClass("activeselectfirstcal");if(0===e){if(t-=1,a=new Date(t,e,1),a<n.startdate)return;r.find(".current-selection").text(t),e=11}else e-=1;a=new Date(t,e,1),a=a.getDay();var o=new Date(t,e+1,0),s=o.getDate(),l=1;for(m=[],i=a,counter=s;0!==counter;)m[i++]=l++,counter-=1;if(n.first_cal=m,n.first_month=e,n.first_year=t,n.first_selected_date){var d=new Date(n.first_selected_date),c=d.getDate(),f=d.getMonth(),u=d.getFullYear(),p=m.indexOf(c);f===n.first_month&&u===n.first_year&&r.find(".first-calendar ."+p).addClass("activeselectfirstcal")}e===n.startdate.getMonth()&&parseInt(t)===n.startdate.getFullYear()?r.find(".arrow-left").addClass("hiddenarrow").parent().addClass("disabledarrow"):r.find(".arrow-left").removeClass("hiddenarrow").parent().removeClass("disabledarrow")}},n.gorightwithfirst=function(e,t){r.find(".arrow-left").removeClass("hiddenarrow").parent().removeClass("disabledarrow");var a;for(i=0;i<m.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcal"),r.find(".first-calendar ."+i).removeClass("activeselectfirstcal");if(11===e){if(t=parseInt(t)+1,a=new Date(t,e,1),a>n.enddate)return;r.find(".current-selection").text(t),e=0}else e+=1;a=new Date(t,e,1),a=a.getDay();var o=new Date(t,e+1,0),s=o.getDate(),l=1;for(m=[],i=a,counter=s;0!==counter;)m[i++]=l++,counter-=1;if(n.first_cal=m,n.first_month=e,n.first_year=t,n.first_selected_date){var d=new Date(n.first_selected_date),c=d.getDate(),f=d.getMonth(),u=d.getFullYear(),p=m.indexOf(c);f===n.first_month&&u===n.first_year&&r.find(".first-calendar ."+p).addClass("activeselectfirstcal")}e===n.enddate.getMonth()&&parseInt(t)===n.enddate.getFullYear()?r.find(".arrow-right").addClass("hiddenarrow").parent().addClass("disabledarrow"):r.find(".arrow-right").removeClass("hiddenarrow").parent().removeClass("disabledarrow"),e===n.startdate.getMonth()&&parseInt(t)===n.startdate.getFullYear()&&r.find(".arrow-left").addClass("hiddenarrow").parent().addClass("disabledarrow")},n.displayCalendar=function(){r.find(".calIcon").addClass("activeCal"),r.find(".calendercontainersingle").css("visibility","visible").addClass("calendercontainerActive"),r.find(".first-calendar .month").focus(),n.calendar=!0},n.hideCalendar=function(){r.find(".calIcon").removeClass("activeCal"),r.find(".calendercontainersingle").css("visibility","hidden").removeClass("calendercontainerActive"),r.find(".placeholdersjs").removeClass("placeholdersjs"),n.calendar=!1},n.convertMonth=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e]},n.month_double=function(e){var t=["00","01","02","03","04","05","06","07","08","09","10","11","12"];return t[e]},n.month_double=function(e){var t=["00","01","02","03","04","05","06","07","08","09","10","11","12"];return t[e]},n.date_double=function(e){if(9>e){var t=["00","01","02","03","04","05","06","07","08","09"];return t[e]}return e},n.selectFirstDate=function(e,t,a){if(m[e]){for(i=0;i<m.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcal"),r.find(".first-calendar ."+i).removeClass("activeselectfirstcal");r.find(".first-calendar ."+e).addClass("activeselectfirstcal")}fdate=m[e],n.first_selected_date=n.first_year+"/"+(parseInt(n.first_month)+1)+"/"+parseInt(fdate),n.date_range=n.first_selected_date,n.show_date=n.month_double(parseInt(n.first_month)+1)+"/"+n.date_double(parseInt(fdate))+"/"+n.first_year,r.find(".error-msg").remove(),r.find(".has-error").removeClass("has-error"),n.hideCalendar()},n.hoverFirstDate=function(e,t,a){if(n.first_cal[e]){for(i=0;i<n.first_cal.length;i++)r.find(".first-calendar ."+i).removeClass("hoverselectfirstcal");for(i=0;i<n.first_cal.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcalhover");for(i=e;i<n.first_cal.length;i++)r.find(".first-calendar ."+i).addClass("activefirstcalhover");r.find(".first-calendar ."+e).addClass("hoverselectfirstcal")}},n.leavingfirstcal=function(){for(i=0;i<m.length;i++)r.find(".first-calendar ."+i).removeClass("hoverselectfirstcal");for(i=0;i<m.length;i++)r.find(".first-calendar ."+i).removeClass("activefirstcalhover")},n.onKeydownfirstcal=function(e,t,a){39===e.keyCode&&n.gorightwithfirst(t,a),37===e.keyCode&&n.goleftwithfirst(t,a)},n.keyDateChangeFirst=function(e,t,a,o){13===e.keyCode&&(r.find(".second-calendar .month").focus(),n.selectFirstDate(t,a,o))},n.checkEmpty=function(e){return!!e},a(function(){}),r.bind("click",function(e){e.stopPropagation()}),t.bind("click.calendarDirective",function(){n.hideCalendar()}),n.$watch("first_year",function(e,t){if(e){n.first_year=parseInt(e);n.gorightwithfirst(n.first_month-1,e)}}),n.$on("resetCalendar",function(){n.clearsecondcal(),n.clearfirstcal()}),s='<div class="vmf-calContainer" ng-click="displayCalendar();" ><input ng-model="show_date"  class="vmf-calInput" type="text" id="coverageDates" placeholder="Select Dates" readonly><span class="calIcon" ></span></div><div class="calendercontainersingle"><div class="vmf-dateContainer tableBorder">   <div class="calSubHeader">       <span class="dateSubHead">Year       </span>       <div vmf-select-list model="first_year" list="firstyearlist"  pre-select-ind="'+f+'" class="yearDropDown" show-arrows="false">       </div>   </div><table class="table-condensed first-calendar">   <thead>      <tr>         <th class="prev available"><a href="javascript:void(0)" ng-click="goleftwithfirst(first_month,first_year);" ><span class="arrow-left"></span></a></th>         <th colspan="5" tabindex="0" ng-keyup="onKeydownfirstcal($event,first_month,first_year);" class="month" ng-bind="convertMonth(first_month);"> </th>         <th class="next available"><a href="javascript:void(0)" ng-click="gorightwithfirst(first_month,first_year);" ><span class="arrow-right"></span></a></th>      </tr>        <tr>         <th>S</th>         <th>M</th>         <th>T</th>         <th>W</th>         <th>T</th>         <th>F</th>         <th>S</th>      </tr>   </thead>   <tbody ng-mouseleave = "leavingfirstcal();" ng-swipe-left="gorightwithfirst(first_month,first_year);" ng-swipe-right="goleftwithfirst(first_month,first_year);"  >      <tr>         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [0,1,2,3,4,5,6]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [7,8,9,10,11,12,13]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [14,15,16,17,18,19,20]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr>         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [21,22,23,24,25,26,27]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr ng-if="checkEmpty(first_cal[28]);" >         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [28,29,30,31,32,33,34]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>      <tr ng-if="checkEmpty(first_cal[35]);" >         <td ng-mouseover="hoverFirstDate(i,first_month,first_year);" tabindex="0" ng-keyup="keyDateChangeFirst($event,i,first_month,first_year);" ng-click="selectFirstDate(i,first_month,first_year);" ng-repeat="i in [35,36,37,38,39,40,41]" class="{{i}}" data-title="r0c0"><a href="javascript:void(0)" ng-if="checkEmpty(first_cal[i]);">{{first_cal[i]}}</a></td>      </tr>   </tbody></table></div></div>',r.append(s),e(r.contents())(n)}}}]);var folderTreeApp=angular.module("folderTreeApp",[]);folderTreeApp.directive("vmfFolderTree",["$compile","$timeout","$http","ModalService","folderDataService","globalData",function(e,t,a,n,r,o){return{restrict:"A",scope:{tree:"=",multipleSelect:"@",rootName:"=",folderClickCallBack:"&",ajax:"="},link:function(n,i,s){function l(){angular.element(".actionEachBox").removeAttr("style").addClass("hidden"),n.thisTree.find(".actionEach").remove(),n.thisTree.find("li.menuOpen").removeClass("menuOpen")}n.treeChild={},n.getSearchData={},n.selectedFolderIdsArray=[],n.searchedFolderData=[],n.globalVars=globalVariables,n.subscribe("folderTreeChange",function(e){n.rootName.instanceId===e.instanceId&&null!==e.folderData&&void 0!==e.folderData&&n.compiler(e.folderData)}),i.find(".folderTreeWrapper").attr("id",n.rootName.text.split(" ").join("")),n.thisTree=i.find("#"+n.rootName.text.split(" ").join("")),n.foldersArray=[],n.completeFolderStack=[];var d=28,c=15;n.calculatePadding=function(e){n.folderPadding=28*e+d,n.collapsePadding=28*e+c},n.lowestlevelGetter=function(e){return n.levels=[],e.forEach(function(e){n.levels.push(e.folderLevel)}),n.levels.sort()[0]-1},n.subFolderCreator=function(e){return n.folderObj=e,n.indexHolder=[],n.folderObj.hasSubFolders?(n.folderObj.subFolders=[],n.tree.forEach(function(t,a){t.parentFolderId===e.folderId&&(n.folderCount++,n.folderObj.subFolders.push(t),n.indexHolder.push(a))}),n.indexHolder.reverse().forEach(function(e){n.tree.splice(e,1)})):n.folderObj.subFolders=[],n.folderObj},n.subFolderCreatorChild=function(e){return n.folderObj=e,n.indexHolder=[],n.folderObj.hasSubFolders?(n.folderObj.subFolders=[],n.treeChild.forEach(function(t,a){t.parentFolderId===e.folderId&&(n.folderCount++,n.folderObj.subFolders.push(t),n.indexHolder.push(a))}),n.indexHolder.reverse().forEach(function(e){n.treeChild.splice(e,1)})):n.folderObj.subFolders=[],n.folderObj},n.subscribe("ftLoading",function(e){e.instanceId==n.rootName.instanceId&&n.thisTree.find(".folderTree .foldertreeUl").html("")}),n.compiler=function(a){r.allFolders=a||n.tree,n.tree=JSON.parse(JSON.stringify(a)),angular.copy(n.tree,n.foldersArray),angular.copy(n.tree,n.completeFolderStack),n.folderString="<ul class='foldertreeUl'>",n.lowestlevel=n.lowestlevelGetter(n.tree)||0,n.recursionCount=0,n.folderHierarchyLevel=1;for(var o in n.tree)n.tree[o].folderLevel>n.lowestlevel&&(n.recursionCount++,n.lowestlevel=n.tree[o].folderLevel);for(;n.recursionCount>n.folderHierarchyLevel-1;)n.lastIndex,1===n.folderHierarchyLevel&&(folderArray=[],n.tree.forEach(function(e,t){"ROOT"===e.folderType&&folderArray.push(e)})),n.nextSet=[],folderArray.forEach(function(e,t){1===n.folderHierarchyLevel?(folderArray[t]=n.subFolderCreator(e),folderArray[t].subFolders.length&&folderArray[t].subFolders.forEach(function(e){n.nextSet.push(e)})):(e.subFolders=[],folderArray[t]=n.subFolderCreator(e),folderArray[t].subFolders.length&&folderArray[t].subFolders.forEach(function(e){n.nextSet.push(e)})),n.lastIndex=t}),folderArray=n.nextSet,n.folderHierarchyLevel++;for(n.firstIteration=!0,n.totalIterations=0;n.folderHierarchyLevel>0;)n.calculatePadding(n.totalIterations-1),n.firstIteration?(n.folderString=n.folderString+'<li ng-repeat="subfolder in tree" ng-class="{expandButton:subfolder.hasSubFolders, disabled:subfolder.folderAccess == \'NONE\', selected:selectedFolderIdsArray.indexOf(subfolder.folderId) !== -1}" id="{{subfolder.folderId}}" ftPath="{{subfolder.fullFolderPath}}" ftName="{{subfolder.folderName}}" ftLevel="{{subfolder.folderLevel}}" ftType="{{subfolder.folderType}}" ftAccess="{{subfolder.folderAccess}}">',n.firstIteration=!1):n.folderString=n.folderString+'<ul class="subfolder"><li ng-repeat="subfolder in subfolder.subFolders" ng-class="{expandButton:subfolder.hasSubFolders,plus:subfolder.hasSubFolders, disabled:subfolder.folderAccess == \'NONE\', selected:selectedFolderIdsArray.indexOf(subfolder.folderId) !== -1}" id="{{subfolder.folderId}}" ftPath="{{subfolder.fullFolderPath}}" ftName="{{subfolder.folderName}}" ftLevel="{{subfolder.folderLevel}}" ftType="{{subfolder.folderType}}" ftAccess="{{subfolder.folderAccess}}">',1==n.rootName.showFolderOptions?n.folderString=n.folderString+'<a href="javascript:void(0)" ng-class="{disabled:subfolder.folderAccess ==\'NONE\'}"  ng-click="toggleSelectFolder(subfolder.folderId,subfolder.fullFolderPath)"  style="padding-left: '+n.folderPadding+'px" vmf-folder-options data-folder-options=subfolder.folderOptions data-this-tree = "thisTree"  ng-click="folderClickCallBack({$event:$event,this:this})" complete-folder-stack = "completeFolderStack" folder-data-ftype="subfolder.folderType"><span class="expandCollapseIcon" style="left: '+n.collapsePadding+'px" ng-show="subfolder.hasSubFolders" ng-click="expander($event,subfolder.folderAccess); ajaxLoad($event,subfolder)">&nbsp;</span>':n.folderString=n.folderString+'<a href="javascript:void(0)" ng-click="toggleSelectFolder(subfolder.folderId,subfolder.fullFolderPath)"  style="padding-left: '+n.folderPadding+'px" data-this-tree = "thisTree"  ng-click="folderClickCallBack({$event:$event,this:this})" complete-folder-stack = "completeFolderStack" folder-data-ftype="subfolder.folderType"><span class="expandCollapseIcon" style="left: '+n.collapsePadding+'px" ng-show="subfolder.hasSubFolders" ng-click="expander($event,subfolder.folderAccess); ajaxLoad($event,subfolder)">&nbsp;</span>',"off"===angular.lowercase(n.multipleSelect)||"false"===angular.lowercase(n.multipleSelect)?n.folderString=n.folderString+'<div style="margin-left:10px;" class="custom-checkbox"><span class="folderIcon"></span>{{subfolder.folderName}} <span class="badge" ng-if="subfolder.folderType == \'ASP\' || subfolder.folderType == \'VCE\' || subfolder.folderType == \'CPL\'" badgeType="{{subfolder.folderType}}">{{subfolder.folderType}}</span></div>':n.folderString=n.folderString+'<div class="checkbox"><input id="{{subfolder.folderName}}" class="styled" ng-model="subfolder.checked" type="checkbox" ng-disabled="subfolder.folderAccess == \'NONE\'"><label for="{{subfolder.folderName}}">{{subfolder.folderName}}</label></div>',n.folderString=n.folderString+"</a>",n.folderHierarchyLevel--,n.totalIterations++;for(;n.totalIterations>0;)n.folderString=n.folderString+"</li></ul>",n.totalIterations--;t(function(){n.thisTree.find(".folderTree").find("ul").remove(),n.thisTree.find(".folderTree").append(e(n.folderString)(n))}),t(function(){$(n.thisTree).find(".disabled > a").addClass("vmf-tooltip").attr("data-toggle","tooltip").attr("data-placement","bottom").attr("title",globalVariables.textDisabledFolders),$(n.thisTree).find(".badge").each(function(){var e=$(this).attr("badgeType");$(this).attr("title",globalVariables["staticTextfor"+e])}),n.thisTree.find(".vmf-tooltip").tooltip(),n.thisTree.find(".custom-checkbox").addClass("folderSelector"),n.thisTree.find(".folderTree").find("input").removeAttr("ng-click"),n.thisTree.find(".subfolder").has("li").parent("li").addClass("expandButton plus"),n.thisTree.find(".subfolder:first").has("li").parent("li").removeClass("plus"),n.thisTree.find(".expandCollapseIcon").eq(0).addClass("ng-hide"),"off"!==angular.lowercase(n.multipleSelect)&&"false"!==angular.lowercase(n.multipleSelect)||(n.thisTree.find(".folderTreeHeader a:first span").remove(),n.thisTree.addClass("withoutCheckBox"))}),t(function(){$(".folderSelector").on("mouseover",function(e){var t=$(this),a=10*t.text().length;a>t.innerWidth()?t.attr("title",t.text()):t.removeAttr("title")})},100)},"off"!==angular.lowercase(n.multipleSelect)&&"false"!==angular.lowercase(n.multipleSelect)||n.thisTree.find(".folderTreeHeader a:first span").remove(),n.compiler(n.tree),n.ajaxLoad=function(e,t){n.clickedParent=angular.element(e.target);var a=$(e.target).parent().siblings(".subfolder").children().length;1==n.ajax&&0==a&&n.getTreeChild(e,t,t.folderId)},n.getTreeChild=function(e,t,r){var o=globalVariables.getChildTreeUrl+"&iWantToSelection=viewLicense",i={navigatingFolderId:r},s=$.param(i),l='<div  class="alert-box starlight-alert"><div class="alert alert-danger alert-dismissable"><a class="close icons-alert-close" data-dismiss="alert" type="button"></a><div class="row"> <span class="icons-alert-danger"></span><div class="alert-text col-sm-10"> <span>'+globalVariables.txtFolderContentsNotAvailable+"</span></div> </div>  </div> </div>",d=$("#"+t.folderId+" a div");0==d.length&&(d=$("#"+t.folderId+" a label")),d.append('<span class="ajaxLoader subFolderLoader"></span>'),$("#subfolderDataEmptyErr").html("").addClass("hide"),a({method:"POST",url:o,data:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a,r,o,i){1==a.error||null==a||void 0==a||""==a?$("#subfolderDataEmptyErr").html(l).removeClass("hide"):1==a.emptyTree||0==a.folderContents.length?$("#subfolderDataEmptyErr").html(l).removeClass("hide"):n.childCompilerArr(e,t,a.folderContents),
d.find("span.subFolderLoader").remove()}).error(function(e,t,a,n){d.find("span.subFolderLoader").remove()})},n.moveSearchedFolders=function(){n.getParentId=n.clickedParent.parent().parent().attr("id"),angular.forEach(n.searchedFolderData,function(e,t){angular.forEach(e.folderIdList,function(t,a){if(t==n.getParentId){var r=a-1;n.moveChildAfterFind(e,n.getParentId,r)}})})},n.moveChildAfterFind=function(t,a,r){if(0!==r){var o=angular.element("#"+t.folderId+" a").css("padding-left").replace("px",""),i=parseInt(o)+28,s=angular.element("#"+t.folderId);angular.element("#"+t.folderId).remove(),angular.element("#"+t.folderIdList[r]).after(e(s)(n)),angular.element("#"+t.folderId+" a").css("padding-left",i+"px"),angular.element("#"+t.folderId).attr("rel",t.folderIdList[r])}else angular.element('[rel="'+t.folderIdList[1]+'"]').remove()},n.subscribe("findFolderEvt",function(e){var t={mode:e.ftInstanceId};n.rootName.instanceId===e.ftInstanceId&&n.addNodeToFolderTree(e.folderObj,t)}),n.addNodeToFolderTree=function(t,a){var r=angular.element("#"+t.folderId);if(r.length>=1)0==r.hasClass("selected")&&n.toggleSelectFolder(t.folderId);else{"filterPageFT"==a.mode&&n.searchedFolderData.length>=1&&(angular.element("#"+n.searchedFolderData[0].folderId).remove(),n.searchedFolderData=[]),n.searchedFolderData.push(t);var o=!1;angular.forEach(t.folderIdList,function(a,r){var i=angular.element("#"+a).get(0);if(void 0!==i&&0==o){o=!0;var s=n.getRandomInt(0,999999);n.getSearchData[s]=JSON.parse(JSON.stringify(t));var l=(angular.element("#"+a),angular.element("#"+a+" a").css("padding-left"));if("off"===angular.lowercase(n.multipleSelect)||"false"===angular.lowercase(n.multipleSelect))var d='<li class="expandButton plus" ng-class="{selected:selectedFolderIdsArray.indexOf(getSearchData.'+s+'.folderId) !== -1}"  ftpath="'+t.fullFolderPath+'"  id="'+t.folderId+'" rel="'+a+'"><a href="javascript:void(0)" style="padding-left: '+l+'" ng-click="toggleSelectFolder('+t.folderId+')"><div style="margin-left:10px;" class="custom-checkbox folderSelector" >... '+t.folderName+"</div></a></li>";else{n.getSearchData[s].checked=!0;var d='<li class="expandButton plus" ng-class="{selected:selectedFolderIdsArray.indexOf(getSearchData.'+s+'.folderId) !== -1}"  ftpath="'+t.fullFolderPath+'"  id="'+t.folderId+'" rel="'+a+'"><a href="javascript:void(0)" class="folderFilterChkWrap" style="padding-left: '+l+'" ng-click="toggleSelectFolder('+t.folderId+')"><span class="dotHolder">...</span><div vmf-checkbox-group class="vmf-checkbox-group" type="1" model="getSearchData.'+s+'.checked" c-label="subfolder.folderName" c-disabled="false"></div><div style="margin-left:10px;" class="custom-checkbox folderSelector" >'+t.folderName+"</div></a></li>"}return $("#"+a).after(e(d)(n)),$("#"+t.folderId).on("mouseenter",function(e){$("#"+t.folderId+" a").addClass("highlightActive highlight")}),$("#"+t.folderId).on("mouseleave",function(e){$("#"+t.folderId+" a").removeClass("highlightActive highlight")}),n.toggleSelectFolder(n.getSearchData[s].folderId),!1}})}angular.element("#"+t.folderId).parents("li.plus").removeClass("plus").addClass("minus");var i=angular.element("#"+t.folderId).get(0).offsetTop;angular.element(".foldertreeUl").get(0).scrollTop=i},n.setFolderPermissions=function(e){var t=$("#"+e).attr("ftPerm"),r=$("#"+e).attr("ftPath");if(!t){var i={selectedFolderId:e},s=$.param(i);a({method:"POST",url:globalVariables.getFolderMinPermUrl,data:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,i,s){var l="";t.manage?l="MANAGE":t.view?l="VIEW":t.view||(l="NONE"),$("#"+e).attr("ftPerm",l),n.publish("FolderPermissionsSet",t),o.permissionObject[r]=t}).error(function(e,t,a,n){})}},n.toggleSelectFolder=function(e,t){return angular.element("#"+e).hasClass("disabled")?!1:void("filterPageFT"===n.rootName.instanceId?(n.selectedFolderIdsArray=[],-1==n.selectedFolderIdsArray.indexOf(e)?n.selectedFolderIdsArray.push(e.toString()):n.selectedFolderIdsArray.splice(n.selectedFolderIdsArray.indexOf(e),1),n.setFolderPermissions(e),n.publish("selectProductsByFolder",n.selectedFolderIdsArray),angular.element(".actionEachBox").is(":visible")&&l()):"moveFolderFT"===n.rootName.instanceId?(n.selectedFolderIdsArray=[],n.selectedFolderIdsArray.push(e),n.publish("publishFolderSelected",{folderId:e,folderInstance:n.rootName.instanceId,fPath:t})):"filterFolderFT"===n.rootName.instanceId)},n.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e))+e},n.childCompilerArr=function(a,r,o){n.getChildFolders=o;var i=n.getRandomInt(1,99999999999);n.treeChild[i]=JSON.parse(JSON.stringify(o)),angular.forEach(o,function(e,t){n.completeFolderStack.push(e)}),n.getChildWrap=a.target,n.folderString="<ul class='subfolder'>",n.lowestlevel=n.lowestlevelGetter(n.treeChild[i])||0,n.recursionCount=0,n.folderHierarchyLevel=1;for(var s in n.treeChild[i])n.treeChild[i][s].folderLevel>n.lowestlevel&&(n.recursionCount++,n.lowestlevel=n.treeChild[i][s].folderLevel);for(;n.recursionCount>n.folderHierarchyLevel-1;)n.lastIndex,1===n.folderHierarchyLevel&&(folderArray=[],n.treeChild[i].forEach(function(e,t){"ROOT"===e.folderType&&folderArray.push(e)})),n.nextSet=[],folderArray.forEach(function(e,t){1===n.folderHierarchyLevel?(folderArray[t]=n.subFolderCreatorChild(e),folderArray[t].subFolders.length&&folderArray[t].subFolders.forEach(function(e){n.nextSet.push(e)})):(e.subFolders=[],folderArray[t]=n.subFolderCreatorChild(e),folderArray[t].subFolders.length&&folderArray[t].subFolders.forEach(function(e){n.nextSet.push(e)})),n.lastIndex=t}),folderArray=n.nextSet,n.folderHierarchyLevel++;for(n.firstIteration=!0,n.totalIterations=0,n.totalIterations=r.folderLevel,n.childCount=0;n.folderHierarchyLevel>0;)n.calculatePadding(n.totalIterations-1),n.firstIteration?(n.folderString=n.folderString+'<li ng-repeat="subfolder in treeChild.'+i+'" ng-class="{expandButton:subfolder.hasSubFolders, disabled:subfolder.folderAccess == \'NONE\', plus:subfolder.hasSubFolders, selected:selectedFolderIdsArray.indexOf(subfolder.folderId) !== -1}" id="{{subfolder.folderId}}" ftPath="{{subfolder.fullFolderPath}}" ftName="{{subfolder.folderName}}" ftLevel="{{subfolder.folderLevel}}" ftType="{{subfolder.folderType}}" ftAccess="{{subfolder.folderAccess}}">',n.firstIteration=!1):n.folderString=n.folderString+'<ul class="subfolder"><li ng-repeat="subfolder in subfolder.subFolders"  ng-class="{expandButton:subfolder.hasSubFolders,plus:subfolder.hasSubFolders, disabled:subfolder.folderAccess == \'NONE\', selected:selectedFolderIdsArray.indexOf(subfolder.folderId) !== -1}">',1==n.rootName.showFolderOptions?n.folderString=n.folderString+'<a href="javascript:void(0)" ng-class="{disabled:subfolder.folderAccess ==\'NONE\'}" ng-click="toggleSelectFolder(subfolder.folderId,subfolder.fullFolderPath)" style="padding-left: '+n.folderPadding+'px" vmf-folder-options data-folder-options=subfolder.folderOptions data-this-tree = "thisTree"  ng-click="folderClickCallBack({$event:$event,this:this})" complete-folder-stack = "completeFolderStack" folder-data-ftype="subfolder.folderType"><span class="expandCollapseIcon" style="left: '+n.collapsePadding+'px" ng-show="subfolder.hasSubFolders" ng-click="expander($event,subfolder.folderAccess); ajaxLoad($event,subfolder)">&nbsp;</span>':n.folderString=n.folderString+'<a href="javascript:void(0)" ng-click="toggleSelectFolder(subfolder.folderId,subfolder.fullFolderPath)" style="padding-left: '+n.folderPadding+'px"  ng-click="folderClickCallBack({$event:$event,this:this})" complete-folder-stack = "completeFolderStack" folder-data-ftype="subfolder.folderType"><span class="expandCollapseIcon" style="left: '+n.collapsePadding+'px" ng-show="subfolder.hasSubFolders" ng-click="expander($event,subfolder.folderAccess); ajaxLoad($event,subfolder)">&nbsp;</span>',"off"===angular.lowercase(n.multipleSelect)||"false"===angular.lowercase(n.multipleSelect)?n.folderString=n.folderString+'<div style="margin-left:10px;" class="custom-checkbox"><span class="folderIcon"></span>{{subfolder.folderName}} <span class="badge" ng-if="subfolder.folderType == \'ASP\' || subfolder.folderType == \'VCE\' || subfolder.folderType == \'CPL\'" badgeType="{{subfolder.folderType}}">{{subfolder.folderType}}</span></div>':n.folderString=n.folderString+'<div class="checkbox"><input id="{{subfolder.folderName}}" class="styled" ng-model="subfolder.checked" type="checkbox" ng-disabled="subfolder.folderAccess == \'NONE\'"><label for="{{subfolder.folderName}}">{{subfolder.folderName}}</label></div>',n.folderString=n.folderString+"</a>",n.folderHierarchyLevel--,n.totalIterations++,n.childCount++;for(;n.childCount>0;)n.folderString=n.folderString+"</li></ul>",n.childCount--;var l=$(n.getChildWrap).parents("li:first"),d=l.prop("id");t(function(){l.append(e(n.folderString)(n))}),t(function(){l.find(".disabled > a").addClass("vmf-tooltip").attr("data-toggle","tooltip").attr("data-placement","bottom").attr("title",globalVariables.textDisabledFolders),l.find(".badge").each(function(){var e=$(this).attr("badgeType");$(this).attr("title",globalVariables["staticTextfor"+e])}),l.find(".custom-checkbox").addClass("folderSelector"),l.find(".folderTree").find("input").removeAttr("ng-click"),l.find(".subfolder:first").has("li").parent("li").removeClass("plus"),"off"!==angular.lowercase(n.multipleSelect)&&"false"!==angular.lowercase(n.multipleSelect)||(l.find(".folderTreeHeader a:first span").remove(),l.addClass("withoutCheckBox")),l.find(".vmf-tooltip").tooltip(),n.moveSearchedFolders(),n.publish("childFoldersRecieved",{childObj:o,parentId:d,instanceId:n.rootName.instanceId})})},i.find(".folderTreeHeader .customCheckBox").off("click").on("click",function(e){return n.thisTree.find(".actionEach").remove(),n.thisTree.find(".actionEachBox").remove(),n.availableFolders=n.thisTree.find(".folderSelector").not(".disabledColor"),angular.element(this).attr("checked")?(n.availableFolders.removeClass("selected").find("input").attr("checked",!1),n.availableFolders.parent().removeClass("highlight"),angular.element(this).attr("checked",!1),!1):(n.availableFolders.addClass("selected").find("input").attr("checked",!0),n.availableFolders.parent().addClass("highlight"),angular.element(this).parents("a").removeClass("highlight"),angular.element(this).attr("checked",!0),!1)}),n.uniqueIDGenerator=function(e){for(var t,a,r=!0;r===!0;)t=Math.floor(1e4*Math.random()),a=0,n.completeFolderStack.forEach(function(e){e.folderId===t&&a++}),0===a&&(r=!1);return t},n.creatingFolder=function(e,t){var a={},r=[{text:"Invite New User",disabledClass:"disabled"},{text:"Share Folder",disabledClass:"enabled"},{text:"Create Folder",disabled:!0},{text:"Delete Folder",disabled:!0},{text:"Rename Folder",disabled:!1},{text:"Move Folder",disabled:!1},{text:"Request Permission",disabled:!1},{text:"Export to csv",disabled:!1}];return a.status="ACTIVE",a.folderType="ORDER",a.fullFolderPath=t.folderPath+"\\"+t.folderName,a.rootFolderId=0,a.folderId=n.uniqueIDGenerator(n.completeFolderStack),a.folderName=t.folderName,a.parentFolderId=e.folderId,a.folderLevel=e.folderLevel+1,a.folderAccess="NONE",a.isLeaf=!0,a.hasSubFolders=!1,a.folderOptions=r,a.checked=!1,a},n.resetFolders=function(e,t){if(n.modifiedFolders=[],n.type=t||"",n.parentFolder,n.searchResult={},t.search("Create")>=0)n.newFolder={},n.referenceObj={},n.allFolders.forEach(function(t,a){t.fullFolderPath===e.folderPath&&(n.allFolders[a].hasSubFolders=!0,n.referenceObj=t)}),n.newFolder=n.creatingFolder(n.referenceObj,e),n.allFolders.push(n.newFolder),n.modifiedFolders=n.allFolders;else if(t.search("Delete")>=0)n.delReference=e.ref,n.deleteIndice=[],n.deletedFolders=[],n.completeFolderStack.forEach(function(e,t){e.fullFolderPath.split(delReference).length>1&&n.deleteIndice.push(t)}),n.deleteIndice.reverse().forEach(function(e,t){n.tempCount=0,n.tempParentId=n.completeFolderStack[t].parentFolderId,deletedFolders.push(n.completeFolderStack[t]),n.completeFolderStack.splice(t,1),n.completeFolderStack.forEach(function(e,t){n.tempParentId===e.parentFolderId&&n.tempCount++}),0===n.tempCount&&n.completeFolderStack.forEach(function(e,t){return n.tempParentId===e.folderId?(e.hasSubFolders=!1,!1):void 0})}),n.modifiedFolders=n.completeFolderStack;else if(t.search("Rename")>=0)n.mainPathArray=[],n.newFullPath="",n.bits=[],n.initialPath=e.currentFolderPath.split("\\"),n.initialPath.pop(),n.completeFolderStack.forEach(function(t,a){n.mainPathArray=[],n.mainPathArray=t.fullFolderPath.split(e.currentFolderPath),n.mainPathArray.length>=1&&(""===n.mainPathArray[0]&&(n.mainPathArray[0]=e.folderName,n.newFullPath=n.initialPath.join("\\")+"\\"+n.mainPathArray.join(""),n.completeFolderStack[a].fullFolderPath=n.newFullPath),n.completeFolderStack[a].folderName===e.currentFolderPath.split("\\").pop()&&(n.completeFolderStack[a].folderName=e.folderName))}),n.modifiedFolders=n.completeFolderStack;else if(t.search("Move")>=0){var a=[];n.parentFolder={};e.currentFolderPath.split("\\").pop();n.completeFolderStack.forEach(function(t,r){t.fullFolderPath===e.folderPath&&(n.parentFolder={folder:t,index:r}),t.fullFolderPath.split(e.currentFolderPath).length>1&&(""===t.fullFolderPath.split(e.currentFolderPath)[t.fullFolderPath.split(e.currentFolderPath).length-1]?immediateChild={folder:t,index:r}:a.push({folder:t,index:r}))});var r=0,o=n.completeFolderStack[immediateChild.index].parentFolderId;n.completeFolderStack.forEach(function(e,t){o===e.parentFolderId&&r++}),1>=r&&n.completeFolderStack.forEach(function(e,t){return o===e.folderId?(e.hasSubFolders=!1,!1):void 0}),n.completeFolderStack[immediateChild.index].parentFolderId=n.completeFolderStack[n.parentFolder.index].folderId,n.completeFolderStack[immediateChild.index].folderLevel=n.completeFolderStack[n.parentFolder.index].folderLevel+1,n.completeFolderStack[immediateChild.index].isLeaf=!0,n.completeFolderStack[n.parentFolder.index].hasSubFolders=!0,n.completeFolderStack[immediateChild.index].fullFolderPath=n.completeFolderStack[n.parentFolder.index].fullFolderPath+"\\"+n.completeFolderStack[immediateChild.index].folderName;Object.keys(a).length>0&&(a.forEach(function(e,t){n.completeFolderStack[immediateChild.index].folderId===e.folder.parentFolderId&&(n.completeFolderStack[e.index].folderLevel=n.completeFolderStack[immediateChild.index].folderLevel+1,n.completeFolderStack[e.index].isLeaf=!0,n.completeFolderStack[e.index].fullFolderPath=n.completeFolderStack[immediateChild.index].fullFolderPath+"\\"+e.folder.folderName)}),n.completeFolderStack.forEach(function(e,t){e.hasSubFolders?a.forEach(function(a,r){return a.folder.folderId===e.parentFolderId?(n.completeFolderStack[t].folderLevel=n.completeFolderStack[a.index].folderLevel+1,n.completeFolderStack[t].fullFolderPath=n.completeFolderStack[a.index].fullFolderPath+"\\"+e.folderName,!1):void 0}):a.forEach(function(a,r){return a.folder.parentFolderId===e.folderId?(n.completeFolderStack[a.index].folderLevel=n.completeFolderStack[t].folderLevel+1,n.completeFolderStack[a.index].fullFolderPath=n.completeFolderStack[t].fullFolderPath+"\\"+a.folder.folderName,!1):void 0})})),n.modifiedFolders=n.completeFolderStack}else t.search("Find")>=0&&(n.completeFolderStack.forEach(function(t){angular.lowercase(t.folderName).split(angular.lowercase(e.folderName)).length>1&&(n.searchResult=t)}),n.findFolder.folderName="");1===n.type.split("Find").length?n.folderStackUpdated(n.modifiedFolders):n.foundElement(n.searchResult)},n.folderStackUpdated=function(e){n.tree=e},n.getAllFolderPaths=function(e){return n.foldersArray=e,n.pathArray=[],n.pathPresent=!1,angular.isUndefined(n.foldersArray)||n.foldersArray.forEach(function(e){n.pathPresent=!1,n.pathArray.forEach(function(t){t===e.fullFolderPath&&(n.pathPresent=!0)}),n.pathPresent||n.pathArray.push(e.fullFolderPath)}),n.pathArray},n.find=function(t){n.findResult=[],""===t.folderName?angular.element(".resultPane.notpborder").children().remove():(n.allFolders.forEach(function(e){angular.lowercase(e.folderName).split(angular.lowercase(t.folderName)).length>1&&n.findResult.push(e)}),n.createOptions(n.findResult),n.optionsString='<div vmf-radio-group type="1" rtitle="radioTitle" options="radioOptions" name="radioName" model="radioModel" custom-class="customclass" mandatory="true" class="radio-controls"></div>',angular.element(".resultPane.notpborder").children().remove(),angular.element(".resultPane.notpborder").append(e(n.optionsString)(n)))},n.createOptions=function(e){n.radioOptions=[],n.value=0,e.forEach(function(e){e.accessable&&(n.tempOption={},n.tempOption.text=e.folderName,n.tempOption.disabled=!1,n.tempOption.checked=!1,n.tempOption.value=n.value.toString(),n.value++,n.radioOptions.push(n.tempOption))})}},templateUrl:"/vmf/m/components/folderTree/template/folderTreeTemplate.html",controller:function(t,a,n,r,o,i){function s(){angular.element(".actionEachBox").removeAttr("style").addClass("hidden"),t.thisTree.find(".actionEach").remove(),t.thisTree.find("li.menuOpen").removeClass("menuOpen")}_this=this,t.globalVars=globalVariables,this.publishGetFolderPath=function(){t.publish("getFolderTreePaths")},this.publishGetFolderPathCreate=function(){t.publish("getFolderTreePathsCreate")},this.getUsers=function(){t.publish("getUserDetails")},this.publishEditFolderPermissions=function(){t.publish("editFolderPermissions")},this.createModal=function(e,a){t.modalData=e,t.allFolders=a,t.publish("modalObject",t.modalData),t.deleteWarning="When you confirm, the folder and all its subfolders will be deleted.Users who are associated only to the selected folders will no longer be able to access the account.",t.newFolder={},t.renewFolder={},t.move={},t.newUser={},t.parentFolderName,t.folderPath,t.deleteFolderPath,t.deleteWarningType="warning",t.htmlString="",console.log(t.modalData),t.allFolderPaths=t.getAllFolderPaths(t.allFolders)},t.foundElement=function(e){t.requiredFolder=e,t.expanders=angular.element(".folderTree").find(".expandButton").find(".custom-checkbox"),t.expanders.removeClass("selected").parent().removeClass("highlight").parent().removeClass("minus").addClass("plus"),t.expanders.eq(0).parent().parent().removeClass("plus").addClass("minus"),t.folderRoots=t.requiredFolder.fullFolderPath.split("\\"),t.folderRoots.shift(),t.lastFName=t.folderRoots[t.folderRoots.length-1],t.lastElement,t.expanderIndices=[],t.folderRoots.forEach(function(e){for(var a=0;a<t.expanders.length;a++)t.expanders.eq(a).text()===e&&t.expanders.eq(a).parent().parent().hasClass("plus")&&(t.expanders.eq(a).parent().parent().removeClass("plus").addClass("minus"),e===t.lastFName&&t.expanderIndices.push(a),t.lastElement=t.expanders.eq(a))}),angular.element(".foldertreeUl>li").removeClass("plus"),t.expanderIndices.forEach(function(e){t.expanders.eq(e).addClass("selected").parent().addClass("highlight")})},t.expander=function(e,a){e.stopPropagation(),t.thisTree.find(e.currentTarget).parent().parent().hasClass("plus")?t.thisTree.find(e.currentTarget).parent().parent().removeClass("plus").addClass("minus"):t.thisTree.find(e.currentTarget).parent().parent().hasClass("minus")&&t.thisTree.find(e.currentTarget).parent().parent().removeClass("minus").addClass("plus")},t.getPermissionFpList=[],t.subscribe("setEnableMainOptions",function(e){"enabled"==e?t.mainOptionsEnable=!0:t.mainOptionsEnable=!1}),t.checkManagePerms=function(e){var a=t.thisTree.find("li.selected").length,n="",r="";1==a&&(n=t.thisTree.find("li.selected").attr("ftType"),r=t.thisTree.find("li.selected").attr("ftPerm"));var o=t.thisTree.find("li").length;t.setMainOptions(a,t.mainOptionsEnable,n,r,o)},t.setMainOptions=function(e,a,n,r,o){t.mainOptions=[{text:t.globalVars.folderOps.invite,disabled:!0,id:"inviteNewUserMain"},{text:t.globalVars.folderOps.share,disabled:!0,id:"shareFolderMain"},{text:t.globalVars.folderOps.create,disabled:!0,id:"createFolderMain"},{text:t.globalVars.folderOps.del,id:"deleteFolderMain",disabled:!1},{text:t.globalVars.folderOps.rename,id:"renameFolderMain",disabled:!1},{text:t.globalVars.folderOps.move,id:"moveFolderMain",disabled:!1},{text:t.globalVars.folderOps.find,id:"findFolderMain",disabled:!1},{text:t.globalVars.folderOps.exportCsv,id:"exportToCsvMain",disabled:!1}],angular.forEach(t.mainOptions,function(t,s){1==a&&0==e?"createFolderMain"==t.id||"inviteNewUserMain"==t.id||"shareFolderMain"==t.id?t.disabledClass="enabled":t.disabledClass="disabled":1==e?"MANAGE"==r?("ROOT"==n?(t.disabledClass="disabled","viewLicense"==i.tableType&&("createFolderMain"!=t.id&&"exportToCsvMain"!=t.id||(t.disabledClass="enabled"))):"ASP"==n||"CPL"==n||"VCE"==n?(t.disabledClass="disabled","renameFolderMain"!=t.id&&"inviteNewUserMain"!=t.id&&"shareFolderMain"!=t.id||(t.disabledClass="enabled"),"viewLicense"==i.tableType&&"exportToCsvMain"==t.id&&(t.disabledClass="enabled")):(t.disabledClass="enabled","viewLicense"==i.tableType&&"exportToCsvMain"==t.id&&(t.disabledClass="enabled")),"inviteNewUserMain"!=t.id&&"shareFolderMain"!=t.id||(t.disabledClass="enabled")):t.disabledClass="disabled":0==a&&(t.disabledClass="disabled"),(o>=1||1==a)&&"findFolderMain"==t.id&&(t.disabledClass="enabled"),"viewLicense"==i.tableType&&a===!0&&0!==e&&"exportToCsvMain"==t.id&&(t.disabledClass="enabled")})},t.openMainOptions=function(a){t.publish("closeAllDropdowns",a),t.publish("closeAllFilters"),a.preventDefault(),t.checkManagePerms(a),t.thisTree.find(".actionAllBox").hasClass("optionsOpen")?(void 0!=a&&angular.element(a.target).parent().find(".ftAjaxLoader").addClass("hidden"),t.thisTree.find(".actionAllBox").removeClass("optionsOpen"),t.thisTree.find(".actionAllBox").find(".innerWrapper").children().remove()):(t.mainOptionsString='<ul><li ng-repeat="mainOption in mainOptions" ng-class="{first:$first,last:$last,mainLink:$last}"><a href="javascript:void(0)" class="{{mainOption.disabledClass}}" id="{{mainOption.id}}" ng-click="mainOptionsAction($event,this)">{{mainOption.text}}</a></li></ul>',t.thisTree.find(".actionAllBox").find(".innerWrapper").children().remove(),n(function(){t.thisTree.find(".actionAllBox").find(".innerWrapper").append(e(t.mainOptionsString)(t))}),n(function(){t.thisTree.find(".actionAllBox").addClass("optionsOpen"),t.thisTree.find(".actionEach").parent().removeClass("highlight"),angular.element(".actionEachBox").remove(),t.thisTree.find(".actionEach").remove()})),a.stopPropagation()},t.mainOptionsAction=function(e,a){if("exportToCsvMain"===a.mainOption.id)t.publish("sendExportToCsvAPI",{selectedFolders:i.selectedFolder,reportFor:"licenseKeysFromContextMenu"}),e.stopPropagation();else if("Expand All Folders"===a.mainOption.text)t.thisTree.find(".expandButton").removeClass("plus").addClass("minus");else{if("disabled"===a.mainOption.disabledClass)return!1;t.selectedFolders=t.thisTree.find(".selected"),t.selectedFolderNames=[],t.required={operationScope:{},folders:[]},t.required.folders=[];for(var n=0;n<t.selectedFolders.length;n++){t.selectedFolderNames.push(t.selectedFolders.eq(n).text());var r=t.selectedFolders.eq(n),s=r.attr("id"),l=r.attr("ftlevel"),d=r.attr("ftpath"),c=r.attr("ftname"),f={folderId:s,folderName:c,fullFolderPath:d,folderLevel:l};t.required.folders.push(f)}t.required.operationScope=a.mainOption,"findFolderMain"==t.required.operationScope.id&&(t.modalInstance=o.showModal({templateUrl:"/vmf/m/components/folderTree/template/findFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(t.required,t.completeFolderStack)}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : find-folder")),"shareFolderMain"==t.required.operationScope.id&&(t.modalInstance=o.showModal({templateUrl:"/vmf/m/components/folderTree/template/shareFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(t.required,t.completeFolderStack),_this.getUsers()}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : share-folder")),"inviteNewUserMain"==t.required.operationScope.id&&(t.modalInstance=o.showModal({templateUrl:"/vmf/m/components/folderTree/template/inviteUser.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(t.required,t.completeFolderStack)}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : invite-new-user")),"createFolderMain"==t.required.operationScope.id&&(t.modalInst=o.showModal({templateUrl:"/vmf/m/components/folderTree/template/createFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(t.required,t.completeFolderStack),_this.publishGetFolderPathCreate()})),"deleteFolderMain"==t.required.operationScope.id&&(t.modalInst=o.showModal({templateUrl:"/vmf/m/components/folderTree/template/deleteFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(t.required,t.completeFolderStack)}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : delete-folder")),"moveFolderMain"==t.required.operationScope.id&&(t.modalInst=o.showModal({templateUrl:"/vmf/m/components/folderTree/template/moveFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(t.required,t.completeFolderStack),_this.publishGetFolderPath()}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : move-folder")),"renameFolderMain"==t.required.operationScope.id&&(t.modalInst=o.showModal({templateUrl:"/vmf/m/components/folderTree/template/renameFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(t.required,t.completeFolderStack)}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : rename-folder"))}t.thisTree.find(".actionAllBox").removeClass("optionsOpen")},r.on("click.actionsDropdown",function(e){return $(e.target).is("label")?!1:(angular.forEach(angular.element(".folderSelector"),function(e,t){angular.element(angular.element(".folderSelector")[t]).hasClass("selected")||angular.element(angular.element(".folderSelector")[t]).parent().removeClass("highlight")}),$(e.target).parents(".foldertreeUl").length||s(),void angular.element(".actionAllBox").removeClass("optionsOpen"))})}}}]),folderTreeApp.service("folderDataService",[function(){this.allFolders=[]}]),folderTreeApp.controller("folderTreeController",["$scope","$sce","$http","$timeout","$element","close","globalData","$compile","$filter",function(e,t,a,n,r,o,i,s,l){function d(){e.ajaxLoader=!1,e.editPermCopy={},angular.forEach(e.getFolderPermissions.permissionPaneContents,function(e,t){e.isLoggedInUserCanEdit&&e.isSet?e.checked=!0:e.checked=!1,e.disabled=!1}),angular.copy(e.getFolderPermissions,e.editPermCopy),e.addPermTooltips(),e.hideAdmin=!0;for(var t=0;t<e.modalData.folders.length;t++)2===e.modalData.folders[t].folderLevel&&(e.hideAdmin=!1)}e.globalVars=globalVariables,e.txtFindFolderSearch="",e.localObj={},e.folderContent=[],e.currSelectedFolderInviteShare={},e.globalVars.enterRequiredInfoDesc=angular.element("<div />").html(e.globalVars.enterRequiredInfo).text(),e.editAccessPermissionsMsg=angular.element("<div />").html(e.globalVars.editAccessPermissions).text(),e.to_trusted=function(e){return t.trustAsHtml(e)},e.subscribe("modalObject",function(t){e.modalData=t,"inviteNewUserInner"!=e.modalData.operationScope.id&&"shareFolderInner"!=e.modalData.operationScope.id&&"inviteNewUserMain"!=e.modalData.operationScope.id&&"shareFolderMain"!=e.modalData.operationScope.id||(e.inviteShareInit=!0,e.enteredStep2=!1,e.currSelectedFolderInviteShare=e.modalData.folders[0])}),e.renderHTML=function(e){var a=angular.element("<textarea />").html(e).text();return t.trustAsHtml(a)},e.subscribe("editFolderPermissions",function(){e.getPermissionsEdit()}),e.resetEditPermissions=function(){e.editPermissionStep1=!1,e.editPermissionStep2=!1,e.selectPermWarningEdit=!1},e.goToEditPermStep2=function(){e.resetEditPermissions(),e.editPermissionStep2=!0,e.getPermUserList()},e.getPermUserList=function(){e.getPermissionUserErrorMsg="",e.ajaxLoader=!0,e.getApprovalList={};var t=[],n=[];if(angular.forEach(e.getFolderPermissions.permissionPaneContents,function(e,a){e.isLoggedInUserCanEdit||e.isSet||1==e.checked&&t.push(e.permissionCode)}),1==e.localObj.adminCheckPerm)var r="Y";else var r="N";var o={slectedFolderReqIdHide:e.modalData.folders[0].folderId,selectedReqPermissionIds:t.join(","),unselectedReqPermissionIds:n.join(","),selectedReqCustomerId:i.loggedUserInfo.customerNumber,adminReqRoleSelected:r,txtareaRequestNote:e.getPermissionNote},s=$.param(o);a({method:"POST",url:globalVariables.getPermUserListUrl,data:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){null==t||void 0==t||""==t?e.getPermissionUserErrorMsg=globalVariables.emptyDataMessage:1==t.error?e.getPermissionUserErrorMsg=t.message:e.getApprovalList=t.approverList,e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.getPermissionUserErrorMsg=globalVariables.emptyDataMessage})},e.reqPermSubmit=function(){e.submitPermissionErrorMsg="",e.ajaxLoader=!0;var t=[],n=[];if(angular.forEach(e.getFolderPermissions.permissionPaneContents,function(e,a){e.isLoggedInUserCanEdit||e.isSet||1==e.checked&&t.push(e.permissionCode)}),1==e.localObj.adminCheckPerm)var r="Y";else var r="N";var o={slectedFolderReqIdHide:e.modalData.folders[0].folderId,selectedReqPermissionIds:t.join(","),unselectedReqPermissionIds:n.join(","),selectedReqCustomerId:i.loggedUserInfo.customerNumber,adminReqRoleSelected:r,txtareaRequestNote:e.getPermissionNote},s=$.param(o);a({method:"POST",url:globalVariables.requestedPermissionUrl,data:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){null==t||void 0==t||""==t?e.closeModal():1==t.error?e.submitPermissionErrorMsg=t.message:e.closeModal(),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.submitPermissionErrorMsg=globalVariables.emptyDataMessage})},e.goToEditPermStep1=function(){e.resetEditPermissions(),e.editPermissionStep1=!0},e.getPermissionsEdit=function(){e.localObj.adminCheckPerm=!1,e.resetEditPermissions(),e.editPermissionStep1=!0,e.getPermissionErrorMsg="",e.getPermissionNote="",e.ajaxLoader=!0;var t={selectedFolderId:e.modalData.folders[0].folderId,selectedCustomerNumber:i.loggedUserInfo.customerNumber},n=$.param(t);a({method:"POST",url:globalVariables.getPermissionsEditUrl,data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){if(null==t||void 0==t||""==t)e.getPermissionErrorMsg=globalVariables.emptyDataMessage;else if(1==t.error)e.getPermissionErrorMsg=t.message;else{e.ajaxLoader=!1,e.getFolderPermissions=t,0===t.permissionPaneContents.length&&(e.getFolderPermissions={managePermission:null,folderAccess:null,permissionPaneCacheTimestamp:null,permissionPaneContents:[{level:0,category:"GLOBAL",permissionCode:"PERMISSION09",sortOrder:10,permissionName:globalVariables.manageRolesLbl,isSet:!1,isInherited:!1,isLoggedInUserCanEdit:!1},{level:0,category:"GLOBAL",permissionCode:"PERMISSION08",sortOrder:20,permissionName:globalVariables.viewSupportLbl,isSet:!1,isInherited:!1,isLoggedInUserCanEdit:!1},{level:0,category:"GLOBAL",permissionCode:"PERMISSION07",sortOrder:30,permissionName:globalVariables.viewOrdersLbl,isSet:!1,isInherited:!1,isLoggedInUserCanEdit:!1},{level:0,category:"FOLDER",permissionCode:"PERMISSION01",sortOrder:40,permissionName:globalVariables.viewLicenseLbl,isSet:!1,isInherited:!1,isLoggedInUserCanEdit:!1},{level:1,category:"FOLDER",permissionCode:"PERMISSION02",sortOrder:50,permissionName:globalVariables.manageFoldersLbl,isSet:!1,isInherited:!1,isLoggedInUserCanEdit:!1},{level:1,category:"FOLDER",permissionCode:"PERMISSION03",sortOrder:60,permissionName:globalVariables.devideCombineLbl,isSet:!1,isInherited:!1,isLoggedInUserCanEdit:!1},{level:1,category:"FOLDER",permissionCode:"PERMISSION04",sortOrder:70,permissionName:globalVariables.upgradeDowngradeLbl,isSet:!1,isInherited:!1,isLoggedInUserCanEdit:!1},{level:0,category:"FOLDER",permissionCode:"PERMISSION05",
sortOrder:80,permissionName:globalVariables.fileTechnicalLbl,isSet:!1,isInherited:!1,isLoggedInUserCanEdit:!1},{level:0,category:"FOLDER",permissionCode:"PERMISSION06",sortOrder:90,permissionName:globalVariables.downloadProductsLbl,isSet:!0,isInherited:!1,isLoggedInUserCanEdit:!1}],isFolderAdmin:!1,manageRolesPermission:!1}),e.editPermCopy={},angular.forEach(e.getFolderPermissions.permissionPaneContents,function(e,t){e.checked=!1,e.disabled=!1}),angular.copy(e.getFolderPermissions,e.editPermCopy),e.addPermTooltips(),e.hideAdmin=!0;for(var o=0;o<e.modalData.folders.length;o++)2===e.modalData.folders[o].folderLevel&&(e.hideAdmin=!1)}}).error(function(t,a,n,r){e.ajaxLoader=!1,e.getPermissionErrorMsg=globalVariables.emptyDataMessage})},e.addPermTooltips=function(){n(function(){r.find(".requestPermissionsWrap").find("span.icon_lock_grey").addClass("vmf-tooltip").attr("data-toggle","tooltip").tooltip({container:"body",placement:"right"})},500)},e.popUpFolderRoot={value:"1",text:"License Folders",showHeader:!1,disabled:!1,showFolderOptions:!1,instanceId:"shareFolderFT",checked:!0},e.getFolderTree=function(t){if(e.ftAjaxLoader=!0,e.ftErrorMsg="",e.emptyTree=!1,e.getFolderUrl=globalVariables.folderTreeGetUrl,"shareFolderFT"==t)var n={selectedUserCustomerNumber:"order",folderView:"addUserToFolder"},r=$.param(n);else var r="";a({method:"POST",url:e.getFolderUrl,data:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a,n,r,o){1==a.error?e.ftErrorMsg=a.message:null==a||""==a||void 0==a?e.ftErrorMsg=globalVariables.emptyDataMessage:(e.emptyTree=a.emptyTree,e.folderContent=a.folderContents,e.currEaAccount=a.eaNumber),e.ftAjaxLoader=!1,e.publish("folderTreeChange",{folderData:a.folderContents,instanceId:t})}).error(function(t,a,n,r){e.ftAjaxLoader=!1,e.ftErrorMsg=globalVariables.commonAjaxErrorMessage})},e.selectedUsersData=[],e.folderContent=[],e.getFolderPermissions=[],e.getSelectedFolders=[],e.subscribe("getUserDetails",function(){e.getUserDetails()}),e.resetSteps=function(){e.shareFolderStepOne=!1,e.shareFolderStepTwo=!1,e.shareFolderStepThree=!1,e.shareFolderStepFour=!1,e.selectPermWarning=!1},e.resetSteps(),e.shareFolderStepOne=!0,e.hideAdmin=!0,e.shareFoldersStep1=function(){e.resetSteps(),e.shareFolderStepOne=!0},e.shareFoldersStep4=function(t){e.resetSteps(),e.shareFolderStepFour=!0,e.userAddedData={},e.ajaxLoader=!0,e.shareFolderErrorMsg="";var n=[],r=[],o=[],i=[];if("invite"==t){angular.copy(e.inviteUserArr,i),angular.forEach(e.inviteUserArr,function(e,t){n[t]=e.email,r[t]=e.fName,o[t]=e.lName});var s={emailList:n.join(","),firstNameList:r.join(","),lastNameList:o.join(",")}}if("share"==t){angular.copy(e.getUsersData,i),angular.forEach(e.getUsersData,function(e,t){1==e.checked&&(n[t]=e.email,r[t]=e.firstName,o[t]=e.lastName)});var s={emailList:n.join(","),firstNameList:r.join(","),lastNameList:o.join(",")}}var l=$.param(s);a({method:"POST",url:globalVariables.processUserList,data:l,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a,n,r,o){1==a.error?e.shareFolderErrorMsg=a.message:""==a||null==a||void 0==a?e.shareFolderErrorMsg=globalVariables.emptyDataMessage:(e.userAddedData=a,angular.forEach(e.userAddedData.invitedUserList,function(e,a){angular.forEach(i,function(a,n){a.email==e.email&&("invite"==t?(e.firstName=a.fName,e.lastName=a.lName):(e.firstName=a.firstName,e.lastName=a.lastName))})})),e.ajaxLoader=!1,"shareFolderInner"==e.modalData.operationScope.id||"shareFolderMain"==e.modalData.operationScope.id?"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : share-folder-confirmation"):"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : invite-user-confirmation")}).error(function(t,a,n,r){e.ajaxLoader=!1,e.shareFolderErrorMsg=globalVariables.commonAjaxErrorMessage})},e.isSelectedFldrChkd=function(){return $('.productsContainerBody .foldertreeUl input[type="checkbox"]:checked').length>=1},e.shareFoldersStep3=function(t){(e.isSelectedFldrChkd()||1==e.inviteShareInit)&&(r.find(".infoIcon").popover({trigger:"manual",html:!0,animation:!1,content:function(){return e.admin_tooltipedited=e.globalVars.administratorRoleTooltip,e.admin_tooltipedited=e.admin_tooltipedited.replace("<a","<a href='http://kb.vmware.com/kb/2035526?plainview=true' target='_blank'"),e.admin_tooltipedited}}).on("mouseenter",function(){var e=this;$(this).popover("show"),$(".popover").on("mouseleave",function(){$(e).popover("hide")})}).on("mouseleave",function(){var e=this;setTimeout(function(){$(".popover:hover").length||$(e).popover("hide")},300)}),e.resetSteps(),e.shareFolderStepThree=!0,e.getSelectedFolderDetails(),e.getPermissions(),"shareFolderInner"==e.modalData.operationScope.id||"shareFolderMain"==e.modalData.operationScope.id?"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : share-folder-select-permissions"):"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : invite-user-select-permissions"))},e.permissionChange=function(t){n(function(){"PERMISSION07"==t.permissionCode&&1==t.checked&&(e.resetSteps(),e.selectPermWarning=!0),1==t.checked&&("PERMISSION02"!=t.permissionCode&&"PERMISSION03"!=t.permissionCode&&"PERMISSION04"!=t.permissionCode||angular.forEach(e.getFolderPermissions,function(e,t){"PERMISSION01"==e.permissionCode&&(e.checked=!0)})),"PERMISSION01"==t.permissionCode&&angular.forEach(e.getFolderPermissions,function(e,a){"PERMISSION02"!=e.permissionCode&&"PERMISSION03"!=e.permissionCode&&"PERMISSION04"!=e.permissionCode||1==e.checked&&(t.checked=!0)})})},e.permissionChangeEdit=function(t){n(function(){"PERMISSION07"==t.permissionCode&&1==t.checked&&(e.resetEditPermissions(),e.selectPermWarningEdit=!0),1==t.checked&&("PERMISSION02"!=t.permissionCode&&"PERMISSION03"!=t.permissionCode&&"PERMISSION04"!=t.permissionCode||angular.forEach(e.getFolderPermissions,function(e,t){"PERMISSION01"==e.permissionCode&&(e.checked=!0)})),"PERMISSION01"==t.permissionCode&&angular.forEach(e.getFolderPermissions,function(e,a){"PERMISSION02"!=e.permissionCode&&"PERMISSION03"!=e.permissionCode&&"PERMISSION04"!=e.permissionCode||1==e.checked&&(t.checked=!0)})}),n(function(){e.checkEditPermInputChange()},500)},e.permissionChangeOk=function(){e.resetSteps(),e.resetEditPermissions(),e.shareFolderStepThree=!0,e.editPermissionStep1=!0},e.confirmFolderShare=function(){e.shareFolderErrorMsg="",e.ajaxLoader=!0;var t=[],n=[];angular.forEach(e.getSelectedFolders,function(e,a){""!=e.folderId&&t.push(e.folderId)}),angular.forEach(e.getFolderPermissions,function(e,t){1==e.checked&&n.push(e.permissionCode)}),1==e.localObj.adminCheck&&n.push("ADMIN_PERM");var r={totselectedUsersFolderIds:t.join(","),SelectedPermissions:n.join(",")},o=$.param(r);a({method:"POST",url:globalVariables.addUsersInEAToFolders,data:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){1==t.error?e.shareFolderErrorMsg=t.message:e.closeModal(),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.shareFolderErrorMsg=globalVariables.permsNotAvailableError})},e.getSelectedFolderDetails=function(){e.getSelectedFolders=[],e.sltFolderLevels=[],1==e.enteredStep2?angular.forEach(angular.element(".productsContainerBody input[type=checkbox]:checked"),function(t,a){var n=angular.element(t).parents("li:eq(0)"),r={folderId:n.attr("id"),folderName:n.attr("ftName"),folderLevel:n.attr("ftLevel"),fullFolderPath:n.attr("ftPath")};e.getSelectedFolders.push(r),e.sltFolderLevels.push(parseInt(r.folderLevel))}):(e.getSelectedFolders.push(e.currSelectedFolderInviteShare),e.sltFolderLevels.push(parseInt(e.currSelectedFolderInviteShare.folderLevel)))},e.changeAdminFn=function(){n(function(){e.localObj.adminCheck?angular.forEach(e.getFolderPermissions,function(e,t){"PERMISSION06"!==e.permissionCode&&"PERMISSION07"!==e.permissionCode&&(e.checked=!0,e.disabled=!0)}):angular.forEach(e.getFolderPermissions,function(e,t){"PERMISSION06"!==e.permissionCode&&"PERMISSION07"!==e.permissionCode&&(e.checked=!1,e.disabled=!1)})},300)},e.changeAdminFnEdit=function(){n(function(){e.localObj.adminCheckPerm?angular.forEach(e.getFolderPermissions.permissionPaneContents,function(e,t){"PERMISSION06"!==e.permissionCode&&"PERMISSION07"!==e.permissionCode&&(e.checked=!0,e.disabled=!0)}):e.getFolderPermissions.isFolderAdmin?angular.forEach(e.getFolderPermissions.permissionPaneContents,function(e,t){"PERMISSION06"!==e.permissionCode&&"PERMISSION07"!==e.permissionCode&&(e.checked=!1,e.disabled=!1)}):d(),n(function(){e.checkEditPermInputChange()},500)},200)},e.checkEditPermInputChange=function(){e.permEditDataChanged=!1,angular.forEach(e.getFolderPermissions.permissionPaneContents,function(t,a){angular.forEach(e.editPermCopy.permissionPaneContents,function(a,n){return t.permissionCode==a.permissionCode&&void 0!==t.checked&&t.checked!==a.checked?void(e.permEditDataChanged=!0):void 0})})},e.setPermissionLayout=function(){e.localObj.adminCheck=!1,-1===e.sltFolderLevels.indexOf(2)?e.hideAdmin=!0:e.hideAdmin=!1;var t=!0;-1===e.sltFolderLevels.indexOf(1)&&-1===e.sltFolderLevels.indexOf(2)||(t=!1),angular.forEach(e.getFolderPermissions,function(e,a){e.checked=!1,!t||"PERMISSION09"!==e.permission&&"PERMISSION08"!==e.permission&&"PERMISSION07"!==e.permission||(e.disabled=!0),"PERMISSION06"===e.permission&&(e.disabled=!0,e.checked=!0)}),n(function(){r.find(".selectPermissionsDatatable").find("span.icon_lock_grey").addClass("vmf-tooltip").attr("data-toggle","tooltip").tooltip({container:"body",placement:"right"})},500)},e.getPermissions=function(){e.shareFolderErrorMsg="",e.ajaxLoader=!0,e.hideAdmin=!0,a({method:"POST",url:globalVariables.getPermissionsUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){1==t.error?e.shareFolderErrorMsg=t.message:null==t||void 0==t||""==t?e.shareFolderErrorMsg=globalVariables.emptyDataMessage:(e.getFolderPermissions=t,angular.forEach(e.getFolderPermissions,function(e,t){"PERMISSION06"==e.permission?(e.checked=!0,e.disabled=!0):(e.checked=!1,e.disabled=!1)}),e.setPermissionLayout()),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.shareFolderErrorMsg=globalVariables.permsNotAvailableError})},e.shareFoldersStep2=function(t){e.resetSteps(),e.shareFolderStepTwo=!0,e.folderSelFlag=!1,e.enteredStep2=!0,void 0==e.inviteShareInit&&(e.inviteShareInit=!0),0==e.folderContent.length&&e.getFolderTree("shareFolderFT");var a;"shareFolderInner"==e.modalData.operationScope.id||"shareFolderMain"==e.modalData.operationScope.id?a=angular.element("#shareFolderFt"):"inviteNewUserInner"!=e.modalData.operationScope.id&&"inviteNewUserMain"!=e.modalData.operationScope.id||(a=angular.element("#inviteUserFt")),"inviteNewUserMain"!=e.modalData.operationScope.id&&"shareFolderMain"!=e.modalData.operationScope.id||(e.inviteShareInit=!1),"shareFolderInner"==e.modalData.operationScope.id||"shareFolderMain"==e.modalData.operationScope.id?"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : share-folder-select-folders"):"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : invite-user-select-folders"),a.find('input[type="checkbox"]:checked').length>=1&&(e.folderSelFlag=!0)},e.subscribe("folderTreeChange",function(){n(function(){var t;"shareFolderInner"==e.modalData.operationScope.id||"shareFolderMain"==e.modalData.operationScope.id?t=angular.element("#shareFolderFt"):"inviteNewUserInner"!=e.modalData.operationScope.id&&"inviteNewUserMain"!=e.modalData.operationScope.id||(t=angular.element("#inviteUserFt")),1==e.inviteShareInit&&(t.find("#"+e.modalData.folders[0].folderId).find("input[type=checkbox]").prop("checked",!0),e.folderSelFlag=!0,e.inviteShareInit=!1),t.on("change",'input[type="checkbox"]',function(){$(this).parents(".foldertreeUl").find('input[type="checkbox"]:checked').length>=1?e.$apply(function(){e.folderSelFlag=!0}):e.$apply(function(){e.folderSelFlag=!1}),c=!0})},500)});var c=!1;e.inviteUserStep1Continue=function(){var t;c?e.shareFoldersStep2():(t=$('#inviteUserFt input[type="checkbox"]:checked').length,(1==e.inviteShareInit||t>=1)&&"inviteNewUserInner"==e.modalData.operationScope.id?e.shareFoldersStep3():e.shareFoldersStep2())},e.inviteUserStep3Back=function(){var t=$('#inviteUserFt input[type="checkbox"]:checked').length;(1==e.inviteShareInit||t>=1)&&"inviteNewUserInner"==e.modalData.operationScope.id?e.shareFoldersStep1():e.shareFoldersStep2("step3")},e.shareFolderStep1Continue=function(){var t=$('#shareFolderFt input[type="checkbox"]:checked').length;(1==e.inviteShareInit||t>=1)&&"shareFolderInner"==e.modalData.operationScope.id?e.shareFoldersStep3():e.shareFoldersStep2()},e.shareFolderStep3Back=function(){var t=$('#shareFolderFt input[type="checkbox"]:checked').length;(1==e.inviteShareInit||t>=1)&&"shareFolderInner"==e.modalData.operationScope.id?e.shareFoldersStep1():e.shareFoldersStep2("step3")},e.getUserDetails=function(){e.shareFolderErrorMsg="",e.ajaxLoader=!0,a({method:"POST",url:globalVariables.getUsersUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){1==t.error?e.shareFolderErrorMsg=t.message:null==t||void 0==t||""==t?e.shareFolderErrorMsg=globalVariables.emptyDataMessage:(e.getUsersData=t.userPaneContents,angular.forEach(e.getUsersData,function(e,t){e.checked=!1,e.selected=!1})),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.shareFolderErrorMsg=globalVariables.commonAjaxErrorMessage})},e.localObj.txtEmail="",e.localObj.txtFName="",e.localObj.txtLName="",e.localObj.filterTextInput="",e.emailValid=!0,e.inviteUserArr=[],e.dupEmailValid=!0,e.InviteUsersAdd=function(){0!==e.localObj.txtEmail.length&&(/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e.localObj.txtEmail)?e.emailValid=!0:e.emailValid=!1),e.dupEmailValid=!0,angular.forEach(e.inviteUserArr,function(t,a){return e.localObj.txtEmail==t.email?(e.dupEmailValid=!1,!1):void 0}),n(function(){1==e.dupEmailValid&&1==e.emailValid&&e.addIviteUserToArr()},400)},e.addIviteUserToArr=function(){var t={fName:e.localObj.txtFName,lName:e.localObj.txtLName,email:e.localObj.txtEmail};e.inviteUserArr.push(t),e.localObj.txtEmail="",e.localObj.txtFName="",e.localObj.txtLName=""},e.removeInviteUser=function(t){var a=e.inviteUserArr.indexOf(t);e.inviteUserArr.splice(a,1)},e.AddUser=function(){angular.forEach(e.getUsersData,function(e,t){1==e.selected&&0==e.checked&&(e.checked=!0),e.selected=!1}),e.localObj.selectAll=!1,e.checkUsersShare()},e.removeUser=function(){angular.forEach(e.getUsersData,function(e,t){1==e.selected&&1==e.checked&&(e.checked=!1),e.selected=!1}),e.checkUsersShare()},e.filterAllUsers=function(e){return 0==e.checked},e.shareFldrAddBtnDisabled=!0,e.shareFldrRemoveBtnDisabled=!0,e.checkUsersShare=function(){n(function(){var t=0,a=0,n=0;angular.forEach(e.getUsersData,function(e,r){1==e.selected&&0==e.checked&&t++,1==e.checked&&a++,1==e.checked&&1==e.selected&&n++}),t>=1?e.shareFldrAddBtnDisabled=!1:e.shareFldrAddBtnDisabled=!0,n>=1?e.shareFldrRemoveBtnDisabled=!1:e.shareFldrRemoveBtnDisabled=!0},200)},e.filterSelectedUsers=function(e){return 1==e.checked},e.filterUser=function(){e.localObj.filterText=e.localObj.filterTextInput},e.keyPress=function(t){13==t&&e.filterUser()},e.checkSltAll=function(){e.filteredResults=l("filter")(e.getUsersData,e.localObj.filterText),angular.forEach(e.getUsersData,function(t,a){angular.forEach(e.filteredResults,function(a,n){a.email==t.email&&(1==e.localObj.selectAll&&t.checked!==!0?t.selected=!0:t.selected=!1)})}),e.checkUsersShare()},e.subscribe("getFolderTreePaths",function(t){e.getFolderPaths()}),e.subscribe("getFolderTreePathsCreate",function(t){e.getFolderPathsCreate()}),e.changeRadio=function(t){e.findFolderGetSltRadio=t.fullFolderPath,e.selectedFolderObj=t},e.ftFindFolder=function(t){var a={folderObj:e.selectedFolderObj,ftInstanceId:t};e.publish("findFolderEvt",a),e.closeModal()},e.findFolderSearch=function(){e.findFolderErrorMsg="",e.ajaxLoader=!0,e.txtFolderName="",e.findFolderGetSltRadio,e.findFolderGetSltRadio=null,e.findFolderData=null;var t={folderName:e.txtFindFolderSearch},n=$.param(t);a({method:"POST",url:globalVariables.findFolderSearchUrl,data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){""==t||null===t||void 0===t?(e.findFolderErrorMsg=globalVariables.findFolderEmptyMessage,"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : find-folder : no-results")):t.error===!0?e.findFolderErrorMsg=t.message:null==t.findFolderWithPathList?(e.findFolderErrorMsg=globalVariables.findFolderEmptyMessage,"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : find-folder : no-results")):e.findFolderData=t.findFolderWithPathList,e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.findFolderErrorMsg=globalVariables.commonAjaxErrorMessage})},e.getFolderPathsCreate=function(){e.createFolderErrorMsg="",e.ajaxLoader=!0,e.txtFolderName="",e.folderPathsUrl=globalVariables.folderPathsUrl,a({method:"POST",url:e.folderPathsUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,o){e.createfldrPathsData=t.folderPathList,angular.forEach(e.createfldrPathsData,function(t,a){e.createfldrPathsData[a].value=e.createfldrPathsData[a].folderId,e.createfldrPathsData[a].text=e.createfldrPathsData[a].fullFolderPath});var i="";e.modalData.folders.length>=1&&angular.forEach(e.createfldrPathsData,function(t,a){t.fullFolderPath==e.modalData.folders[0].fullFolderPath&&(e.createfldrPathsOption=e.createfldrPathsData[a],i=a)}),r.find(".folderPathsDropdown").append(s('<div vmf-select-list dtitle="" list="createfldrPathsData" model="createfldrPathsOption" sortby="false" showtitle="true" pre-select-ind="'+i+'"></div>')(e)),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.createFolderErrorMsg=globalVariables.commonAjaxErrorMessage}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : create-folder")},e.moveFolderParentId="",e.getFolderPaths=function(){e.moveFolderErrorMsg="",e.moveFolderstep1=!0,e.moveFolderstep2=!1,e.ajaxLoader=!0,e.folderPathsOption=null,e.folderPathsUrl=globalVariables.folderPathsUrl;var t=e.modalData.folders[0].folderId;e.moveFolderParentId=$("#"+t).parents("li:eq(0)").attr("id"),a({method:"POST",url:e.folderPathsUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,o){e.folderPathsData=t.folderPathList,e.finalFolderPathsData=[],angular.forEach(e.folderPathsData,function(t,a){e.folderPathsData[a].value=e.folderPathsData[a].folderId,e.folderPathsData[a].text=e.folderPathsData[a].fullFolderPath,e.folderPathsData[a].fullFolderPath!==e.modalData.folders[0].fullFolderPath&&e.folderPathsData[a].folderId!==e.moveFolderParentId&&-1==e.folderPathsData[a].fullFolderPath.indexOf(e.modalData.folders[0].fullFolderPath)&&e.finalFolderPathsData.push(e.folderPathsData[a])}),r.find(".folderPathsDropdown").append(s('<div vmf-select-list dtitle="" list="finalFolderPathsData" model="folderPathsOption" sortby="false" showtitle="true"></div>')(e)),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.moveFolderErrorMsg=globalVariables.commonAjaxErrorMessage})},e.filterMoveFldrPaths=function(t){return t.fullFolderPath!==e.modalData.folders[0].fullFolderPath&&t.folderId!==e.moveFolderParentId&&-1==t.fullFolderPath.indexOf(e.modalData.folders[0].fullFolderPath)},e.moveFolderContinue=function(){e.moveFolderstep1=!1,e.moveFolderstep2=!0,angular.forEach(e.finalFolderPathsData,function(t,a){e.finalFolderPathsData[a].folderId===e.folderPathsOption&&(e.targetFullFolderPath=e.finalFolderPathsData[a].fullFolderPath)}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : move-folder : step-2")},e.moveFolderGoBack=function(){e.moveFolderstep1=!0,e.moveFolderstep2=!1,e.folderPathsOption=null,e.targetFullFolderPath=null},e.createFolderConfirm=function(){e.createFolderErrorMsg="",e.createFolderConfirmUrl=globalVariables.createFolderConfirmUrl,e.ajaxLoader=!0,e.createFolderConfirmPostData={selectedFolderId:e.createfldrPathsOption,newFolderName:e.txtFolderName};var t=$.param(e.createFolderConfirmPostData);a({method:"POST",url:e.createFolderConfirmUrl,data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){null!==t&&t.error===!0?e.createFolderErrorMsg=e.moveFolderErrorMsg=angular.element("<span />").html(t.message).text().replace(/\\/gi,""):(e.publish("refreshFolderTree",{fromAction:"moveFolder"}),e.closeModal()),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.createFolderErrorMsg=globalVariables.commonAjaxErrorMessage})},e.renameFolderConfirm=function(){e.renameFolderErrorMsg="",e.renameFolderConfirmUrl=globalVariables.renameFolderConfirmUrl,e.ajaxLoader=!0;var t={selectedFolderId:e.modalData.folders[0].folderId,newFolderName:e.renameTxtFolderName},n=$.param(t);a({method:"POST",url:e.renameFolderConfirmUrl,data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){null!==t&&t.error===!0?e.renameFolderErrorMsg=angular.element("<span />").html(t.message).text().replace(/\\/gi,""):(e.publish("refreshFolderTree",{fromAction:"moveFolder"}),e.closeModal()),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.renameFolderErrorMsg=globalVariables.commonAjaxErrorMessage})},e.moveFolderConfirm=function(){e.moveFolderErrorMsg="",e.moveFolderConfirmUrl=globalVariables.moveFolderConfirmUrl,e.ajaxLoader=!0;var t={selectedFolderId:e.modalData.folders[0].folderId,targetFullFolderPath:e.targetFullFolderPath},n=$.param(t);a({method:"POST",url:e.moveFolderConfirmUrl,data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){null!==t&&t.error===!0?e.moveFolderErrorMsg=e.moveFolderErrorMsg=angular.element("<span />").html(t.message).text().replace(/\\/gi,""):(e.publish("refreshFolderTree",{fromAction:"moveFolder"}),e.closeModal()),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.moveFolderErrorMsg=globalVariables.commonAjaxErrorMessage})},e.DeleteFolderConfirm=function(){e.deleteFolderErrorMsg="",e.deleteFolderUrl=globalVariables.deleteFolderUrl+"&selectedFolderId="+e.modalData.folders[0].folderId,e.ajaxLoader=!0,a({method:"POST",url:e.deleteFolderUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t,a,n,r){null!==t&&t.error===!0?e.deleteFolderErrorMsg=t.message:(e.publish("refreshFolderTree",{fromAction:"deleteFolder"}),e.closeModal()),e.ajaxLoader=!1}).error(function(t,a,n,r){e.ajaxLoader=!1,e.deleteFolderErrorMsg=globalVariables.commonAjaxErrorMessage})},e.closeModal=function(){r.modal("hide"),o(null,500)}}]),folderTreeApp.directive("vmfFolderOptions",["$compile","$timeout","$document","$rootScope","ModalService","$http","globalData",function(e,t,a,n,r,o,i){return{restrict:"A",scope:{thisTree:"=",folderLevelOptions:"=folderOptions",completeFolderStack:"=",folderDataFtype:"="},require:"?vmfFolderTree",link:function(a,n,s,l){a.getTableType=i.tableType,a.globalVars=globalVariables,a.folderLevelOptions=[{text:a.globalVars.folderOps.invite,disabledClass:"enabled",id:"inviteNewUserInner"},{text:a.globalVars.folderOps.share,disabledClass:"enabled",id:"shareFolderInner"},{text:a.globalVars.folderOps.create,disabledClass:"enabled",id:"createFolderInner"},{text:a.globalVars.folderOps.del,disabledClass:"enabled",id:"deleteFolderInner"},{text:a.globalVars.folderOps.rename,disabledClass:"enabled",id:"renameFolderInner"},{text:a.globalVars.folderOps.move,disabledClass:"enabled",id:"moveFolderInner"},{text:a.globalVars.folderOps.request,disabledClass:"enabled",id:"requestPermissionInner"},{text:a.globalVars.folderOps.exportCsv,disabledClass:"disabled",id:"exportToCsvInner"}],a.dropDownString='<span class="actionEach" ng-click="showOptions($event,folderDataFtype)">&nbsp;</span>',a.dropDownOptionsString='<div class="actionEachBox"><div class="midWrapper"><div class="innerWrapper"><ul><li ng-repeat="option in folderLevelOptions" ng-class="{first:$first,last:$last}" ng-click="optionsAction($event,this)"><a class="{{option.disabledClass}} {{option.id}}" href="javascript:void(0);">{{option.text}}</a></li></ul></div></div></div>',n.on("mouseenter",function(t){$(this).hasClass("disabled")&&$(this).css("cursor","default"),n.find(".actionEach").length?n.find(".actionEach").removeClass("hidden"):(n.append(e(a.dropDownString)(a)),n.addClass("highlight"),n.addClass("highlightActive")),angular.element(".actionEachBox").length||($(document.body).append(e(a.dropDownOptionsString)(a)),n.addClass("highlight"),n.addClass("highlightActive")),n.not(".disabled").addClass("highlightActive")}),n.on("mouseleave",function(e){n.find(".folderSelector").hasClass("selected")||n.hasClass("nonCheckBox")||angular.element(".actionEachBox").hasClass("folderSelected")?(n.addClass("highlight"),n.find(".actionEach").remove()):n.closest("li").hasClass("menuOpen")?angular.element(".actionEachBox").hasClass("rightClicked")&&n.find(".actionEach").remove():(n.find(".actionEach").remove(),n.removeClass("highlight")),n.removeClass("highlightActive")}),n.on("mousedown",function(e){e.stopPropagation(),angular.element(".actionEachBox").data("folder-id",$(e.target).closest("li").attr("id")),a.rightClickFlag=!1,3===e.which&&($(document).off("contextmenu").on("contextmenu",n,function(){return e.stopPropagation(),!1}),a.rightClickFlag=!0,a.rightClickXPos=e.pageX,a.rightClickYPos=e.pageY,n.find(".actionEach").trigger("click").addClass("hidden"))}),a.showOptions=function(e,t){a.publish("closeAllDropdowns",e),a.publish("closeAllFilters"),e.stopPropagation();var r=$(n).parent().attr("ftPerm"),s=$(n).parent().attr("ftPath");if(angular.element(".actionEachBox").removeAttr("style").addClass("hidden"),r)a.showOptionsRender(e,t,r);else{var l=$(n).parent().attr("id"),d={selectedFolderId:l},c=$.param(d);o({method:"POST",url:globalVariables.getFolderMinPermUrl,data:c,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(r,o,l,d){var c="";r.manage?c="MANAGE":r.view?c="VIEW":r.view||(c="NONE"),$(n).parent().attr("ftPerm",c),a.publish("FolderPermissionsSet",r),i.permissionObject[s]=r,a.showOptionsRender(e,t,c)}).error(function(e,t,a,n){})}},a.showOptionsRender=function(e,n,r){var o=angular.element(".actionEachBox"),s=$(e.target);a.thisTree.find(".actionEach").not(e.target).remove(),a.thisTree.find("li.menuOpen").removeClass("menuOpen").not(".selected").find(".highlight").removeClass("highlight"),o.addClass("optionsOpen flagClass"),s.closest("li").addClass("menuOpen"),t(function(){"MANAGE"==r?("ROOT"==n?(o.find("a").removeClass("enabled").addClass("disabled"),"viewLicense"==i.tableType?o.find(".createFolderInner , .exportToCsvInner").removeClass("disabled").addClass("enabled"):o.find(".createFolderInner , .exportToCsvInner").removeClass("enabled").addClass("disabled")):"ASP"==n||"CPL"==n||"VCE"==n?(o.find("a").removeClass("enabled").addClass("disabled"),o.find(".renameFolderInner , .inviteNewUserInner, .shareFolderInner").removeClass("disabled").addClass("enabled"),"viewLicense"==i.tableType?o.find(".exportToCsvInner").removeClass("disabled").addClass("enabled"):o.find(".exportToCsvInner").removeClass("enabled").addClass("disabled")):(o.find("a").removeClass("disabled").addClass("enabled"),"viewLicense"==i.tableType?o.find(".exportToCsvInner").removeClass("disabled").addClass("enabled"):o.find(".exportToCsvInner").removeClass("enabled").addClass("disabled")),o.find(".inviteNewUserInner, .shareFolderInner").removeClass("disabled").addClass("enabled")):o.find("a").removeClass("enabled").addClass("disabled"),"viewLicense"==i.tableType&&o.find(".exportToCsvInner").removeClass("disabled").addClass("enabled"),o.find(".requestPermissionInner").removeClass("disabled").addClass("enabled")},10);var l={},d=!1;s.hasClass("hidden")&&(s.removeClass("hidden"),d=!0),l={top:s.offset().top+s.height()-7,left:s.offset().left+s.outerWidth()-o.outerWidth(!0)+12},d&&s.addClass("hidden");var c=o.outerHeight(),f=l.top,u=$(window).height(),p=s.offset().top,h="";1==a.rightClickFlag&&(h="rightClicked",l={top:a.rightClickYPos,left:a.rightClickXPos},p=!1),f+c>u+$(window).scrollTop()>0&&(l.top=p?p-c:f-c),o.css(l).addClass(h).removeClass("hidden"),e.stopPropagation()},a.getClickPosition=function(e){var t=(a.getPosition(e.currentTarget),angular.element(window).width(),angular.element(window).height(),e.currentTarget.offsetTop-$(".foldertreeUl ").scrollTop(),$(".foldertreeUl").width());if(a.rightClickXPos>=t-200)return!1;xPosition=a.rightClickXPos-80;var n="25";return a.position.left=xPosition+"px",a.position.top=n+"px",!0},a.getPosition=function(e){for(var t=0,a=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,a+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:a}},n.bind("click",function(e){var t=angular.element(".actionEachBox");if(n.parents(".folderTreeWrapper").hasClass("withoutCheckBox")){if(n.find(".folderSelector").hasClass("disabledColor"))return!1;if(n.hasClass("nonCheckBox"))n.removeClass("nonCheckBox");else{n.addClass("tempClass"),a.anchors=n.parents(".withoutCheckBox").find(".folderSelector").not(".disabledColor").parents("a"),a.anchors.removeClass("highlight highlightActive nonCheckBox");for(var r=0;r<a.anchors.length;r++)a.anchors.eq(r).hasClass("tempClass")&&(a.anchors.eq(r).addClass("highlight nonCheckBox"),n.removeClass("tempClass"),e.stopPropagation())}}else{if(t.hasClass("optionsOpen")&&(angular.element(".actionEachBox.optionsOpen").parent().removeClass("highlight").find(".actionEach").remove(),t.removeClass("optionsOpen flagClass rightClicked")),a.availableFolders=a.thisTree.find(".folderSelector").not(".disabledColor"),a.allow=!1,a.thisTree.find(e.target).hasClass("highlight")&&!a.thisTree.find(e.target).find(".folderSelector").hasClass("disabledColor")&&(a.allow=!0),a.thisTree.find(e.target).hasClass("highlight")||a.thisTree.find(e.target).parents("a").find(".folderSelector").hasClass("disabledColor")||(a.allow=!0),a.allow)return a.thisTree.find(".innerWrapper").find(e.target).length||(n.find("input").attr("checked")?(t.removeClass("folderSelected"),n.find(".folderSelector").removeClass("selected"),n.find("input").attr("checked",!1),a.thisTree.find("input").eq(0).attr("checked",!1).parents("label").removeClass("selected")):(t.removeClass("optionsOpen flagClass rightClicked"),n.addClass("highlight").find(".folderSelector").addClass("selected"),n.find("input").attr("checked",!0),a.allSelected=0,angular.forEach(a.availableFolders,function(e,t){0===t||angular.element(e).hasClass("selected")||a.allSelected++}),a.allSelected||angular.element(a.availableFolders[0]).addClass("selected").find("input").attr("checked",!0))),!1;e.stopPropagation()}}),a.optionsAction=function(e,t){var n=angular.element(".actionEachBox").data("folder-id");if($(e.target).hasClass("disabled"))return e.stopPropagation(),!1;if("exportToCsvInner"===t.option.id)a.publish("sendExportToCsvAPI",{selectedFolders:n,reportFor:"licenseKeysFromContextMenu"}),e.stopPropagation();else{if("disabled"===t.option.disabledClass)return!1;a.required={operationScope:{},folders:[]},a.completeFolderStack.forEach(function(e){e.folderId===n&&a.required.folders.push(e)}),a.required.operationScope=t.option,"deleteFolderInner"==t.option.id&&(a.modalInst=r.showModal({templateUrl:"/vmf/m/components/folderTree/template/deleteFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(a.required,a.completeFolderStack)}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : delete-folder")),"moveFolderInner"==t.option.id&&(a.modalInst=r.showModal({templateUrl:"/vmf/m/components/folderTree/template/moveFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(a.required,a.completeFolderStack),_this.publishGetFolderPath()}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : move-folder")),"createFolderInner"==t.option.id&&(a.modalInst=r.showModal({templateUrl:"/vmf/m/components/folderTree/template/createFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"
}),_this.createModal(a.required,a.completeFolderStack),_this.publishGetFolderPathCreate()})),"renameFolderInner"==t.option.id&&(a.modalInst=r.showModal({templateUrl:"/vmf/m/components/folderTree/template/renameFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(a.required,a.completeFolderStack)}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : rename-folder")),"inviteNewUserInner"==t.option.id&&(a.modalInstance=r.showModal({templateUrl:"/vmf/m/components/folderTree/template/inviteUser.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(a.required,a.completeFolderStack)})),"shareFolderInner"==t.option.id&&(a.modalInstance=r.showModal({templateUrl:"/vmf/m/components/folderTree/template/shareFolder.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(a.required,a.completeFolderStack),_this.getUsers()}),"undefined"!=typeof riaLinkmy&&riaLinkmy("my-licenses : share-folder")),"requestPermissionInner"==t.option.id&&(a.modalInstance=r.showModal({templateUrl:"/vmf/m/components/folderTree/template/requestPermission.tpl.html",controller:"folderTreeController"}).then(function(e){e.element.modal({backdrop:"static"}),_this.createModal(a.required,a.completeFolderStack),_this.publishEditFolderPermissions()}))}angular.element(".actionEachBox").removeClass("optionsOpen"),e.stopPropagation()}}}}]),function(){"use strict";folderTreeApp.factory("ModalService",["$document","$compile","$controller","$http","$rootScope","$q","$timeout","$templateCache",function(e,t,a,n,r,o,i,s){function l(){var e=this,l=function(e,t){var a=o.defer();if(e)a.resolve(e);else if(t){var r=s.get(t);void 0!==r?a.resolve(r):n({method:"GET",url:t,cache:!0}).then(function(e){s.put(t,e.data),a.resolve(e.data)})}else a.reject("No template or templateUrl has been specified.");return a.promise};e.showModal=function(e){var n=o.defer(),s=e.controller;return s?(e.controllerAs&&(s=s+" as "+e.controllerAs),l(e.template,e.templateUrl).then(function(l){var c=r.$new(),f=o.defer(),u={$scope:c,close:function(e,t){void 0!==t&&null!==t||(t=0),i(function(){f.resolve(e)},t)}};if(e.inputs)for(var p in e.inputs)u[p]=e.inputs[p];var h=angular.element(l),m=t(h),g=m(c);u.$element=g;var v=a(s,u);e.appendElement?e.appendElement.append(g):d.append(g);var b={controller:v,scope:c,element:g,close:f.promise};b.close.then(function(e){c.$destroy(),g.remove()}),n.resolve(b)}),n.promise):(n.reject("No controller has been specified."),n.promise)},e.createModal=function(e,t){}}var d=e.find("body");return new l}])}(),angular.module("vmfCheckboxGroupMod",[]).directive("vmfCheckboxGroup",["$compile","$timeout",function(e,t){return{restrict:"EA",priority:1,replace:!0,scope:{ctitle:"=",options:"=",name:"=",model:"=",mandatory:"@",customClass:"=",type:"@",cLabel:"=",cDisabled:"=",cFoldertype:"=",clickCallback:"&",changeCallback:"&",append:"@"},link:function(a,n,r){a.invoke=function(e,t){a.$emit("invoke",{method:e,evt:t})};var o;if("1"===a.type){o="true"===a.mandatory?'<span class="mandatory">*</span>':"",o+=a.cLabel?'<label class="custom-checkbox"><span class="customCheckBox icn" ng-disabled="cDisabled"><input type="checkbox" ng-model="model" ng-click="clickCallback({$event:$event})" ng-change="changeCallback({$event:$event})" ng-disabled="cDisabled" /></span>'+a.cLabel+"<span class=\"badge\" ng-if=\"cFoldertype == 'ASP' || cFoldertype == 'VCE' || cFoldertype == 'CPL'\" badgeType=\"{{cFoldertype}}\">{{cFoldertype}}</span></label>":'<label class="custom-checkbox"><span class="customCheckBox icn" ng-disabled="cDisabled"><input type="checkbox" ng-model="model" ng-click="clickCallback({$event:$event})" ng-change="changeCallback({$event:$event})" ng-disabled="cDisabled" /></span></label>';var i=e(o)(a);"true"===a.append?n.append(i):n.replaceWith(i),a.$watch("model",function(e,a){t(e?function(){i.addClass("selected")}:function(){i.removeClass("selected")})}),a.$watch("cDisabled",function(e,a){t(e?function(){i.addClass("disabledColor"),i.find("span.customCheckBox").addClass("disabled")}:function(){i.removeClass("disabledColor"),i.find("span.customCheckBox").removeClass("disabled")})})}else"2"===a.type&&(o="true"===a.mandatory?a.ctitle?'<div class=" formSection clearfix">  <div class="labelHeader col-md-3"><span class="mandatory">*</span> '+a.ctitle+'</div><div class="col-md-9"><fieldset>':'<div class=" formSection clearfix no-title">  <div class="mandatoryCB"><span class="mandatory">*</span></div><div class="col-md-9"><fieldset>':a.ctitle?'<div class=" formSection clearfix">  <div class="labelHeader col-md-3">'+a.ctitle+'</div><div class="col-md-8"><fieldset>':'<div class=" formSection clearfix no-title"> <div class="col-md-12"><fieldset>',angular.forEach(a.options,function(e,t){o+='<label class="custom-checkbox"><span class="customCheckBox icn" ng-disabled="options['+t+'].disabled"><input type="checkbox" ng-model="options['+t+'].checked" ng-disabled="options['+t+'].disabled" name="'+a.name+'" value="'+e.value+'"></span>'+e.text+"</label>"}),o+="</fieldset></div> </div>",n.append(e(o)(a)),a.customClass&&angular.forEach(a.customClass,function(e){n.find(e.selector).addClass(e.cusclass)}),t(function(){n.find(".badge").each(function(){var e=$(this).attr("badgeType");$(this).attr("title",globalVariables["staticTextfor"+e])})},100),a.$watch("options",function(e,a){angular.forEach(e,function(e,a){t(e.checked?function(){angular.element(n.find("label.custom-checkbox")[a]).addClass("selected")}:function(){angular.element(n.find("label.custom-checkbox")[a]).removeClass("selected")}),t(e.disabled?function(){angular.element(n.find("label.custom-checkbox")[a]).addClass("disabledColor"),angular.element(n.find("span.customCheckBox")[a]).addClass("disabled")}:function(){angular.element(n.find("label.custom-checkbox")[a]).removeClass("disabledColor"),angular.element(n.find("span.customCheckBox")[a]).removeClass("disabled")})})},!0))}}}]),function(e){function t(){var t=e(this),a=t.children(".split-pane-component:first"),o=t.children(".split-pane-divider"),i=t.children(".split-pane-component:last");t.is(".fixed-top, .fixed-bottom, .horizontal-percent")?t.css("min-height",n(a)+n(i)+o.height()+"px"):t.css("min-width",r(a)+r(i)+o.width()+"px")}function a(e){var t=e[0],a=e.children(".split-pane-component:first")[0],d=e.children(".split-pane-divider")[0],c=e.children(".split-pane-component:last")[0];if(e.is(".fixed-top")){var f=n(c);return function(n){var r=t.offsetHeight-f-d.offsetHeight;a.offsetHeight>r&&o(a,d,c,r+"px"),e.resize()}}if(e.is(".fixed-bottom")){var u=n(a);return function(n){var r=t.offsetHeight-u-d.offsetHeight;c.offsetHeight>r&&i(a,d,c,r+"px"),e.resize()}}if(e.is(".horizontal-percent")){var f=n(c),u=n(a);return function(n){var r=t.offsetHeight-u-d.offsetHeight;c.offsetHeight>r?i(a,d,c,r/t.offsetHeight*100+"%"):t.offsetHeight-a.offsetHeight-d.offsetHeight<f&&i(a,d,c,f/t.offsetHeight*100+"%"),e.resize()}}if(e.is(".fixed-left")){var p=r(c);return function(n){var r=t.offsetWidth-p-d.offsetWidth;a.offsetWidth>r&&s(a,d,c,r+"px"),e.resize()}}if(e.is(".fixed-right")){var h=r(a);return function(n){var r=t.offsetWidth-h-d.offsetWidth;c.offsetWidth>r&&l(a,d,c,r+"px"),e.resize()}}if(e.is(".vertical-percent")){var p=r(c),h=r(a);return function(n){var r=t.offsetWidth-h-d.offsetWidth;c.offsetWidth>r?l(a,d,c,r/t.offsetWidth*100+"%"):t.offsetWidth-a.offsetWidth-d.offsetWidth<p&&l(a,d,c,p/t.offsetWidth*100+"%"),e.resize()}}}function n(t){return parseInt(e(t).css("min-height"))||0}function r(t){return parseInt(e(t).css("min-width"))||0}function o(e,t,a,n){e.style.height=n,t.style.top=n,a.style.top=n}function i(e,t,a,n){e.style.bottom=n,t.style.bottom=n,a.style.height=n}function s(e,t,a,n){e.style.width=n,t.style.left=n,a.style.left=n}function l(e,t,a,n){e.style.right=n,t.style.right=n,a.style.width=n}e.fn.splitPane=function(){var n=this;n.each(t),n.append('<div class="split-pane-resize-shim">'),setTimeout(function(){n.each(function(){e(this).bind("_splitpaneparentresize",a(e(this)))}),e(window).trigger("resize")},100)};var d="_splitpaneparentresizeHandler";jQuery.event.special._splitpaneparentresize={setup:function(t,a){var n=this,r=e(this).parent().closest(".split-pane")[0]||window;e(this).data(d,function(e){var t=e.target===document?window:e.target;t===r?(e.type="_splitpaneparentresize",jQuery.event.dispatch.apply(n,arguments)):e.stopPropagation()}),e(r).bind("resize",e(this).data(d))},teardown:function(t){var a=e(this).parent().closest(".split-pane")[0]||window;e(a).unbind("resize",e(this).data(d)),e(this).removeData(d)}}}(jQuery),angular.module("vmfSplitContainerMod",[]).directive("vmfSplitContainer",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:function(e){e.splitContainerTitle="Split Container",e.components=[],e.values=[],this.addComponent=function(t){e.components.push(t)},this.addDivider=function(t){e.divider=t}},link:function(e,t,a){for(var n=t.children(".split-pane-component:first"),r=t.children(".split-pane-divider"),o=t.children(".split-pane-component:last"),i=0;i<e.components.length;i++)if(e.components[i].width&&e.components[i].width.match(/%$/)){t.addClass("vertical-percent");var s=100-parseFloat(e.components[i].width.match(/(\d+)%$/)[1])+"%";n.css({right:s,marginRight:e.divider.width}),r.css({right:s,width:e.divider.width}),o.css({width:s})}else if(e.components[i].width)t.addClass("fixed-left"),n.css({width:e.components[i].width}),r.css({left:e.components[i].width,width:e.divider.width}),o.css({left:e.components[i].width,marginLeft:e.divider.width});else if(e.components[i].height&&e.components[i].height.match(/%$/)){t.addClass("horizontal-percent");var l=100-parseFloat(e.components[i].height.match(/(\d+)%$/)[1])+"%";n.css({bottom:l,marginBottom:e.divider.height}),r.css({bottom:l,height:e.divider.height}),o.css({height:l})}else e.components[i].height&&(t.addClass("fixed-top"),n.css({height:e.components[i].height}),r.css({top:e.components[i].height,height:e.divider.height}),o.css({top:e.components[i].height,marginLeft:e.divider.height}));t.splitPane()},template:'<div class="vmf-split-container" ng-transclude></div>'}}).directive("vmfSplitPaneComponent",function(e){return{restrict:"EA",replace:!0,transclude:!0,require:"^vmfSplitContainer",scope:{panewidth:"@",paneheight:"@",maxwidth:"@",minwidth:"@"},link:function(e,t,a,n){e.panewidth&&(n.width=e.panewidth),e.paneheight&&(n.height=e.paneheight),e.maxwidth&&(n.maxwidth=e.maxwidth),e.minwidth&&(n.minwidth=e.minwidth),n.addComponent({width:e.panewidth,height:e.paneheight})},template:'<div class="split-pane-component" ng-transclude></div>'}}).directive("vmfSplitPaneDivider",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^vmfSplitContainer",scope:{panewidth:"@",paneheight:"@",clicks:"@",close:"@"},controller:function(e){e.mousedownHandler=function(t,a,n,r,o,i){var s=t.type.match(/^touch/),l=s?"touchmove":"mousemove",d=s?"touchend":"mouseup",c=a,f=c.parent(),u=c.siblings(".split-pane-resize-shim");-1!==navigator.appVersion.indexOf("MSIE 7.")||-1!==navigator.appVersion.indexOf("MSIE 8.")?setTimeout(function(){u.show()},500):u.show(),c.addClass("dragged"),s&&c.addClass("touch");var p=c.clone();c.after(p),$(document).on(l,e.createMousemove(f,e.pageXof(t),e.pageYof(t),n,r,o,i)),$(document).one(d,function(e){$(document).unbind(l),p.remove(),c.removeClass("dragged touch"),-1!==navigator.appVersion.indexOf("MSIE 7.")||-1!==navigator.appVersion.indexOf("MSIE 8.")?setTimeout(function(){u.hide()},0):u.hide()})},e.createMousemove=function(t,a,n,r,o,i,s){var l,d,c,f,u,p,h=t[0],m=t.children(".split-pane-component:first")[0],g=t.children(".split-pane-divider")[0],v=t.children(".split-pane-divider")[1],b=t.children(".split-pane-component:last")[0];if($(v).remove(),t.is(".fixed-top")){var y=e.minHeight(m),C=h.offsetHeight-e.minHeight(b)-g.offsetHeight,w=g.offsetTop-n;return function(a){a.preventDefault();var n=Math.min(Math.max(y,w+e.pageYof(a)),C);e.setTop(m,g,b,n+"px"),t.resize()}}if(t.is(".fixed-bottom"))return l=e.minHeight(b),d=h.offsetHeight-e.minHeight(m)-g.offsetHeight,c=b.offsetHeight+n,function(a){a.preventDefault();var n=Math.min(Math.max(l,c-e.pageYof(a)),d);e.setBottom(m,g,b,n+"px"),t.resize()};if(t.is(".horizontal-percent")){var S;return S=0===h.offsetHeight?t[0].scrollHeight:t[0].offsetHeight,l=S-S*(parseInt(o)/100),d=S-e.minHeight(m)-g.offsetHeight,c=b.offsetHeight+n,function(a){a.preventDefault(),$(b).css("display","block");var n=Math.min(Math.max(l,c-e.pageYof(a)),d);100-r>n/S*100&&(e.setBottom(m,g,b,n/S*100+"%"),$(document).one("mouseup",function(){e.setHorizontalDivider(g,n/S*100+"%")}),t.resize())}}if(t.is(".fixed-left")){var x=e.minWidth(m),D=h.offsetWidth-e.minWidth(b)-g.offsetWidth,_=g.offsetLeft-a;return function(a){a.preventDefault();var n=Math.min(Math.max(x,_+e.pageXof(a)),D);e.setLeft(m,g,b,n+"px"),t.resize()}}if(t.is(".fixed-right"))return f=e.minWidth(b),u=h.offsetWidth-e.minWidth(m)-g.offsetWidth,p=b.offsetWidth+a,function(a){a.preventDefault();var n=Math.min(Math.max(f,p-e.pageXof(a)),u);e.setRight(m,g,b,n+"px"),t.resize()};if(t.is(".vertical-percent")){var T;T=0===h.offsetWidth?t[0].scrollWidth:t[0].offsetWidth,f=T-T*(parseInt(o)/100),u=T-e.minWidth(m)-g.offsetWidth,p=b.offsetWidth+a;var F=h.offsetWidth*(i/100),I=.3*F,k=(I+10)/h.offsetWidth*100;return function(a){a.preventDefault();var n=Math.min(Math.max(f,p-e.pageXof(a)),u);100-k>n/T*100&&(e.setRight(m,g,b,n/T*100+"%"),$(document).one("mouseup",function(){e.setVerticalDivider(g,n/T*100+"%")}),t.resize())}}},e.pageXof=function(e){return e.pageX||e.originalEvent.pageX},e.pageYof=function(e){return e.pageY||e.originalEvent.pageY},e.minHeight=function(e){return parseInt($(e).css("min-height"))||0},e.minWidth=function(e){return parseInt($(e).css("min-width"))||0},e.setTop=function(e,t,a,n){e.style.height=n,t.style.top=n,a.style.top=n},e.setBottom=function(e,t,a,n){e.style.bottom=n,t.style.bottom=n,a.style.height=n},e.setLeft=function(e,t,a,n){e.style.width=n,t.style.left=n,a.style.left=n},e.setRight=function(e,t,a,n){e.style.right=n,t.style.right=n,a.style.width=n},e.setVerticalDivider=function(e,t){e.style.right=t},e.setHorizontalDivider=function(e,t){e.style.bottom=t}},link:function(e,t,a,n){var r;n.addDivider({width:e.panewidth,height:e.paneheight}),r=parseInt(n.minwidth)?n.minwidth:n.width,e.doubleClickResizePane=function(t){var a=t.parent().children(".split-pane-component:first"),r=t,o=t.parent().children(".split-pane-component:last"),i=100-parseInt(n.width),s=100-parseInt(n.height);i+="%",s+="%","right"===e.close?"0%"===a.prop("style").right?(a.css("right",100-parseInt(n.width)+"%"),r.css("right",100-parseInt(n.width)+"%"),o.css("width",100-parseInt(n.width)+"%")):(a.css("right","0%"),r.css("right","0%"),o.css("width","0%")):"left"===e.close?a.prop("style").right<"99%"?(a.css("right","99%"),r.css("right","99%"),o.css("width","99%")):(a.css("right",100-parseInt(n.width)+"%"),r.css("right",100-parseInt(n.width)+"%"),o.css("width",100-parseInt(n.width)+"%")):"bottom"===e.close?"0%"===a.prop("style").bottom?(a.css("bottom",100-parseInt(n.height)+"%"),r.css("bottom",100-parseInt(n.height)+"%"),o.css("display","block"),o.css("height",100-parseInt(n.height)+"%")):(a.css("bottom","0%"),r.css("bottom","0%"),o.css("display","none")):"top"===e.close&&(a.prop("style").bottom<"98%"?(a.css("bottom","98%"),r.css("bottom","98%"),o.css("height","98%")):(a.css("bottom",100-parseInt(n.height)+"%"),r.css("bottom",100-parseInt(n.height)+"%"),o.css("height",100-parseInt(n.height)+"%")))},-1!==navigator.appVersion.indexOf("MSIE 7.")||-1!==navigator.appVersion.indexOf("MSIE 8.")?(t.on("mousedown",function(a){var o=t,i=a;e.mousedownHandler(i,o,parseInt(r),parseInt(n.maxwidth),parseInt(n.width),parseInt(n.height))}),t.on("dblclick",function(a){e.doubleClickResizePane(t)})):t.on("mousedown",function(a){e.clicks++;var o=t,i=a;1===e.clicks&&(a.preventDefault(),setTimeout(function(){1===e.clicks?e.mousedownHandler(i,o,parseInt(r),parseInt(n.maxwidth),parseInt(n.width),parseInt(n.height)):e.doubleClickResizePane(o),e.clicks=0},0))})},template:'<div class="split-pane-divider"><div class="threedots" ng-transclude></div></div>'}}),angular.module("vmfRadioGroupMod",[]).directive("vmfRadioGroup",["$compile","$timeout",function(e,t){return{restrict:"EA",priority:1,replace:!0,scope:{rtitle:"=",options:"=",name:"=",model:"=",mandatory:"@",customClass:"=",titleColMod:"@",type:"@",rLabel:"=",rChecked:"=",rDisabled:"=",rValue:"=",clickCallback:"&"},link:function(a,n,r){var o;if("1"===a.type)"true"===a.mandatory?(o="undefined"!=typeof a.titleColMod?'<div class="formSection clearfix">  <div class="labelHeader {{titleColMod}}"><span class="mandatory">* </span> ':'<div class="formSection clearfix">  <div class="labelHeader col-md-2"><span class="mandatory">* </span> ',a.rtitle&&(o+=a.rtitle),o+='</div><div class="col-md-8 radioContainer"><fieldset>'):(o='<div class="formSection clearfix">  <div class="labelHeader col-md-2">',a.rtitle&&(o+=a.rtitle),o+='</div><div class="col-md-8 radioContainer"><fieldset>'),angular.forEach(a.options,function(e,t){o+='<label class="custom-radio" ng-click="optionClicked(\''+e.value+"', "+t+')"><span class="customRadioBox icn" ng-disabled="options['+t+'].disabled"><input type="radio" ng-model="model" vmf-radio-value="'+e.value+'" ng-disabled="options['+t+'].disabled" name="'+a.name+'" value="'+e.value+'"></span>'+e.text+"</label>"}),o+="</fieldset></div> </div>",n.append(o),a.customClass&&angular.forEach(a.customClass,function(e){n.find(e.selector).addClass(e.cusclass)}),e(n.contents())(a),a.optionClicked=function(e,t){a.options[t].disabled||a.model===e||(a.model=e)},a.$watch("model",function(e,r){null===e?t(function(){n.find("label.custom-radio").removeClass("selected"),n.find("span.customRadioBox").removeClass("selected"),angular.forEach(a.options,function(e){e.checked=!1})}):(angular.forEach(a.options,function(e){e.checked=!1}),angular.forEach(a.options,function(e,r){e.value===a.model?(e.checked=!0,t(function(){angular.element(n.find("label.custom-radio")[r]).addClass("selected"),angular.element(n.find("span.customRadioBox")[r]).addClass("selected")})):t(function(){angular.element(n.find("label.custom-radio")[r]).removeClass("selected"),angular.element(n.find("span.customRadioBox")[r]).removeClass("selected")})}))}),a.$watch("options",function(e,a){angular.forEach(e,function(e,a){e.disabled?(e.checked&&(disableAll=!0),t(function(){angular.element(n.find("label.custom-radio")[a]).addClass("disabledColor"),angular.element(n.find("span.customRadioBox")[a]).addClass("disabled")})):t(function(){angular.element(n.find("label.custom-radio")[a]).removeClass("disabledColor"),angular.element(n.find("span.customRadioBox")[a]).removeClass("disabled")})})},!0);else if("2"===a.type){o="",o+=a.rLabel?'<label class="custom-radio" ng-click="optionClicked(\''+a.rValue+'\')"><span class="customRadioBox icn" ng-disabled="rDisabled"><input type="radio" ng-model="model" vmf-radio-value="'+a.rValue+'" ng-disabled="rDisabled" name="'+a.name+'" value="'+a.rValue+'" ng-checked="rChecked" ng-click="clickCallback({$event:$event})" ></span>'+a.rLabel+"</label>":'<label class="custom-radio" ng-click="optionClicked(\''+a.rValue+'\')"><span class="customRadioBox icn" ng-disabled="rDisabled"><input type="radio" ng-model="model" vmf-radio-value="'+a.rValue+'" ng-disabled="rDisabled" name="'+a.name+'" value="'+a.rValue+'" ng-checked="rChecked" ng-click="clickCallback({$event:$event})" ></span></label>';var i=e(o)(a);n.replaceWith(i),a.optionClicked=function(e){a.rDisabled||a.model===e||(a.model=e)},a.$watch("model",function(e,n){t(null===e?function(){i.removeClass("selected"),i.find("span.customRadioBox").removeClass("selected"),a.rChecked=!1}:a.rValue===e?function(){i.addClass("selected"),i.find("span.customRadioBox").addClass("selected"),a.rChecked=!0}:function(){i.removeClass("selected"),i.find("span.customRadioBox").removeClass("selected"),a.rChecked=!1})}),a.$watch("rDisabled",function(e,n){t(a.rDisabled?function(){i.addClass("disabledColor"),i.find("span.customRadioBox").addClass("disabled")}:function(){i.removeClass("disabledColor"),i.find("span.customRadioBox").removeClass("disabled")})})}}}}]).directive("vmfRadioValue",[function(){return{require:"ngModel",restrict:"A",link:function(e,t,a,n){for(;a.value!==a.vmfRadioValue;)a.value=a.vmfRadioValue,n.$render()}}}]),angular.module("vmfTooltipMod",[]).directive("vmfTooltip",["$compile",function(e){return{restrict:"EA",priority:2,scope:!0,link:function(e,t,a){e.userOptions=e.$eval(a.tooltipOptions),e.options=angular.extend({},{skin:"dark",position:"right",radius:!0,size:"large",hideDelay:500,showOn:"mouseover",hideOn:"mouseleave",maxWidth:"180",close:!1,customClass:"tempClass",offsetX:0,offsetY:0},e.userOptions),e.showTipOn=e.options.showOn,e.hideTipOn=e.options.hideOn;var n="undefined"==typeof a.targetEle?t:t.find("."+a.targetEle);Tipped.create(n,e.options.text,{skin:e.options.skin,inline:!0,position:e.options.position,radius:e.options.radius,hideDelay:e.options.hideDelay,size:e.options.size,hideOthers:!1,hideOn:e.hideTipOn,showOn:e.showTipOn,maxWidth:e.options.maxWidth,close:e.options.close,offset:{x:e.options.offsetX,y:e.options.offsetY},onShow:function(t,a){$(a).addClass("highlight"),$(t).addClass(e.options.customClass),$(t).parents(".tpd-tooltip").removeClass("tpd-skin-dark").addClass("tpd-skin-"+e.options.skin),$(a).hasClass("disableTooltip")&&$(t).parents(".tpd-tooltip").remove()},afterHide:function(t,a){$(a).removeClass("highlight"),$(t).removeClass(e.options.customClass),$(t).parents(".tpd-tooltip").removeClass("tpd-skin-dark").removeClass("tpd-skin-"+e.options.skin)}});Tipped.hideTooltip=function(e){var t=Tipped.get(e),a=t.items();$(a[0]._tooltip).hide()},Tipped.showTooltip=function(e){var t=Tipped.get(e),a=t.items();$(a[0]._tooltip).show()},Tipped.removeTooltip=function(e){Tipped.remove(e)},Tipped.enableTooltip=function(e){$(e).removeClass("disableTooltip")},Tipped.disableTooltip=function(e){$(e).addClass("disableTooltip")},Tipped.updatePosition=function(e,t){var a=Tipped.get(e),n=a.items();$(n[0]._tooltip).find(".tpd-content").text(t),Tipped.refresh(e)}}}}]),angular.module("vmfTableFilterMod",[]).service("vmfUtils",function(e){this.getGroupingCollection=function(e,t){var a={};e=e||[],e.forEach(function(e){var n,r=t(e);a[r]||(n={},n.type=r,n.isParent=!0),a[r]=a[r]||[],n&&a[r].push(n),a[r].push(e)});var n=Object.keys(a).map(function(e){return a[e]});return n=n||[],n.reduce(function(e,t){return e.concat(t)})},this.toggleTriStateCheckbox=function(e,t,a,n,r){var o=!0,i=t.checked,s=a.checkboxField,l=!1;n[s]=i,i?$.each(e,function(e,t){return t[s]?void 0:(o=!1,!1)}):o=!1,a[s]=o,$.each(e,function(e,t){t[s]&&(l=!0)}),r(l?!0:!1)},this.toggleAllCheckboxState=function(e,t,a,n){t[t.checkboxField]=a,t&&angular.forEach(e,function(e){e[t.checkboxField]=a}),n(a)},this.sortByColumn=function(t,a,n,r){var o=r;return o.field===a.field&&(o.reverse=!o.reverse),o.field=a.field,angular.forEach(n,function(e){e.sorted=""}),a.sorted=o.reverse?"sort-desc":"sort-asc",e("orderBy")(t,a.field,o.reverse)},this.getUnique=function(e,t,a){for(var n=[],r=0;r<e.length;r++){var o=e[r];o[t]===a&&n.push(o)}return n},this.filterByColumn=function(t,a,n){return e("vmfTableSearch")(t,a,n||"product")},this.getSelectedItems=function(e){var t=[];return angular.forEach(e,function(e){e.isCheckboxSelected&&t.push(angular.copy(e))}),t}}).directive("vmfTableAutoComplete",["$timeout","$parse","$http",function(e,t,a){return{restrict:"A",scope:{url:"@",filterBy:"@",data:"=",onSelect:"&"},link:function(t,a,n){t.$watch("data",function(n){var r=t.data;e(function(){a.autocomplete().autocomplete("destroy").autocomplete({source:function(e,t){var a=e.term,n="^"+a,o=new RegExp(n,"i"),i=[];angular.forEach(r,function(e){e&&o.test(e.name)&&i.push(e)}),t(i)},minLength:1,select:function(e,a){e.stopImmediatePropagation(),t.onSelect({item:a.item})}}).autocomplete("instance")._renderItem=function(e,t){return $("<li>").append("<a>"+t.name+"</a>").appendTo(e)}},0)})}}}]).directive("vmfTableFilterButton",["$compile","$templateCache","$timeout","$document",function(e,t,a,n){return{restrict:"A",scope:{title:"@",name:"@",data:"=",url:"@",mandatoryDate:"@",onChange:"&"},controller:function(e,t){e.$on("vmfTable.event.resetfilter",function(t,a){e.selectedItems=[],e.selectedDate=null,e.clearAll()}),e.clearAll=function(t){t&&$(t.currentTarget).closest(".dropdown").removeClass("open"),e.selectedItems=[],angular.forEach(e.parsedData,function(e){e.selected=!1})},e.applyFilter=function(t){$(t.currentTarget).closest(".dropdown").removeClass("open"),e.selectedItems=[],angular.forEach(e.parsedData,function(t){t.selected&&e.selectedItems.push(t)});var a={event:t,target:e.name,items:e.selectedItems};e.onChange({params:a})},e.onDateSelect=function(e,t){e.label=$(t.target).closest(".checkbox").find("input.vmf-calInput").val()},e.deleteItem=function(t,a,n){e.selectedItems.splice(a,1),t.selected=!1,t.isDateField&&$(n.target).closest(".selected-item-container").siblings(".table-filter").find("input.vmf-calInput").val("")},e.liClickHandler=function(e){e.stopPropagation()},e.loadData=function(){e.url&&t.get(e.url).success(function(t){e.data=t.data}).error(function(e,t,a,n){})},e.init=function(){e.loadData()},e.init()},link:function(e,t,r){e.selectedItems=[],e.parsedData=[],e.selectedDate="",e.$watch("data",function(t){e.parsedData=e.data});var o=!1;t.find(".btn-group.dropdown.table-filter").on("hide.bs.dropdown",function(e){return o?(o=!1,!1):void 0}),t.find(".dropdown-menu").off("click").on("click",function(e){($(e.target).hasClass(".dropdown-menu")||$(e.target).closest(".dropdown-menu").length)&&(o=!0)}),e.subscribe("closeAllFilters",function(){t.find(".btn-group.dropdown.table-filter").removeClass("open")}),n.on("click",function(a){var n=!1;t.find(".btn-group.dropdown.table-filter").is(a.target)||0!==t.find(".btn-group.dropdown.table-filter").has(a.target).length||0!==t.find(".open").has(a.target).length||t.find(".btn-group.dropdown.table-filter").removeClass("open"),0===$(a.target).closest(".btn-group.dropdown").length&&(e.selectedItems&&0===e.selectedItems.length?e.clearAll():angular.forEach(e.parsedData,function(t){n=!1,angular.forEach(e.selectedItems,function(e){t===e&&(t.selected=!0,n=!0)}),n||(t.selected=!1)})),e.$apply()}),a(function(){if($(".dropdown-menu li").click(function(e){e.stopPropagation()}),e.mandatoryDate===!0){var a=$(t).find(".table-filter-date-container");$(a).datepicker({format:"dd/mm/yyyy"})}},1e3)},templateUrl:"/vmf/m/components/tableFilter/filterDropDown.html"}}]).directive("vmfTableFilter",["$timeout",function(e){return{restrict:"EA",scope:{title:"=",filterData:"=",name:"=",onItemSelected:"&",autoCompleteData:"="},controller:function(e){var t={};e.onChange=function(a){a&&(t[a.target]=a.items,e.onItemSelected({event:a.event,target:a.target,itemSelected:a.items,allSelectedItems:t}))},e.isLocation=function(e){return e&&"location"===e.type},e.filterReset=function(){e.$broadcast("vmfTable.event.resetfilter",{})},angular.forEach(e.filterData,function(e){t[e.name]=[]})},template:'<div id="dropdown-holder"><div class="dropdowns-container"><div ng-repeat="item in filterData" class="each-dropdown"><div vmf-table-filter-button  ng-if="!isLocation(item)" name="{{item.name}}" mandatory-date="{{item.mandatoryDate}}" data="item.data" url="{{item.url}}" on-change="onChange(params)"></div><div vmf-table-filter-button-location auto-complete-data="autoCompleteData" ng-if="isLocation(item)" name="{{item.name}}" mandatory-date="{{item.mandatoryDate}}" data="item.data" url="{{item.url}}" on-change="onChange(params)"></div></div></div></div>'}}]),function(e,t){"use strict";var a,n,r=e,o=r.document,i=r.navigator,s=r.setTimeout,l=r.encodeURIComponent,d=r.ActiveXObject,c=r.Error,f=r.Number.parseInt||r.parseInt,u=r.Number.parseFloat||r.parseFloat,p=r.Number.isNaN||r.isNaN,h=r.Math.round,m=r.Date.now,g=r.Object.keys,v=(r.Object.defineProperty,r.Object.prototype.hasOwnProperty),b=r.Array.prototype.slice,y=function(){var e=function(e){return e};if("function"==typeof r.wrap&&"function"==typeof r.unwrap)try{var t=o.createElement("div"),a=r.unwrap(t);1===t.nodeType&&a&&1===a.nodeType&&(e=r.unwrap)}catch(n){}return e}(),C=function(e){return b.call(e,0)},w=function(){var e,a,n,r,o,i,s=C(arguments),l=s[0]||{};for(e=1,a=s.length;a>e;e++)if(null!=(n=s[e]))for(r in n)v.call(n,r)&&(o=l[r],i=n[r],l!==i&&i!==t&&(l[r]=i));return l},S=function(e){var t,a,n,r;if("object"!=typeof e||null==e)t=e;else if("number"==typeof e.length)for(t=[],a=0,n=e.length;n>a;a++)v.call(e,a)&&(t[a]=S(e[a]));else{t={};for(r in e)v.call(e,r)&&(t[r]=S(e[r]))}return t},x=function(e,t){for(var a={},n=0,r=t.length;r>n;n++)t[n]in e&&(a[t[n]]=e[t[n]]);return a},D=function(e,t){var a={};for(var n in e)-1===t.indexOf(n)&&(a[n]=e[n]);return a},_=function(e){if(e)for(var t in e)v.call(e,t)&&delete e[t];return e},T=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},F=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},I=function(e){var t,a;return"string"==typeof e&&e&&(a=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),a&&a[1]?t=a[1]:(a=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),a&&a[1]&&(t=a[1]))),t},k=function(){var e,t;try{throw new c}catch(a){t=a}return t&&(e=t.sourceURL||t.fileName||I(t.stack)),e},P=function(){var e,a,n;if(o.currentScript&&(e=o.currentScript.src))return e;if(a=o.getElementsByTagName("script"),1===a.length)return a[0].src||t;if("readyState"in a[0])for(n=a.length;n--;)if("interactive"===a[n].readyState&&(e=a[n].src))return e;return"loading"===o.readyState&&(e=a[a.length-1].src)?e:(e=k())?e:t},$=function(){var e,a,n,r=o.getElementsByTagName("script");for(e=r.length;e--;){if(!(n=r[e].src)){a=null;break}if(n=F(n),null==a)a=n;else if(a!==n){a=null;break}}return a||t},L=function(){var e=F(P())||$()||"";return e+"ZeroClipboard.swf"},E={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},A="11.0.0",O={},j={},N=null,M={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},R={swfPath:L(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},U=function(e){if("object"==typeof e&&null!==e)for(var t in e)if(v.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))R[t]=e[t];else if(null==E.bridge)if("containerId"===t||"swfObjectId"===t){if(!te(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");R[t]=e[t]}else R[t]=e[t];{if("string"!=typeof e||!e)return S(R);if(v.call(R,e))return R[e]}},H=function(){return{browser:x(i,["userAgent","platform","appName"]),flash:D(E,["bridge"]),zeroclipboard:{version:Pe.version,config:Pe.config()}}},B=function(){return!!(E.disabled||E.outdated||E.unavailable||E.deactivated)},W=function(e,t){
var a,n,r,o={};if("string"==typeof e&&e)r=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(a in e)v.call(e,a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&Pe.on(a,e[a]);if(r&&r.length){for(a=0,n=r.length;n>a;a++)e=r[a].replace(/^on/,""),o[e]=!0,O[e]||(O[e]=[]),O[e].push(t);if(o.ready&&E.ready&&Pe.emit({type:"ready"}),o.error){var i=["disabled","outdated","unavailable","deactivated","overdue"];for(a=0,n=i.length;n>a;a++)if(E[i[a]]===!0){Pe.emit({type:"error",name:"flash-"+i[a]});break}}}return Pe},V=function(e,t){var a,n,r,o,i;if(0===arguments.length)o=g(O);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(a in e)v.call(e,a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&Pe.off(a,e[a]);if(o&&o.length)for(a=0,n=o.length;n>a;a++)if(e=o[a].toLowerCase().replace(/^on/,""),i=O[e],i&&i.length)if(t)for(r=i.indexOf(t);-1!==r;)i.splice(r,1),r=i.indexOf(t,r);else i.length=0;return Pe},q=function(e){var t;return t="string"==typeof e&&e?S(O[e])||null:S(O)},z=function(e){var t,a,n;return e=ae(e),e&&!le(e)?"ready"===e.type&&E.overdue===!0?Pe.emit({type:"error",name:"flash-overdue"}):(t=w({},e),se.call(this,t),"copy"===e.type&&(n=he(j),a=n.data,N=n.formatMap),a):void 0},J=function(){if("boolean"!=typeof E.ready&&(E.ready=!1),!Pe.isFlashUnusable()&&null===E.bridge){var e=R.flashLoadTimeout;"number"==typeof e&&e>=0&&s(function(){"boolean"!=typeof E.deactivated&&(E.deactivated=!0),E.deactivated===!0&&Pe.emit({type:"error",name:"flash-deactivated"})},e),E.overdue=!1,ue()}},X=function(){Pe.clearData(),Pe.blur(),Pe.emit("destroy"),pe(),Pe.off()},G=function(e,t){var a;if("object"==typeof e&&e&&"undefined"==typeof t)a=e,Pe.clearData();else{if("string"!=typeof e||!e)return;a={},a[e]=t}for(var n in a)"string"==typeof n&&n&&v.call(a,n)&&"string"==typeof a[n]&&a[n]&&(j[n]=a[n])},Y=function(e){"undefined"==typeof e?(_(j),N=null):"string"==typeof e&&v.call(j,e)&&delete j[e]},K=function(e){return"undefined"==typeof e?S(j):"string"==typeof e&&v.call(j,e)?j[e]:void 0},Q=function(e){if(e&&1===e.nodeType){a&&(Se(a,R.activeClass),a!==e&&Se(a,R.hoverClass)),a=e,we(e,R.hoverClass);var t=e.getAttribute("title")||R.title;if("string"==typeof t&&t){var n=fe(E.bridge);n&&n.setAttribute("title",t)}var r=R.forceHandCursor===!0||"pointer"===xe(e,"cursor");Fe(r),Te()}},Z=function(){var e=fe(E.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.top="1px"),a&&(Se(a,R.hoverClass),Se(a,R.activeClass),a=null)},ee=function(){return a||null},te=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},ae=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){!e.target&&/^(copy|aftercopy|_click)$/.test(t.toLowerCase())&&(e.target=n),w(e,{type:t.toLowerCase(),target:e.target||a||null,relatedTarget:e.relatedTarget||null,currentTarget:E&&E.bridge||null,timeStamp:e.timeStamp||m()||null});var r=M[e.type];return"error"===e.type&&e.name&&r&&(r=r[e.name]),r&&(e.message=r),"ready"===e.type&&w(e,{target:null,version:E.version}),"error"===e.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(e.name)&&w(e,{target:null,minimumVersion:A}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(e.name)&&w(e,{version:E.version})),"copy"===e.type&&(e.clipboardData={setData:Pe.setData,clearData:Pe.clearData}),"aftercopy"===e.type&&(e=me(e,N)),e.target&&!e.relatedTarget&&(e.relatedTarget=ne(e.target)),e=re(e)}},ne=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?o.getElementById(t):null},re=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var a=e.target,n="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:t,i="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:t,s=_e(a),l=r.screenLeft||r.screenX||0,d=r.screenTop||r.screenY||0,c=o.body.scrollLeft+o.documentElement.scrollLeft,f=o.body.scrollTop+o.documentElement.scrollTop,u=s.left+("number"==typeof e._stageX?e._stageX:0),p=s.top+("number"==typeof e._stageY?e._stageY:0),h=u-c,m=p-f,g=l+h,v=d+m,b="number"==typeof e.movementX?e.movementX:0,y="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,w(e,{srcElement:a,fromElement:n,toElement:i,screenX:g,screenY:v,pageX:u,pageY:p,clientX:h,clientY:m,x:h,y:m,movementX:b,movementY:y,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},oe=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},ie=function(e,t,a,n){n?s(function(){e.apply(t,a)},0):e.apply(t,a)},se=function(e){if("object"==typeof e&&e&&e.type){var t=oe(e),a=O["*"]||[],n=O[e.type]||[],o=a.concat(n);if(o&&o.length){var i,s,l,d,c,f=this;for(i=0,s=o.length;s>i;i++)l=o[i],d=f,"string"==typeof l&&"function"==typeof r[l]&&(l=r[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(d=l,l=l.handleEvent),"function"==typeof l&&(c=w({},e),ie(l,d,[c],t))}return this}},le=function(e){var t=e.target||a||null,r="swf"===e._source;delete e._source;var o=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(e.type){case"error":-1!==o.indexOf(e.name)&&w(E,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1});break;case"ready":var i=E.deactivated===!0;w(E,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:i,ready:!i});break;case"beforecopy":n=t;break;case"copy":var s,l,d=e.relatedTarget;!j["text/html"]&&!j["text/plain"]&&d&&(l=d.value||d.outerHTML||d.innerHTML)&&(s=d.value||d.textContent||d.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",s),l!==s&&e.clipboardData.setData("text/html",l)):!j["text/plain"]&&e.target&&(s=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",s));break;case"aftercopy":Pe.clearData(),t&&t!==Ce()&&t.focus&&t.focus();break;case"_mouseover":Pe.focus(t),R.bubbleEvents===!0&&r&&(t&&t!==e.relatedTarget&&!T(e.relatedTarget,t)&&de(w({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),de(w({},e,{type:"mouseover"})));break;case"_mouseout":Pe.blur(),R.bubbleEvents===!0&&r&&(t&&t!==e.relatedTarget&&!T(e.relatedTarget,t)&&de(w({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),de(w({},e,{type:"mouseout"})));break;case"_mousedown":we(t,R.activeClass),R.bubbleEvents===!0&&r&&de(w({},e,{type:e.type.slice(1)}));break;case"_mouseup":Se(t,R.activeClass),R.bubbleEvents===!0&&r&&de(w({},e,{type:e.type.slice(1)}));break;case"_click":n=null,R.bubbleEvents===!0&&r&&de(w({},e,{type:e.type.slice(1)}));break;case"_mousemove":R.bubbleEvents===!0&&r&&de(w({},e,{type:e.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)?!0:void 0},de=function(e){if(e&&"string"==typeof e.type&&e){var t,a=e.target||null,n=a&&a.ownerDocument||o,i={view:n.defaultView||r,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:n.createEvent?0:1},s=w(i,e);a&&n.createEvent&&a.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],t=n.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,s),t._source="js",a.dispatchEvent(t)))}},ce=function(){var e=o.createElement("div");return e.id=R.containerId,e.className=R.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+Ie(R.zIndex),e},fe=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},ue=function(){var e,t=E.bridge,a=fe(t);if(!t){var n=ye(r.location.host,R),i="never"===n?"none":"all",s=ve(R),l=R.swfPath+ge(R.swfPath,R);a=ce();var d=o.createElement("div");a.appendChild(d),o.body.appendChild(a);var c=o.createElement("div"),f="activex"===E.pluginType;c.innerHTML='<object id="'+R.swfObjectId+'" name="'+R.swfObjectId+'" width="100%" height="100%" '+(f?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(f?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+n+'"/><param name="allowNetworking" value="'+i+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/></object>',t=c.firstChild,c=null,y(t).ZeroClipboard=Pe,a.replaceChild(t,d)}return t||(t=o[R.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&a&&(t=a.firstChild)),E.bridge=t||null,t},pe=function(){var e=E.bridge;if(e){var t=fe(e);t&&("activex"===E.pluginType&&"readyState"in e?(e.style.display="none",function a(){if(4===e.readyState){for(var n in e)"function"==typeof e[n]&&(e[n]=null);e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t)}else s(a,10)}()):(e.parentNode&&e.parentNode.removeChild(e),t.parentNode&&t.parentNode.removeChild(t))),E.ready=null,E.bridge=null,E.deactivated=null}},he=function(e){var t={},a={};if("object"==typeof e&&e){for(var n in e)if(n&&v.call(e,n)&&"string"==typeof e[n]&&e[n])switch(n.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[n],a.text=n;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[n],a.html=n;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[n],a.rtf=n}return{data:t,formatMap:a}}},me=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var a={};for(var n in e)if(v.call(e,n)){if("success"!==n&&"data"!==n){a[n]=e[n];continue}a[n]={};var r=e[n];for(var o in r)o&&v.call(r,o)&&v.call(t,o)&&(a[n][t[o]]=r[o])}return a},ge=function(e,t){var a=null==t||t&&t.cacheBust===!0;return a?(-1===e.indexOf("?")?"?":"&")+"noCache="+m():""},ve=function(e){var t,a,n,o,i="",s=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?o=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(o=e.trustedDomains)),o&&o.length)for(t=0,a=o.length;a>t;t++)if(v.call(o,t)&&o[t]&&"string"==typeof o[t]){if(n=be(o[t]),!n)continue;if("*"===n){s.length=0,s.push(n);break}s.push.apply(s,[n,"//"+n,r.location.protocol+"//"+n])}return s.length&&(i+="trustedOrigins="+l(s.join(","))),e.forceEnhancedClipboard===!0&&(i+=(i?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(i+=(i?"&":"")+"swfObjectId="+l(e.swfObjectId)),i},be=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var a=e.indexOf("/");return e=-1===a?e:-1===t||0===a?null:e.slice(0,a),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},ye=function(){var e=function(e){var t,a,n,r=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return r;for(t=0,a=e.length;a>t;t++)if(v.call(e,t)&&(n=be(e[t]))){if("*"===n){r.length=0,r.push("*");break}-1===r.indexOf(n)&&r.push(n)}return r};return function(t,a){var n=be(a.swfPath);null===n&&(n=t);var r=e(a.trustedDomains),o=r.length;if(o>0){if(1===o&&"*"===r[0])return"always";if(-1!==r.indexOf(t))return 1===o&&t===n?"sameDomain":"always"}return"never"}}(),Ce=function(){try{return o.activeElement}catch(e){return null}},we=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var a=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var n=" "+e.className+" ",r=e.className,o=0,i=a.length;i>o;o++)n.indexOf(" "+a[o]+" ")<0&&(r+=" "+a[o]);e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},Se=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if("string"==typeof t&&t){var a=t.split(/\s+/);if(1===e.nodeType&&e.className){for(var n=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,o=a.length;o>r;r++)n=n.replace(" "+a[r]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}return e},xe=function(e,t){var a=r.getComputedStyle(e,null).getPropertyValue(t);return"cursor"!==t||a&&"auto"!==a||"A"!==e.nodeName?a:"pointer"},De=function(){var e,t,a,n=1;return"function"==typeof o.body.getBoundingClientRect&&(e=o.body.getBoundingClientRect(),t=e.right-e.left,a=o.body.offsetWidth,n=h(t/a*100)/100),n},_e=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var a,n,i,s=e.getBoundingClientRect();"pageXOffset"in r&&"pageYOffset"in r?(a=r.pageXOffset,n=r.pageYOffset):(i=De(),a=h(o.documentElement.scrollLeft/i),n=h(o.documentElement.scrollTop/i));var l=o.documentElement.clientLeft||0,d=o.documentElement.clientTop||0;t.left=s.left+a-l,t.top=s.top+n-d,t.width="width"in s?s.width:s.right-s.left,t.height="height"in s?s.height:s.bottom-s.top}return t},Te=function(){var e;if(a&&(e=fe(E.bridge))){var t=_e(a);w(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+Ie(R.zIndex)})}},Fe=function(e){E.ready===!0&&(E.bridge&&"function"==typeof E.bridge.setHandCursor?E.bridge.setHandCursor(e):E.ready=!1)},Ie=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||p(e)?"string"==typeof e&&(t=Ie(f(e,10))):t=e,"number"==typeof t?t:"auto"},ke=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function a(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function n(e){e&&(l=!0,e.version&&(f=t(e.version)),!f&&e.description&&(f=t(e.description)),e.filename&&(c=a(e.filename)))}var r,o,s,l=!1,d=!1,c=!1,f="";if(i.plugins&&i.plugins.length)r=i.plugins["Shockwave Flash"],n(r),i.plugins["Shockwave Flash 2.0"]&&(l=!0,f="2.0.0.11");else if(i.mimeTypes&&i.mimeTypes.length)s=i.mimeTypes["application/x-shockwave-flash"],r=s&&s.enabledPlugin,n(r);else if("undefined"!=typeof e){d=!0;try{o=new e("ShockwaveFlash.ShockwaveFlash.7"),l=!0,f=t(o.GetVariable("$version"))}catch(p){try{o=new e("ShockwaveFlash.ShockwaveFlash.6"),l=!0,f="6.0.21"}catch(h){try{o=new e("ShockwaveFlash.ShockwaveFlash"),l=!0,f=t(o.GetVariable("$version"))}catch(m){d=!1}}}}E.disabled=l!==!0,E.outdated=f&&u(f)<u(A),E.version=f||"0.0.0",E.pluginType=c?"pepper":d?"activex":l?"netscape":"unknown"};ke(d);var Pe=function(){return this instanceof Pe?void("function"==typeof Pe._createClient&&Pe._createClient.apply(this,C(arguments))):new Pe};Pe.config=function(){return U.apply(this,C(arguments))},Pe.state=function(){return H.apply(this,C(arguments))},Pe.isFlashUnusable=function(){return B.apply(this,C(arguments))},Pe.on=function(){return W.apply(this,C(arguments))},Pe.off=function(){return V.apply(this,C(arguments))},Pe.handlers=function(){return q.apply(this,C(arguments))},Pe.emit=function(){return z.apply(this,C(arguments))},Pe.create=function(){return J.apply(this,C(arguments))},Pe.destroy=function(){return X.apply(this,C(arguments))},Pe.setData=function(){return G.apply(this,C(arguments))},Pe.clearData=function(){return Y.apply(this,C(arguments))},Pe.getData=function(){return K.apply(this,C(arguments))},Pe.focus=Pe.activate=function(){return Q.apply(this,C(arguments))},Pe.blur=Pe.deactivate=function(){return Z.apply(this,C(arguments))},Pe.activeElement=function(){return ee.apply(this,C(arguments))};var $e=0,Le={},Ee=0,Ae={},Oe={};w(R,{autoActivate:!0});var je=function(e){var t=this;t.id=""+$e++,Le[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Pe.on("*",function(e){return t.emit(e)}),Pe.on("destroy",function(){t.destroy()}),Pe.create()},Ne=function(e,t){var a,n,r,o={},i=Le[this.id]&&Le[this.id].handlers;if("string"==typeof e&&e)r=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(a in e)v.call(e,a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&this.on(a,e[a]);if(r&&r.length){for(a=0,n=r.length;n>a;a++)e=r[a].replace(/^on/,""),o[e]=!0,i[e]||(i[e]=[]),i[e].push(t);if(o.ready&&E.ready&&this.emit({type:"ready",client:this}),o.error){var s=["disabled","outdated","unavailable","deactivated","overdue"];for(a=0,n=s.length;n>a;a++)if(E[s[a]]){this.emit({type:"error",name:"flash-"+s[a],client:this});break}}}return this},Me=function(e,t){var a,n,r,o,i,s=Le[this.id]&&Le[this.id].handlers;if(0===arguments.length)o=g(s);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(a in e)v.call(e,a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&this.off(a,e[a]);if(o&&o.length)for(a=0,n=o.length;n>a;a++)if(e=o[a].toLowerCase().replace(/^on/,""),i=s[e],i&&i.length)if(t)for(r=i.indexOf(t);-1!==r;)i.splice(r,1),r=i.indexOf(t,r);else i.length=0;return this},Re=function(e){var t=null,a=Le[this.id]&&Le[this.id].handlers;return a&&(t="string"==typeof e&&e?a[e]?a[e].slice(0):[]:S(a)),t},Ue=function(e){if(qe.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=w({},e));var t=w({},ae(e),{client:this});ze.call(this,t)}return this},He=function(e){e=Je(e);for(var t=0;t<e.length;t++)if(v.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===Ae[e[t].zcClippingId].indexOf(this.id)&&Ae[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Ee++,Ae[e[t].zcClippingId]=[this.id],R.autoActivate===!0&&Xe(e[t]));var a=Le[this.id]&&Le[this.id].elements;-1===a.indexOf(e[t])&&a.push(e[t])}return this},Be=function(e){var t=Le[this.id];if(!t)return this;var a,n=t.elements;e="undefined"==typeof e?n.slice(0):Je(e);for(var r=e.length;r--;)if(v.call(e,r)&&e[r]&&1===e[r].nodeType){for(a=0;-1!==(a=n.indexOf(e[r],a));)n.splice(a,1);var o=Ae[e[r].zcClippingId];if(o){for(a=0;-1!==(a=o.indexOf(this.id,a));)o.splice(a,1);0===o.length&&(R.autoActivate===!0&&Ge(e[r]),delete e[r].zcClippingId)}}return this},We=function(){var e=Le[this.id];return e&&e.elements?e.elements.slice(0):[]},Ve=function(){this.unclip(),this.off(),delete Le[this.id]},qe=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=Le[this.id]&&Le[this.id].elements,a=!!t&&t.length>0,n=!e.target||a&&-1!==t.indexOf(e.target),r=e.relatedTarget&&a&&-1!==t.indexOf(e.relatedTarget),o=e.client&&e.client===this;return!!(n||r||o)},ze=function(e){if("object"==typeof e&&e&&e.type){var t=oe(e),a=Le[this.id]&&Le[this.id].handlers["*"]||[],n=Le[this.id]&&Le[this.id].handlers[e.type]||[],o=a.concat(n);if(o&&o.length){var i,s,l,d,c,f=this;for(i=0,s=o.length;s>i;i++)l=o[i],d=f,"string"==typeof l&&"function"==typeof r[l]&&(l=r[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(d=l,l=l.handleEvent),"function"==typeof l&&(c=w({},e),ie(l,d,[c],t))}return this}},Je=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},Xe=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=r.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},a=function(a){(a||(a=r.event))&&(t(a),Pe.focus(e))};e.addEventListener("mouseover",a,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),Oe[e.zcClippingId]={mouseover:a,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},Ge=function(e){if(e&&1===e.nodeType){var t=Oe[e.zcClippingId];if("object"==typeof t&&t){for(var a,n,r=["move","leave","enter","out","over"],o=0,i=r.length;i>o;o++)a="mouse"+r[o],n=t[a],"function"==typeof n&&e.removeEventListener(a,n,!1);delete Oe[e.zcClippingId]}}};Pe._createClient=function(){je.apply(this,C(arguments))},Pe.prototype.on=function(){return Ne.apply(this,C(arguments))},Pe.prototype.off=function(){return Me.apply(this,C(arguments))},Pe.prototype.handlers=function(){return Re.apply(this,C(arguments))},Pe.prototype.emit=function(){return Ue.apply(this,C(arguments))},Pe.prototype.clip=function(){return He.apply(this,C(arguments))},Pe.prototype.unclip=function(){return Be.apply(this,C(arguments))},Pe.prototype.elements=function(){return We.apply(this,C(arguments))},Pe.prototype.destroy=function(){return Ve.apply(this,C(arguments))},Pe.prototype.setText=function(e){return Pe.setData("text/plain",e),this},Pe.prototype.setHtml=function(e){return Pe.setData("text/html",e),this},Pe.prototype.setRichText=function(e){return Pe.setData("application/rtf",e),this},Pe.prototype.setData=function(){return Pe.setData.apply(this,C(arguments)),this},Pe.prototype.clearData=function(){return Pe.clearData.apply(this,C(arguments)),this},Pe.prototype.getData=function(){return Pe.getData.apply(this,C(arguments))},"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Pe:e.ZeroClipboard=Pe}(function(){return this||window}()),function(e,t,a){"use strict";t.module("ngClipboard",[]).provider("ngClip",function(){var e=this;return this.path="/vmf/m/components/zeroClipboard/swf/ZeroClipboard.swf",{setPath:function(t){e.path=t},setConfig:function(t){e.config=t},$get:function(){return{path:e.path,config:e.config}}}}).run(["ngClip",function(e){var a={swfPath:e.path,trustedDomains:["*"],allowScriptAccess:"always",forceHandCursor:!0};ZeroClipboard.config(t.extend(a,e.config||{}))}]).directive("clipCopy",["ngClip",function(e){return{scope:{clipCopy:"&",clipClick:"&",clipClickFallback:"&"},restrict:"A",link:function(e,a,n){if(ZeroClipboard.isFlashUnusable())return void a.bind("click",function(t){e.$apply(e.clipClickFallback({$event:t,copy:e.$eval(e.clipCopy)}))});var r=new ZeroClipboard(a);""===n.clipCopy&&(e.clipCopy=function(e){return a[0].previousElementSibling.innerText}),r.on("ready",function(a){r.on("copy",function(t){var a=t.clipboardData;a.setData(n.clipCopyMimeType||"text/plain",e.$eval(e.clipCopy))}),r.on("aftercopy",function(a){t.isDefined(n.clipClick)&&e.$apply(e.clipClick)}),e.$on("$destroy",function(){r.destroy()})})}}}])}(window,window.angular);